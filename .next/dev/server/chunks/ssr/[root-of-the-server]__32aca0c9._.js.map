{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 28, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Administrator/Downloads/RecycleYuk-revision/RecycleYuk/RecycleYuk/src/utils/enhancedHelpers.js"],"sourcesContent":["// Helper functions untuk enhance existing features di RecycleYuk\r\n\r\nimport { createClient } from '@supabase/supabase-js';\r\n\r\nconst supabase = createClient(process.env.NEXT_PUBLIC_SUPABASE_URL, process.env.NEXT_PUBLIC_SUPABASE_ANON_KEY);\r\n\r\n// Enhanced Reward Points Calculation\r\nexport const calculateRewardPoints = (totalWeight) => {\r\n    const basePoints = Math.floor(totalWeight * 10); // 10 poin per kg\r\n\r\n    // Bonus untuk milestone\r\n    let bonus = 0;\r\n    if (totalWeight >= 100) bonus += 500; // Bonus 500 poin untuk 100kg+\r\n    if (totalWeight >= 50) bonus += 200;  // Bonus 200 poin untuk 50kg+\r\n    if (totalWeight >= 20) bonus += 50;   // Bonus 50 poin untuk 20kg+\r\n\r\n    return basePoints + bonus;\r\n};\r\n\r\n// Get Reward Badge based on points\r\nexport const getRewardBadge = (points) => {\r\n    if (points >= 5000) return { level: 'Diamond', color: 'bg-purple-500', icon: 'ðŸ’Ž' };\r\n    if (points >= 2000) return { level: 'Gold', color: 'bg-yellow-500', icon: 'ðŸ¥‡' };\r\n    if (points >= 1000) return { level: 'Silver', color: 'bg-gray-400', icon: 'ðŸ¥ˆ' };\r\n    if (points >= 500) return { level: 'Bronze', color: 'bg-orange-600', icon: 'ðŸ¥‰' };\r\n    return { level: 'Starter', color: 'bg-green-500', icon: 'ðŸŒ±' };\r\n};\r\n\r\n// Format Rupiah Currency\r\nexport const formatRupiah = (amount) => {\r\n    return new Intl.NumberFormat('id-ID', {\r\n        style: 'currency',\r\n        currency: 'IDR',\r\n        minimumFractionDigits: 0,\r\n        maximumFractionDigits: 0\r\n    }).format(amount);\r\n};\r\n\r\n// Calculate Driver Earnings\r\nexport const calculateDriverEarnings = (transactions) => {\r\n    const completedTransactions = transactions.filter(t => t.status === 'done');\r\n\r\n    const earnings = {\r\n        today: 0,\r\n        thisWeek: 0,\r\n        thisMonth: 0,\r\n        total: 0,\r\n        transactionCount: completedTransactions.length\r\n    };\r\n\r\n    const now = new Date();\r\n    const todayStart = new Date(now.setHours(0, 0, 0, 0));\r\n    const weekStart = new Date(now.setDate(now.getDate() - now.getDay()));\r\n    const monthStart = new Date(now.getFullYear(), now.getMonth(), 1);\r\n\r\n    completedTransactions.forEach(t => {\r\n        const transactionDate = new Date(t.created_at);\r\n        const earning = (t.total_price || 0) * 0.15; // Driver gets 15% of each transaction\r\n\r\n        earnings.total += earning;\r\n\r\n        if (transactionDate >= todayStart) {\r\n            earnings.today += earning;\r\n        }\r\n        if (transactionDate >= weekStart) {\r\n            earnings.thisWeek += earning;\r\n        }\r\n        if (transactionDate >= monthStart) {\r\n            earnings.thisMonth += earning;\r\n        }\r\n    });\r\n\r\n    return earnings;\r\n};\r\n\r\n// Enhanced Statistics Calculation\r\nexport const calculateEnhancedStats = (transactions, userRole) => {\r\n    const stats = {\r\n        total: transactions.length,\r\n        pending: transactions.filter(t => t.status === 'Pending').length,\r\n        inProgress: transactions.filter(t => t.status === 'In Progress').length,\r\n        completed: transactions.filter(t => t.status === 'done').length,\r\n        totalWeight: transactions.reduce((sum, t) => sum + (Number(t.weight) || 0), 0),\r\n        totalRevenue: transactions.reduce((sum, t) => sum + (t.total_price || 0), 0)\r\n    };\r\n\r\n    // Calculate trend (last 7 days vs previous 7 days)\r\n    const now = new Date();\r\n    const sevenDaysAgo = new Date(now.getTime() - 7 * 24 * 60 * 60 * 1000);\r\n    const fourteenDaysAgo = new Date(now.getTime() - 14 * 24 * 60 * 60 * 1000);\r\n\r\n    const recentTransactions = transactions.filter(t => new Date(t.created_at) >= sevenDaysAgo);\r\n    const previousTransactions = transactions.filter(t => {\r\n        const date = new Date(t.created_at);\r\n        return date >= fourteenDaysAgo && date < sevenDaysAgo;\r\n    });\r\n\r\n    stats.trend = {\r\n        transactions: recentTransactions.length - previousTransactions.length,\r\n        weight: recentTransactions.reduce((sum, t) => sum + (Number(t.weight) || 0), 0) -\r\n            previousTransactions.reduce((sum, t) => sum + (Number(t.weight) || 0), 0)\r\n    };\r\n\r\n    return stats;\r\n};\r\n\r\n// Export Report Data\r\nexport const exportToExcel = async (data, filename) => {\r\n    try {\r\n        // Convert data to CSV format\r\n        const headers = Object.keys(data[0] || {});\r\n        const csvContent = [\r\n            headers.join(','),\r\n            ...data.map(row => headers.map(header => `\"${row[header] || ''}\"`).join(','))\r\n        ].join('\\n');\r\n\r\n        // Create blob and download\r\n        const blob = new Blob([csvContent], { type: 'text/csv;charset=utf-8;' });\r\n        const link = document.createElement('a');\r\n        const url = URL.createObjectURL(blob);\r\n\r\n        link.setAttribute('href', url);\r\n        link.setAttribute('download', `${filename}_${new Date().toISOString().split('T')[0]}.csv`);\r\n        link.style.visibility = 'hidden';\r\n        document.body.appendChild(link);\r\n        link.click();\r\n        document.body.removeChild(link);\r\n\r\n        return true;\r\n    } catch (error) {\r\n        console.error('Export error:', error);\r\n        return false;\r\n    }\r\n};\r\n\r\n// Real-time Notification Helper\r\nexport const sendNotification = async (userId, title, message, type = 'info') => {\r\n    try {\r\n        const { error } = await supabase.from('notifications').insert({\r\n            profile_id: userId,\r\n            title,\r\n            message,\r\n            type,\r\n            is_read: false\r\n        });\r\n\r\n        if (error) throw error;\r\n        return true;\r\n    } catch (error) {\r\n        console.error('Notification error:', error);\r\n        return false;\r\n    }\r\n};\r\n\r\n// Validate NIK (Indonesian ID Number)\r\nexport const validateNIK = (nik) => {\r\n    return /^\\d{16}$/.test(nik);\r\n};\r\n\r\n// Validate Phone Number (Indonesian)\r\nexport const validatePhone = (phone) => {\r\n    return /^(\\+62|62|0)[0-9]{9,12}$/.test(phone);\r\n};\r\n\r\n// Get Status Color Class\r\nexport const getStatusColor = (status) => {\r\n    const statusLower = (status || '').toLowerCase();\r\n\r\n    const colorMap = {\r\n        'done': 'bg-green-100 text-green-700 border-green-300',\r\n        'selesai': 'bg-green-100 text-green-700 border-green-300',\r\n        'resolved': 'bg-green-100 text-green-700 border-green-300',\r\n        'in progress': 'bg-blue-100 text-blue-700 border-blue-300',\r\n        'proses': 'bg-blue-100 text-blue-700 border-blue-300',\r\n        'pending': 'bg-yellow-100 text-yellow-700 border-yellow-300',\r\n        'menunggu': 'bg-yellow-100 text-yellow-700 border-yellow-300',\r\n        'canceled': 'bg-red-100 text-red-700 border-red-300',\r\n        'dibatalkan': 'bg-red-100 text-red-700 border-red-300'\r\n    };\r\n\r\n    return colorMap[statusLower] || 'bg-gray-100 text-gray-700 border-gray-300';\r\n};\r\n\r\n// Calculate Distance between two coordinates (Haversine formula)\r\nexport const calculateDistance = (lat1, lon1, lat2, lon2) => {\r\n    const R = 6371; // Radius of the Earth in km\r\n    const dLat = (lat2 - lat1) * Math.PI / 180;\r\n    const dLon = (lon2 - lon1) * Math.PI / 180;\r\n\r\n    const a =\r\n        Math.sin(dLat / 2) * Math.sin(dLat / 2) +\r\n        Math.cos(lat1 * Math.PI / 180) * Math.cos(lat2 * Math.PI / 180) *\r\n        Math.sin(dLon / 2) * Math.sin(dLon / 2);\r\n\r\n    const c = 2 * Math.atan2(Math.sqrt(a), Math.sqrt(1 - a));\r\n    const distance = R * c; // Distance in km\r\n\r\n    return distance.toFixed(2);\r\n};\r\n\r\n// Estimate Time of Arrival based on distance\r\nexport const estimateETA = (distanceInKm) => {\r\n    const avgSpeed = 30; // km/h average speed in city\r\n    const timeInHours = distanceInKm / avgSpeed;\r\n    const timeInMinutes = Math.ceil(timeInHours * 60);\r\n\r\n    if (timeInMinutes < 60) {\r\n        return `${timeInMinutes} Menit`;\r\n    } else {\r\n        const hours = Math.floor(timeInMinutes / 60);\r\n        const minutes = timeInMinutes % 60;\r\n        return `${hours} Jam ${minutes} Menit`;\r\n    }\r\n};\r\n\r\n// Generate Random Color for Charts\r\nexport const generateChartColors = (count) => {\r\n    const colors = [\r\n        '#10b981', '#3b82f6', '#f59e0b', '#ef4444', '#8b5cf6',\r\n        '#ec4899', '#14b8a6', '#f97316', '#6366f1', '#84cc16'\r\n    ];\r\n\r\n    return Array.from({ length: count }, (_, i) => colors[i % colors.length]);\r\n};\r\n\r\n// Filter Transactions by Date Range\r\nexport const filterByDateRange = (transactions, startDate, endDate) => {\r\n    if (!startDate || !endDate) return transactions;\r\n\r\n    const start = new Date(startDate);\r\n    const end = new Date(endDate);\r\n    end.setHours(23, 59, 59, 999); // Include entire end day\r\n\r\n    return transactions.filter(t => {\r\n        const transactionDate = new Date(t.created_at);\r\n        return transactionDate >= start && transactionDate <= end;\r\n    });\r\n};\r\n\r\n// Group Transactions by Period\r\nexport const groupByPeriod = (transactions, period = 'day') => {\r\n    const groups = {};\r\n\r\n    transactions.forEach(t => {\r\n        const date = new Date(t.created_at);\r\n        let key;\r\n\r\n        switch (period) {\r\n            case 'hour':\r\n                key = `${date.getFullYear()}-${date.getMonth() + 1}-${date.getDate()} ${date.getHours()}:00`;\r\n                break;\r\n            case 'day':\r\n                key = `${date.getFullYear()}-${date.getMonth() + 1}-${date.getDate()}`;\r\n                break;\r\n            case 'week':\r\n                const weekNum = Math.ceil(date.getDate() / 7);\r\n                key = `${date.getFullYear()}-${date.getMonth() + 1} Week ${weekNum}`;\r\n                break;\r\n            case 'month':\r\n                key = `${date.getFullYear()}-${date.getMonth() + 1}`;\r\n                break;\r\n            case 'year':\r\n                key = `${date.getFullYear()}`;\r\n                break;\r\n            default:\r\n                key = date.toISOString().split('T')[0];\r\n        }\r\n\r\n        if (!groups[key]) {\r\n            groups[key] = [];\r\n        }\r\n        groups[key].push(t);\r\n    });\r\n\r\n    return groups;\r\n};\r\n\r\n// Upload Avatar Helper\r\nexport const uploadAvatar = async (file, userId) => {\r\n    try {\r\n        const fileExt = file.name.split('.').pop();\r\n        const fileName = `${userId}-${Date.now()}.${fileExt}`;\r\n        const filePath = `${fileName}`;\r\n\r\n        const { error: uploadError } = await supabase.storage\r\n            .from('avatars')\r\n            .upload(filePath, file);\r\n\r\n        if (uploadError) {\r\n            throw uploadError;\r\n        }\r\n\r\n        const { data: { publicUrl } } = supabase.storage\r\n            .from('avatars')\r\n            .getPublicUrl(filePath);\r\n\r\n        return publicUrl;\r\n    } catch (error) {\r\n        console.error('Error uploading avatar:', error);\r\n        throw error;\r\n    }\r\n};\r\n\r\nexport default {\r\n    uploadAvatar,\r\n    calculateRewardPoints,\r\n    getRewardBadge,\r\n    formatRupiah,\r\n    calculateDriverEarnings,\r\n    calculateEnhancedStats,\r\n    exportToExcel,\r\n    sendNotification,\r\n    validateNIK,\r\n    validatePhone,\r\n    getStatusColor,\r\n    calculateDistance,\r\n    estimateETA,\r\n    generateChartColors,\r\n    filterByDateRange,\r\n    groupByPeriod,\r\n    uploadAvatar\r\n};\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 349, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Administrator/Downloads/RecycleYuk-revision/RecycleYuk/RecycleYuk/src/app/dashboard/admin/page.js"],"sourcesContent":["'use client';\n\nimport { useState, useEffect } from 'react';\nimport { useRouter } from 'next/navigation';\nimport { createClient } from '@supabase/supabase-js';\nimport {\n    LayoutDashboard, Users, Truck, MapPin, FileText, Wallet, Settings,\n    Bell, Search, Plus, Edit, Trash2, CheckCircle, X, ChevronLeft, ChevronRight,\n    Clock, User, LogOut, Shield, Mail, Menu, Filter, Download, Save,\n    AlertCircle, CheckCheck, Loader2, PlayCircle, BookOpen, ArrowRight, Lock,\n    CreditCard, Recycle, CheckCircle2 // Icon baru untuk pembayaran + Recycle\n} from 'lucide-react';\nimport { exportToExcel, formatRupiah, uploadAvatar } from '@/utils/enhancedHelpers';\nimport Swal from 'sweetalert2';\n\n// --- INISIALISASI SUPABASE ---\nconst supabase = createClient(\n    process.env.NEXT_PUBLIC_SUPABASE_URL,\n    process.env.NEXT_PUBLIC_SUPABASE_ANON_KEY\n);\n\nexport default function AdminDashboard() {\n    const router = useRouter();\n\n    // --- 1. STATE MANAGEMENT ---\n    const [mounted, setMounted] = useState(false);\n    const [loading, setLoading] = useState(true);\n    const [currentTime, setCurrentTime] = useState('');\n    const [isSidebarOpen, setIsSidebarOpen] = useState(true);\n    const [activePage, setActivePage] = useState('dashboard');\n\n    // Data States\n    const [currentUser, setCurrentUser] = useState(null);\n    const [users, setUsers] = useState([]);\n    const [drivers, setDrivers] = useState([]);\n    const [areas, setAreas] = useState([]);\n    const [transactions, setTransactions] = useState([]);\n    const [pickups, setPickups] = useState([]);\n    const [notifications, setNotifications] = useState([]);\n\n    // Filter & UI States\n    const [searchQuery, setSearchQuery] = useState('');\n    const [filterCategory, setFilterCategory] = useState('All');\n    const [financeStats, setFinanceStats] = useState({ income: 0, expense: 0 });\n    const [reportFilter, setReportFilter] = useState({ date: '', status: 'All' });\n\n    // Settings State\n    const [settings, setSettings] = useState({\n        tariff: 15000,\n        opStart: '08:00',\n        opEnd: '17:00',\n        emailNotif: true\n    });\n\n    // Modal States\n    const [isModalOpen, setIsModalOpen] = useState(false);\n    const [modalType, setModalType] = useState('');\n    const [editingItem, setEditingItem] = useState(null);\n    const [formData, setFormData] = useState({});\n\n    // --- 2. MENU CONFIGURATION ---\n    const SIDEBAR_MENUS = [\n        { id: 'dashboard', label: 'Ringkasan', icon: LayoutDashboard },\n        { id: 'users', label: 'Manajemen User', icon: Users },\n        { id: 'drivers', label: 'Manajemen Driver', icon: Truck },\n        { id: 'pickups', label: 'Pengangkutan', icon: Trash2 },\n        { id: 'areas', label: 'Wilayah', icon: MapPin },\n        { id: 'reports', label: 'Laporan', icon: FileText },\n        { id: 'finance', label: 'Keuangan', icon: Wallet },\n        { id: 'settings', label: 'Pengaturan Sistem', icon: Settings },\n    ];\n\n    // --- 3. CORE LOGIC & EFFECTS ---\n    useEffect(() => {\n        setMounted(true);\n        const timer = setInterval(() => {\n            setCurrentTime(new Date().toLocaleTimeString('id-ID', { hour: '2-digit', minute: '2-digit' }));\n        }, 1000);\n\n        // --- TAMBAHAN: Load Midtrans Snap Script (Sandbox) ---\n        const snapScript = \"https://app.sandbox.midtrans.com/snap/snap.js\";\n        const clientKey = process.env.NEXT_PUBLIC_MIDTRANS_CLIENT_KEY || \"SB-Mid-client-XXXXXX\"; // Ganti dengan Client Key Anda\n\n        const script = document.createElement('script');\n        script.src = snapScript;\n        script.setAttribute('data-client-key', clientKey);\n        script.async = true;\n        document.body.appendChild(script);\n\n        fetchAllData();\n\n        return () => {\n            clearInterval(timer);\n            document.body.removeChild(script);\n        };\n    }, []);\n\n    const fetchAllData = async () => {\n        setLoading(true);\n        try {\n            // A. User Profile (Admin)\n            const { data: { user } } = await supabase.auth.getUser();\n            if (!user) { router.push('/login'); return; }\n\n            const { data: profile } = await supabase.from('profiles').select('*').eq('id', user.id).single();\n            setCurrentUser({ ...user, ...profile, newPassword: '' });\n\n            // B. App Settings\n            const { data: settingData } = await supabase.from('app_settings').select('*').single();\n            if (settingData) {\n                setSettings({\n                    tariff: settingData.tariff_per_kg,\n                    opStart: settingData.operational_start,\n                    opEnd: settingData.operational_end,\n                    emailNotif: settingData.email_notification\n                });\n            }\n\n            // C. Notifications\n            const { data: notifData } = await supabase.from('notifications').select('*').order('created_at', { ascending: false });\n            if (notifData) setNotifications(notifData);\n\n            // D. Data Master\n            const { data: userData } = await supabase.from('profiles').select('*').order('created_at', { ascending: false });\n            if (userData) setUsers(userData);\n\n            const { data: driverData } = await supabase.from('drivers').select('*').order('created_at', { ascending: false });\n            if (driverData) setDrivers(driverData);\n\n            const { data: areaData } = await supabase.from('areas').select('*, drivers(name)').order('created_at', { ascending: false });\n            if (areaData) setAreas(areaData);\n\n            const { data: trxData } = await supabase.from('transactions')\n                .select('*, profiles(full_name, address), waste_types(name)')\n                .order('created_at', { ascending: false });\n\n            if (trxData) {\n                setTransactions(trxData);\n                const mappedPickups = trxData.map(item => ({\n                    id: item.id,\n                    date: new Date(item.created_at).toLocaleDateString('id-ID'),\n                    user: item.profiles?.full_name || 'Tanpa Nama',\n                    area: item.profiles?.address || 'Belum ada alamat',\n                    type: item.waste_types?.name || 'Umum',\n                    weight: item.weight,\n                    weightLabel: `${item.weight} kg`,\n                    status: item.status,\n                    driver: item.driver_name || '-',\n                    price: item.total_price\n                }));\n                setPickups(mappedPickups);\n\n                // Hitung Keuangan\n                const totalIncome = trxData.reduce((acc, curr) => acc + (curr.total_price || 0), 0);\n                setFinanceStats({ income: totalIncome, expense: totalIncome * 0.3 });\n            }\n\n        } catch (err) {\n            console.error(\"Error fetching data:\", err);\n        } finally {\n            setLoading(false);\n        }\n    };\n\n    // --- 4. HANDLERS (CRUD & ACTIONS) ---\n\n    const handleLogout = async () => { await supabase.auth.signOut(); router.push('/login'); };\n\n    // --- EXPORT EXCEL HANDLER ---\n    const handleExportExcel = async (data) => {\n        if (!data || data.length === 0) {\n            Swal.fire('Info', 'Tidak ada data untuk diexport', 'info');\n            return;\n        }\n\n        const exportData = data.map(r => ({\n            'Tanggal': r.date || '-',\n            'User': r.user || '-',\n            'Wilayah': r.area || '-',\n            'Berat': r.weightLabel || '-',\n            'Driver': r.driver || '-',\n            'Status': r.status\n        }));\n\n        const success = await exportToExcel(exportData, 'laporan_admin');\n        if (success) {\n            Swal.fire('Sukses', 'Laporan berhasil diexport ke CSV!', 'success');\n        } else {\n            Swal.fire('Gagal', 'Gagal export laporan', 'error');\n        }\n    };\n\n    // --- TAMBAHAN: Handler Pembayaran Midtrans ---\n    const handlePayment = async (pickupItem) => {\n        // Cek apakah Snap sudah terload\n        if (!window.snap) {\n            Swal.fire('Loading', 'Sistem pembayaran sedang dimuat, coba sesaat lagi.', 'info');\n            return;\n        }\n\n        // CATATAN PENTING UNTUK DEVELOPER:\n        // Di aplikasi nyata, Anda TIDAK BOLEH menaruh Server Key di frontend.\n        // Anda harus membuat API route (backend) yang me-request Token ke Midtrans,\n        // lalu mengirim Token tersebut ke frontend.\n\n        // Simulasi Logika:\n        try {\n            // 1. Panggil API Backend Anda untuk mendapatkan SNAP TOKEN\n            // const response = await fetch('/api/midtrans/token', { body: JSON.stringify(pickupItem) });\n            // const { token } = await response.json();\n\n            // KARENA INI HANYA CONTOH FRONTEND TANPA BACKEND API ROUTE:\n            // Kita akan tampilkan alert simulasi.\n            const dummyToken = prompt(\"Masukkan Snap Token (Didapat dari Backend Anda):\", \"Masukan_Token_Disini\");\n\n            if (dummyToken && dummyToken !== \"Masukan_Token_Disini\") {\n                window.snap.pay(dummyToken, {\n                    onSuccess: async function (result) {\n                        Swal.fire('Berhasil', 'Pembayaran Berhasil!', 'success');\n                        // Update status di Supabase\n                        await supabase.from('transactions').update({ status: 'Done' }).eq('id', pickupItem.id);\n                        fetchAllData();\n                    },\n                    onPending: function (result) { Swal.fire('Pending', 'Menunggu pembayaran!', 'info'); },\n                    onError: function (result) { Swal.fire('Gagal', 'Pembayaran gagal!', 'error'); },\n                    onClose: function () { Swal.fire('Tutup', 'Anda menutup popup pembayaran.', 'warning'); }\n                });\n            } else {\n                Swal.fire('Mode Sandbox', \"Fitur Sandbox Aktif!\\n\\nUntuk memunculkan Popup Pembayaran Asli, Anda perlu:\\n1. Membuat API Backend untuk generate 'Snap Token'.\\n2. Memasukkan token tersebut ke fungsi window.snap.pay(token).\", 'info');\n            }\n\n        } catch (err) {\n            console.error(err);\n            Swal.fire('Error', 'Gagal memproses pembayaran', 'error');\n        }\n    };\n\n    const handleSave = async (e) => {\n        e.preventDefault();\n        try {\n            let error;\n            if (modalType === 'driver') {\n                const payload = { name: formData.name, vehicle: formData.vehicle, shift: formData.shift, status: formData.status };\n\n                // Jika EDIT, update berdasarkan ID driver (editingItem.id)\n                // Jika BARU, kita HARUS pakai userId dari dropdown sebagai ID driver agar sinkron dengan auth.users\n                let query;\n                if (editingItem) {\n                    query = supabase.from('drivers').update(payload).eq('id', editingItem.id);\n                } else {\n                    if (!formData.userId) throw new Error(\"Pilih user terlebih dahulu!\");\n                    // Pakai userId sebagai ID di tabel drivers\n                    query = supabase.from('drivers').insert([{ ...payload, id: formData.userId }]);\n                }\n\n                ({ error } = await query);\n            }\n            else if (modalType === 'area') {\n                const payload = { kelurahan: formData.kelurahan, rw: formData.rw, rt: formData.rt, driver_id: formData.driverId || null };\n                const query = editingItem ? supabase.from('areas').update(payload).eq('id', editingItem.id) : supabase.from('areas').insert([payload]);\n                ({ error } = await query);\n            }\n            else if (modalType === 'user') {\n                ({ error } = await supabase.from('profiles').update({\n                    full_name: formData.name,\n                    role: formData.role,\n                    alamat: formData.region,\n                    rt: formData.rt,\n                    rw: formData.rw\n                }).eq('id', editingItem.id));\n            }\n            else if (modalType === 'pickup') {\n                ({ error } = await supabase.from('transactions').update({ status: formData.status, driver_name: formData.driver }).eq('id', editingItem.id));\n            }\n\n            if (error) throw error;\n            Swal.fire('Sukses', 'Data berhasil disimpan!', 'success');\n            setIsModalOpen(false);\n            fetchAllData();\n        } catch (err) { Swal.fire('Error', \"Gagal: \" + err.message, 'error'); }\n    };\n\n    const handleDelete = async (id, type) => {\n        const result = await Swal.fire({\n            title: 'Hapus data ini?',\n            text: \"Data yang dihapus tidak dapat dikembalikan!\",\n            icon: 'warning',\n            showCancelButton: true,\n            confirmButtonColor: '#d33',\n            cancelButtonColor: '#3085d6',\n            confirmButtonText: 'Ya, Hapus!'\n        });\n\n        if (!result.isConfirmed) return;\n\n        try {\n            const table = type === 'driver' ? 'drivers' : type === 'area' ? 'areas' : type === 'notif' ? 'notifications' : '';\n            if (table) await supabase.from(table).delete().eq('id', id);\n\n            if (type === 'notif') setNotifications(prev => prev.filter(n => n.id !== id));\n            else fetchAllData();\n\n            Swal.fire('Terhapus!', 'Data berhasil dihapus.', 'success');\n        } catch (err) { Swal.fire('Error', err.message, 'error'); }\n    };\n\n    const handleSaveSettings = async () => {\n        try {\n            await supabase.from('app_settings').update({\n                tariff_per_kg: settings.tariff,\n                operational_start: settings.opStart,\n                operational_end: settings.opEnd,\n                email_notification: settings.emailNotif\n            }).eq('id', 1);\n            await supabase.from('notifications').insert([{ title: 'Pengaturan Diubah', message: `Tarif baru: Rp ${settings.tariff}`, type: 'info' }]);\n            Swal.fire('Sukses', 'Pengaturan sistem berhasil disimpan!', 'success');\n            fetchAllData();\n        } catch (err) { Swal.fire('Error', err.message, 'error'); }\n    };\n\n    const handleUpdateProfile = async (e) => {\n        e.preventDefault();\n        try {\n            await supabase.from('profiles').update({ full_name: currentUser.full_name, alamat: currentUser.alamat }).eq('id', currentUser.id);\n            if (currentUser.newPassword?.length >= 6) {\n                await supabase.auth.updateUser({ password: currentUser.newPassword });\n            }\n            Swal.fire('Sukses', 'Profil Admin berhasil diperbarui!', 'success');\n        } catch (err) { Swal.fire('Error', err.message, 'error'); }\n    };\n\n    const handleAvatarChange = async (e) => {\n        const file = e.target.files[0];\n        if (!file) return;\n\n        try {\n            Swal.fire({\n                title: 'Mengupload...',\n                text: 'Mohon tunggu sebentar',\n                allowOutsideClick: false,\n                didOpen: () => Swal.showLoading()\n            });\n\n            const publicUrl = await uploadAvatar(file, currentUser.id);\n            if (!publicUrl) throw new Error('Gagal mendapatkan URL gambar.');\n\n            // Update profile in DB\n            const { error } = await supabase.from('profiles').update({ avatar_url: publicUrl }).eq('id', currentUser.id);\n            if (error) throw error;\n\n            setCurrentUser(prev => ({ ...prev, avatar_url: publicUrl }));\n            Swal.fire('Sukses', 'Foto profil berhasil diperbarui!', 'success');\n        } catch (err) {\n            console.error(err);\n            Swal.fire('Error', 'Gagal upload foto: ' + err.message, 'error');\n        }\n    };\n\n    const handleMarkRead = async (id) => {\n        await supabase.from('notifications').update({ is_read: true }).eq('id', id);\n        setNotifications(prev => prev.map(n => n.id === id ? { ...n, is_read: true } : n));\n    };\n\n    const handleVerifyDriver = async (driverId, newStatus) => {\n        try {\n            const { error } = await supabase.from('drivers').update({ verification_status: newStatus }).eq('id', driverId);\n            if (error) throw error;\n\n            setDrivers(prev => prev.map(d => d.id === driverId ? { ...d, verification_status: newStatus } : d));\n            Swal.fire('Sukses', `Status driver berhasil diubah menjadi ${newStatus}`, 'success');\n\n            // Kirim notifikasi ke driver (bisa via tabel notif, disini simulasi alert sukses saja)\n        } catch (err) {\n            Swal.fire('Error', 'Gagal update status verifikasi: ' + err.message, 'error');\n        }\n    };\n\n    // Helper Functions\n    const formatRupiah = (num) => new Intl.NumberFormat('id-ID', { style: 'currency', currency: 'IDR', minimumFractionDigits: 0 }).format(num);\n    const unreadCount = notifications.filter(n => !n.is_read).length;\n\n    const openModal = (type, item = null) => {\n        setModalType(type);\n        setEditingItem(item);\n        setIsModalOpen(true);\n        if (item) {\n            if (type === 'area') setFormData({ ...item, driverId: item.driver_id });\n            else if (type === 'user') setFormData({ name: item.full_name, role: item.role, region: item.alamat, ...item });\n            else setFormData({ ...item });\n        } else {\n            if (type === 'driver') setFormData({ status: 'Off Duty', shift: 'Shift 1 (08:00 - 12:00)' });\n            else setFormData({});\n        }\n    };\n\n    // --- 5. RENDERERS (UI COMPONENTS) ---\n\n    const renderDashboard = () => (\n        <div className=\"space-y-6 animate-in fade-in text-gray-800\">\n            <div className=\"bg-gradient-to-r from-green-600 to-emerald-600 rounded-xl shadow-lg p-8 text-white relative overflow-hidden\">\n                <div className=\"relative z-10\">\n                    <h2 className=\"text-3xl font-bold mb-2\">Dashboard Admin ðŸ‘‹</h2>\n                    <p>Ringkasan aktivitas sistem RecycleYuk hari ini.</p>\n                </div>\n                {/* Visual hiasan */}\n                <div className=\"absolute right-0 top-0 h-full w-1/3 bg-white/10 skew-x-12\"></div>\n            </div>\n            <div className=\"grid grid-cols-1 md:grid-cols-4 gap-6\">\n                {[\n                    { l: 'Total User', v: users.length, i: Users, c: 'blue' },\n                    { l: 'Pickup Aktif', v: pickups.filter(p => p.status !== 'Done').length, i: Truck, c: 'green' },\n                    { l: 'Laporan Baru', v: notifications.filter(n => !n.is_read).length, i: Bell, c: 'red' },\n                    { l: 'Pendapatan', v: formatRupiah(financeStats.income), i: Wallet, c: 'purple' }\n                ].map((s, i) => (\n                    <div key={i} className=\"bg-white p-6 rounded-xl shadow-sm border border-gray-200 flex justify-between items-center hover:shadow-md transition\">\n                        <div><p className=\"text-gray-500 text-sm font-medium\">{s.l}</p><h3 className=\"text-2xl font-bold text-gray-800\">{s.v}</h3></div>\n                        <div className={`bg-${s.c}-50 p-3 rounded-lg text-${s.c}-600`}><s.i size={28} /></div>\n                    </div>\n                ))}\n            </div>\n\n            {/* --- RECENT ACTIVITY & QUICK ACTIONS --- */}\n            <div className=\"grid grid-cols-1 lg:grid-cols-3 gap-6\">\n                {/* Recent Activities */}\n                <div className=\"lg:col-span-2 bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden\">\n                    <div className=\"p-6 border-b border-gray-100 flex justify-between items-center\">\n                        <h3 className=\"font-bold text-gray-800 flex items-center gap-2\"><Clock size={18} className=\"text-blue-500\" /> Aktivitas Terbaru</h3>\n                        <button onClick={() => setActivePage('reports')} className=\"text-sm text-blue-600 hover:underline\">Lihat Semua</button>\n                    </div>\n                    <div className=\"divide-y divide-gray-100\">\n                        {transactions.slice(0, 5).map((trx) => (\n                            <div key={trx.id} className=\"p-4 hover:bg-gray-50 transition flex items-center gap-4\">\n                                <div className={`p-2 rounded-full ${trx.status === 'Done' ? 'bg-green-100 text-green-600' :\n                                    trx.status === 'Process' ? 'bg-blue-100 text-blue-600' :\n                                        'bg-yellow-100 text-yellow-600'\n                                    }`}>\n                                    {trx.status === 'Done' ? <CheckCircle2 size={18} /> :\n                                        trx.status === 'Process' ? <Truck size={18} /> :\n                                            <Clock size={18} />}\n                                </div>\n                                <div className=\"flex-1\">\n                                    <p className=\"text-sm font-bold text-gray-800\">\n                                        {trx.status === 'Pending' ? 'Permintaan Pickup Baru' :\n                                            trx.status === 'Process' ? 'Sedang Dijemput' : 'Pickup Selesai'}\n                                    </p>\n                                    <p className=\"text-xs text-gray-500\">\n                                        {trx.profiles?.full_name} â€¢ {trx.waste_types?.name} ({trx.weight} kg)\n                                    </p>\n                                </div>\n                                <div className=\"text-right\">\n                                    <span className=\"text-xs font-medium text-gray-400\">\n                                        {new Date(trx.created_at).toLocaleTimeString('id-ID', { hour: '2-digit', minute: '2-digit' })}\n                                    </span>\n                                </div>\n                            </div>\n                        ))}\n                        {transactions.length === 0 && (\n                            <div className=\"p-8 text-center text-gray-400\">Belum ada aktivitas</div>\n                        )}\n                    </div>\n                </div>\n\n                {/* Quick Actions */}\n                <div className=\"bg-white rounded-xl shadow-sm border border-gray-200 p-6\">\n                    <h3 className=\"font-bold text-gray-800 mb-4 flex items-center gap-2\"><PlayCircle size={18} className=\"text-green-500\" /> Quick Actions</h3>\n                    <div className=\"space-y-3\">\n                        <button onClick={() => openModal('driver')} className=\"w-full flex items-center gap-3 p-3 bg-gray-50 hover:bg-green-50 hover:text-green-700 rounded-xl transition border border-gray-100\">\n                            <div className=\"bg-green-100 p-2 rounded-lg text-green-700\"><Truck size={18} /></div>\n                            <span className=\"font-medium text-sm\">Tambah Driver Baru</span>\n                        </button>\n                        <button onClick={() => openModal('area')} className=\"w-full flex items-center gap-3 p-3 bg-gray-50 hover:bg-blue-50 hover:text-blue-700 rounded-xl transition border border-gray-100\">\n                            <div className=\"bg-blue-100 p-2 rounded-lg text-blue-700\"><MapPin size={18} /></div>\n                            <span className=\"font-medium text-sm\">Tambah Wilayah</span>\n                        </button>\n                        <button onClick={() => setActivePage('pickups')} className=\"w-full flex items-center gap-3 p-3 bg-gray-50 hover:bg-orange-50 hover:text-orange-700 rounded-xl transition border border-gray-100\">\n                            <div className=\"bg-orange-100 p-2 rounded-lg text-orange-700\"><Trash2 size={18} /></div>\n                            <span className=\"font-medium text-sm\">Kelola Pickup</span>\n                        </button>\n                        <button onClick={() => setActivePage('settings')} className=\"w-full flex items-center gap-3 p-3 bg-gray-50 hover:bg-purple-50 hover:text-purple-700 rounded-xl transition border border-gray-100\">\n                            <div className=\"bg-purple-100 p-2 rounded-lg text-purple-700\"><Settings size={18} /></div>\n                            <span className=\"font-medium text-sm\">Pengaturan Tarif</span>\n                        </button>\n                    </div>\n                </div>\n            </div>\n\n            <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-6\">\n                <div className=\"bg-white p-6 rounded-xl shadow-sm border border-gray-200\">\n                    <h3 className=\"font-bold text-lg mb-4 text-gray-800 flex items-center gap-2\"><FileText size={20} /> Aktivitas Terbaru</h3>\n                    <div className=\"overflow-x-auto\">\n                        <table className=\"w-full text-sm text-left\">\n                            <thead className=\"bg-gray-50 text-gray-500\"><tr><th className=\"p-3\">User</th><th className=\"p-3\">Berat</th><th className=\"p-3\">Status</th></tr></thead>\n                            <tbody>\n                                {pickups.slice(0, 5).map(p => (\n                                    <tr key={p.id} className=\"border-b hover:bg-gray-50\">\n                                        <td className=\"p-3 font-medium text-gray-800\">{p.user}</td>\n                                        <td className=\"p-3 text-gray-600\">{p.weightLabel}</td>\n                                        <td className=\"p-3\"><span className={`px-2 py-1 rounded text-xs font-bold ${p.status === 'Done' ? 'bg-green-100 text-green-700' : 'bg-yellow-100 text-yellow-700'}`}>{p.status}</span></td>\n                                    </tr>\n                                ))}\n                            </tbody>\n                        </table>\n                    </div>\n                </div>\n                <div className=\"bg-white p-6 rounded-xl shadow-sm border border-gray-200\">\n                    <h3 className=\"font-bold text-lg mb-4 text-gray-800 flex items-center gap-2\"><MapPin size={20} /> Status Driver</h3>\n                    <div className=\"space-y-3 max-h-[300px] overflow-y-auto pr-2\">\n                        {drivers.map(d => (\n                            <div key={d.id} className=\"flex justify-between items-center p-3 bg-gray-50 rounded-lg border border-gray-100\">\n                                <div className=\"flex items-center gap-3\">\n                                    <div className=\"w-10 h-10 bg-gray-200 rounded-full flex items-center justify-center font-bold text-gray-500\">{d.name.charAt(0)}</div>\n                                    <div><span className=\"font-bold text-gray-800\">{d.name}</span><br /><span className=\"text-xs text-gray-500\">{d.vehicle}</span></div>\n                                </div>\n                                <span className={`px-2 py-1 rounded text-xs font-bold ${d.status === 'On Duty' ? 'bg-green-100 text-green-700' : 'bg-gray-200 text-gray-600'}`}>{d.status}</span>\n                            </div>\n                        ))}\n                    </div>\n                </div>\n            </div>\n        </div>\n    );\n\n    const renderUsers = () => (\n        <div className=\"space-y-6 animate-in slide-in-from-right\">\n            <div className=\"flex justify-between items-center bg-white p-4 rounded-xl shadow-sm border border-gray-200\">\n                <div className=\"flex items-center gap-2 bg-gray-50 px-3 py-2 rounded-lg border border-gray-200 w-full max-w-md\">\n                    <Search className=\"text-gray-400\" size={18} /><input type=\"text\" placeholder=\"Cari user...\" className=\"w-full outline-none text-sm bg-transparent text-gray-800\" value={searchQuery} onChange={(e) => setSearchQuery(e.target.value)} />\n                </div>\n            </div>\n            <div className=\"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden\">\n                <table className=\"w-full text-left text-sm text-gray-800\">\n                    <thead className=\"bg-gray-50 text-gray-600 border-b\"><tr><th className=\"p-4\">Nama User</th><th className=\"p-4\">Role</th><th className=\"p-4\">Alamat</th><th className=\"p-4 text-right\">Aksi</th></tr></thead>\n                    <tbody>\n                        {users.filter(u => (u.full_name || '').toLowerCase().includes(searchQuery.toLowerCase())).map(u => (\n                            <tr key={u.id} className=\"border-b hover:bg-gray-50\">\n                                <td className=\"p-4\"><div className=\"font-bold\">{u.full_name || 'Tanpa Nama'}</div><div className=\"text-xs text-gray-500\">{u.email}</div></td>\n                                <td className=\"p-4\"><span className=\"bg-gray-100 px-2 py-1 rounded uppercase text-xs font-bold text-gray-700\">{u.role}</span></td>\n                                <td className=\"p-4 text-gray-600\">\n                                    <div>{u.alamat || '-'}</div>\n                                    {(u.rt || u.rw) && <div className=\"text-xs text-green-600 font-bold mt-1\">RT {u.rt} / RW {u.rw}</div>}\n                                </td>\n                                <td className=\"p-4 text-right\">\n                                    <button onClick={() => openModal('user', u)} className=\"text-blue-600 hover:bg-blue-50 p-2 rounded transition\"><Edit size={16} /></button>\n                                    {!drivers.some(d => d.id === u.id) && (\n                                        <button\n                                            onClick={() => {\n                                                setModalType('driver');\n                                                setEditingItem(null);\n                                                setIsModalOpen(true);\n                                                setFormData({ userId: u.id, name: u.full_name, status: 'Off Duty', shift: 'Shift 1 (08:00 - 12:00)' });\n                                            }}\n                                            className=\"ml-2 text-green-600 hover:bg-green-50 p-2 rounded transition\"\n                                            title=\"Promote to Driver\"\n                                        >\n                                            <Truck size={16} />\n                                        </button>\n                                    )}\n                                </td>\n                            </tr>\n                        ))}\n                    </tbody>\n                </table>\n            </div>\n        </div>\n    );\n\n    const renderDrivers = () => (\n        <div className=\"space-y-6 animate-in slide-in-from-right\">\n            <div className=\"flex justify-between items-center bg-white p-4 rounded-xl shadow-sm border border-gray-200\">\n                <h3 className=\"font-bold text-lg text-gray-800\">List Driver</h3>\n                <button onClick={() => openModal('driver')} className=\"bg-green-600 text-white px-4 py-2 rounded-lg font-bold flex gap-2 hover:bg-green-700\"><Plus size={18} /> Tambah Driver</button>\n            </div>\n            <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6\">\n                {drivers.map(d => (\n                    <div key={d.id} className=\"bg-white p-6 rounded-xl shadow-sm border border-gray-200 relative group hover:shadow-md transition\">\n                        <div className=\"absolute top-4 right-4 flex gap-1 opacity-100 transition-opacity\">\n                            <button onClick={() => openModal('driver', d)} className=\"p-2 bg-blue-50 text-blue-600 rounded-lg hover:bg-blue-100\"><Edit size={16} /></button>\n                            <button onClick={() => handleDelete(d.id, 'driver')} className=\"p-2 bg-red-50 text-red-600 rounded-lg hover:bg-red-100\"><Trash2 size={16} /></button>\n                        </div>\n                        <div className=\"flex items-center gap-4 mb-4\">\n                            <div className=\"w-14 h-14 bg-gray-100 rounded-full flex items-center justify-center text-xl font-bold text-gray-500\">{d.name.charAt(0)}</div>\n                            <div>\n                                <h4 className=\"font-bold text-lg text-gray-800\">{d.name}</h4>\n                                <p className=\"text-sm text-gray-500\">{d.vehicle}</p>\n                                <div className={`text-xs px-2 py-0.5 rounded-full w-fit mt-1 font-bold ${d.verification_status === 'verified' ? 'bg-green-100 text-green-700' : 'bg-yellow-100 text-yellow-700'}`}>\n                                    {d.verification_status === 'verified' ? 'Terverifikasi' : (d.verification_status === 'rejected' ? 'Ditolak' : 'Menunggu Verifikasi')}\n                                </div>\n                            </div>\n                        </div>\n\n                        {/* Action Buttons for Verification */}\n                        {d.verification_status !== 'verified' && (\n                            <div className=\"flex gap-2 mb-4\">\n                                <button onClick={() => handleVerifyDriver(d.id, 'verified')} className=\"flex-1 bg-green-600 text-white py-2 rounded-lg text-xs font-bold hover:bg-green-700\">Verifikasi</button>\n                                {d.verification_status !== 'rejected' && (\n                                    <button onClick={() => handleVerifyDriver(d.id, 'rejected')} className=\"flex-1 bg-red-50 text-red-600 border border-red-200 py-2 rounded-lg text-xs font-bold hover:bg-red-100\">Tolak</button>\n                                )}\n                            </div>\n                        )}\n\n                        <div className=\"flex justify-between items-center text-sm border-t pt-3 border-gray-100\">\n                            <span className=\"bg-gray-100 px-3 py-1 rounded-full text-gray-600 font-medium\">{d.shift}</span>\n                            <span className={`px-3 py-1 rounded-full font-bold ${d.status === 'On Duty' ? 'bg-green-100 text-green-700' : 'bg-red-50 text-red-600'}`}>{d.status}</span>\n                        </div>\n                    </div>\n                ))}\n            </div>\n        </div>\n    );\n\n    const renderAreas = () => (\n        <div className=\"space-y-6 animate-in slide-in-from-right\">\n            <div className=\"flex justify-between items-center bg-white p-4 rounded-xl shadow-sm border border-gray-200\">\n                <h3 className=\"font-bold text-lg text-gray-800\">Data Wilayah</h3>\n                <button onClick={() => openModal('area')} className=\"bg-green-600 text-white px-4 py-2 rounded-lg font-bold flex gap-2 hover:bg-green-700\"><Plus size={18} /> Tambah Wilayah</button>\n            </div>\n            <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6\">\n                {areas.map(a => (\n                    <div key={a.id} className=\"bg-white p-6 rounded-xl shadow-sm border border-gray-200 relative group hover:shadow-md transition\">\n                        <div className=\"absolute top-4 right-4 flex gap-1\">\n                            <button onClick={() => openModal('area', a)} className=\"p-1.5 text-blue-600 hover:bg-blue-50 rounded\"><Edit size={16} /></button>\n                            <button onClick={() => handleDelete(a.id, 'area')} className=\"p-1.5 text-red-600 hover:bg-red-50 rounded\"><Trash2 size={16} /></button>\n                        </div>\n                        <h4 className=\"font-bold text-xl mb-1 text-gray-800\">{a.kelurahan}</h4>\n                        <div className=\"flex gap-2 text-sm text-gray-600 mb-4\">\n                            <span className=\"bg-gray-100 px-2 py-1 rounded\">RW: {a.rw}</span>\n                            <span className=\"bg-gray-100 px-2 py-1 rounded\">RT: {a.rt}</span>\n                        </div>\n                        <div className=\"pt-4 border-t border-gray-100 text-sm\">\n                            <p className=\"text-gray-400 text-xs uppercase font-bold mb-1\">Penanggung Jawab</p>\n                            <p className=\"font-bold text-gray-800 flex items-center gap-2\"><Truck size={16} className=\"text-green-600\" /> {a.drivers?.name || <span className=\"text-red-500 italic\">Belum assign</span>}</p>\n                        </div>\n                    </div>\n                ))}\n            </div>\n        </div>\n    );\n\n    const renderPickups = () => (\n        <div className=\"space-y-6 animate-in slide-in-from-right\">\n            <div className=\"flex justify-between items-center bg-white p-4 rounded-xl shadow-sm border border-gray-200\">\n                <h3 className=\"font-bold text-lg text-gray-800\">Manajemen Pengangkutan</h3>\n                <div className=\"flex gap-2\">\n                    <select className=\"border p-2 rounded-lg text-sm text-gray-800 bg-gray-50 outline-none\" onChange={e => setFilterCategory(e.target.value)}>\n                        <option value=\"All\">Semua Status</option><option value=\"Pending\">Pending</option><option value=\"Done\">Selesai</option>\n                    </select>\n                </div>\n            </div>\n            <div className=\"space-y-4\">\n                {pickups.filter(p => filterCategory === 'All' || p.status === filterCategory).map(p => (\n                    <div key={p.id} className=\"bg-white p-5 rounded-xl shadow-sm border border-gray-200 flex flex-col md:flex-row justify-between items-center gap-4 hover:shadow-md transition\">\n                        <div className=\"flex-1\">\n                            <div className=\"flex items-center gap-2 mb-1\">\n                                <span className=\"font-bold text-lg text-gray-800\">{p.area}</span>\n                                <span className=\"text-xs text-gray-500 bg-gray-100 px-2 py-0.5 rounded-full\">{p.date}</span>\n                            </div>\n                            <p className=\"text-sm text-gray-600\">{p.user} â€¢ <span className=\"font-bold\">{p.weightLabel}</span> â€¢ {formatRupiah(p.price)}</p>\n                            <div className=\"flex items-center gap-2 mt-2 text-sm text-green-700 bg-green-50 w-fit px-3 py-1 rounded-lg\">\n                                <Truck size={14} /> Driver: <span className=\"font-bold\">{p.driver}</span>\n                            </div>\n                        </div>\n                        <div className=\"flex flex-col md:flex-row items-center gap-3 w-full md:w-auto\">\n                            <span className={`px-3 py-1 rounded-full text-xs font-bold ${p.status === 'Done' ? 'bg-green-100 text-green-700' : 'bg-yellow-100 text-yellow-700'}`}>{p.status}</span>\n\n                            {/* --- TAMBAHAN: Tombol Bayar via Midtrans --- */}\n                            {p.status !== 'Done' && (\n                                <button\n                                    onClick={() => handlePayment(p)}\n                                    className=\"text-sm bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 font-bold flex items-center gap-2 w-full md:w-auto\"\n                                >\n                                    <CreditCard size={16} /> Bayar (Midtrans)\n                                </button>\n                            )}\n\n                            <button onClick={() => openModal('pickup', p)} className=\"text-sm bg-white border border-gray-300 px-4 py-2 rounded-lg hover:bg-gray-50 font-medium w-full md:w-auto\">Update Status</button>\n                        </div>\n                    </div>\n                ))}\n            </div>\n        </div>\n    );\n\n    const renderReports = () => {\n        const filteredData = pickups.filter(item => {\n            const matchStatus = reportFilter.status === 'All' ? true : item.status === reportFilter.status;\n            const matchDate = reportFilter.date ? item.date.includes(new Date(reportFilter.date).toLocaleDateString('id-ID')) : true;\n            return matchStatus && matchDate;\n        });\n\n        return (\n            <div className=\"space-y-6 animate-in slide-in-from-right\">\n                <div className=\"flex flex-col md:flex-row justify-between bg-white p-4 rounded-xl shadow-sm border border-gray-200 gap-4 items-center\">\n                    <div className=\"flex gap-4 items-center w-full\">\n                        <div className=\"flex items-center gap-2 border p-2 rounded-lg bg-gray-50 w-full md:w-auto\">\n                            <Settings size={18} className=\"text-gray-500\" />\n                            <input type=\"date\" className=\"bg-transparent text-sm outline-none text-gray-800 w-full\" value={reportFilter.date} onChange={(e) => setReportFilter({ ...reportFilter, date: e.target.value })} />\n                        </div>\n                        <select className=\"bg-gray-50 border p-2 rounded-lg text-sm text-gray-800 outline-none\" value={reportFilter.status} onChange={(e) => setReportFilter({ ...reportFilter, status: e.target.value })}>\n                            <option value=\"All\">Semua Status</option><option value=\"Done\">Selesai</option><option value=\"Pending\">Pending</option>\n                        </select>\n                    </div>\n                    <button onClick={() => handleExportExcel(filteredData)} className=\"bg-green-600 text-white px-4 py-2 rounded-lg text-sm flex gap-2 items-center hover:bg-green-700 font-bold\"><Download size={16} /> Export Excel</button>\n                </div>\n                <div className=\"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden\">\n                    <div className=\"p-4 border-b bg-gray-50 font-bold text-gray-700\">Laporan Pengangkutan</div>\n                    <table className=\"w-full text-left text-sm text-gray-800\">\n                        <thead><tr className=\"border-b\"><th className=\"p-4\">Tanggal</th><th className=\"p-4\">User / Wilayah</th><th className=\"p-4\">Berat</th><th className=\"p-4\">Driver</th><th className=\"p-4\">Status</th></tr></thead>\n                        <tbody>\n                            {filteredData.length > 0 ? filteredData.map(r => (\n                                <tr key={r.id} className=\"border-b hover:bg-gray-50\">\n                                    <td className=\"p-4\">{r.date}</td>\n                                    <td className=\"p-4 font-medium\">{r.user}<br /><span className=\"text-xs text-gray-500 font-normal\">{r.area}</span></td>\n                                    <td className=\"p-4 font-bold\">{r.weightLabel}</td><td className=\"p-4\">{r.driver}</td>\n                                    <td className=\"p-4\"><span className={`px-2 py-1 rounded text-xs font-bold ${r.status === 'Done' ? 'bg-green-100 text-green-700' : 'bg-yellow-100 text-yellow-700'}`}>{r.status}</span></td>\n                                </tr>\n                            )) : <tr><td colSpan=\"5\" className=\"p-8 text-center text-gray-400\">Data tidak ditemukan.</td></tr>}\n                        </tbody>\n                    </table>\n                </div>\n            </div>\n        );\n    };\n\n    const renderFinance = () => (\n        <div className=\"space-y-6 animate-in slide-in-from-right\">\n            <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\n                <div className=\"bg-green-50 p-6 rounded-xl border border-green-200 shadow-sm\">\n                    <p className=\"text-green-800 font-medium mb-1\">Total Pemasukan</p>\n                    <h3 className=\"text-3xl font-bold text-green-900\">{formatRupiah(financeStats.income)}</h3>\n                    <p className=\"text-xs text-green-600 mt-2 flex items-center gap-1\"><CheckCircle size={12} /> Dari transaksi selesai</p>\n                </div>\n                <div className=\"bg-red-50 p-6 rounded-xl border border-red-200 shadow-sm\">\n                    <p className=\"text-red-800 font-medium mb-1\">Estimasi Pengeluaran (30%)</p>\n                    <h3 className=\"text-3xl font-bold text-red-900\">{formatRupiah(financeStats.expense)}</h3>\n                    <p className=\"text-xs text-red-600 mt-2 flex items-center gap-1\"><AlertCircle size={12} /> Biaya operasional & gaji</p>\n                </div>\n            </div>\n            <div className=\"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden\">\n                <div className=\"p-4 bg-gray-50 font-bold border-b text-gray-700\">Rincian Transaksi</div>\n                <table className=\"w-full text-left text-sm text-gray-800\">\n                    <tbody>\n                        {transactions.slice(0, 10).map(t => (\n                            <tr key={t.id} className=\"border-b hover:bg-gray-50\">\n                                <td className=\"p-4\">\n                                    <span className=\"font-bold\">Retribusi Sampah</span>\n                                    <br /><span className=\"text-xs text-gray-500\">{new Date(t.created_at).toLocaleDateString()}</span>\n                                </td>\n                                <td className=\"p-4 font-bold text-green-600 text-right\">+ {formatRupiah(t.total_price)}</td>\n                            </tr>\n                        ))}\n                    </tbody>\n                </table>\n            </div>\n        </div>\n    );\n\n    // --- 7. NEW RENDERS: SETTINGS & PROFILE (SEPARATED) ---\n\n    // Halaman Pengaturan Sistem (General)\n    const renderSettings = () => (\n        <div className=\"max-w-4xl mx-auto space-y-6 animate-in slide-in-from-right text-gray-800\">\n            <div className=\"bg-white p-8 rounded-xl shadow-sm border border-gray-200\">\n                <h3 className=\"font-bold text-xl mb-6 flex items-center gap-2 text-gray-800\"><Settings size={22} /> Konfigurasi Sistem</h3>\n                <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6\">\n                    <div className=\"bg-gray-50 p-4 rounded-lg border border-gray-100\">\n                        <label className=\"block text-sm font-bold mb-2 text-gray-600\">Tarif Retribusi (Per Kg)</label>\n                        <div className=\"flex items-center\"><span className=\"bg-gray-200 border border-r-0 rounded-l px-3 py-2 text-gray-600 font-bold\">Rp</span><input type=\"number\" className=\"w-full border p-2 rounded-r text-gray-800 focus:ring-2 ring-green-500 outline-none\" value={settings.tariff} onChange={e => setSettings({ ...settings, tariff: e.target.value })} /></div>\n                    </div>\n                    <div className=\"bg-gray-50 p-4 rounded-lg border border-gray-100\">\n                        <label className=\"block text-sm font-bold mb-2 text-gray-600\">Notifikasi Email</label>\n                        <div className=\"flex items-center justify-between bg-white p-2 rounded border\"><span className=\"text-sm font-medium ml-2\">Aktifkan notifikasi?</span><button onClick={() => setSettings({ ...settings, emailNotif: !settings.emailNotif })} className={`w-12 h-6 rounded-full relative transition-colors ${settings.emailNotif ? 'bg-green-500' : 'bg-gray-300'}`}><div className={`w-4 h-4 bg-white rounded-full absolute top-1 transition-all ${settings.emailNotif ? 'right-1' : 'left-1'}`}></div></button></div>\n                    </div>\n                </div>\n                <div className=\"grid grid-cols-2 gap-6 mb-8\">\n                    <div><label className=\"block text-sm font-bold mb-1 text-gray-600\">Jam Buka</label><input type=\"time\" className=\"w-full border p-2 rounded bg-white text-gray-800\" value={settings.opStart} onChange={e => setSettings({ ...settings, opStart: e.target.value })} /></div>\n                    <div><label className=\"block text-sm font-bold mb-1 text-gray-600\">Jam Tutup</label><input type=\"time\" className=\"w-full border p-2 rounded bg-white text-gray-800\" value={settings.opEnd} onChange={e => setSettings({ ...settings, opEnd: e.target.value })} /></div>\n                </div>\n                <button onClick={handleSaveSettings} className=\"w-full bg-green-600 text-white py-3 rounded-lg font-bold hover:bg-green-700 transition flex justify-center gap-2\"><Save size={18} /> Simpan Pengaturan Sistem</button>\n            </div>\n        </div>\n    );\n\n    // Halaman Profil Admin (Dedicated)\n    const renderProfile = () => (\n        <div className=\"max-w-4xl mx-auto space-y-6 animate-in slide-in-from-right text-gray-800\">\n            <div className=\"bg-white p-8 rounded-xl shadow-sm border border-gray-200\">\n                <h3 className=\"font-bold text-xl mb-6 flex items-center gap-2 text-gray-800\"><User size={22} /> Edit Profil Admin</h3>\n\n                <div className=\"flex flex-col items-center mb-8\">\n                    <div className=\"relative group cursor-pointer\" onClick={() => document.getElementById('admin-avatar-upload').click()}>\n                        <div className=\"w-24 h-24 rounded-full overflow-hidden border-4 border-green-100 shadow-sm\">\n                            {currentUser?.avatar_url ? (\n                                <img src={currentUser.avatar_url} alt=\"Profile\" className=\"w-full h-full object-cover\" />\n                            ) : (\n                                <div className=\"w-full h-full bg-green-100 flex items-center justify-center text-3xl font-bold text-green-600\">\n                                    {currentUser?.full_name?.charAt(0) || 'A'}\n                                </div>\n                            )}\n                        </div>\n                        <div className=\"absolute inset-0 bg-black/40 rounded-full flex items-center justify-center opacity-0 group-hover:opacity-100 transition\">\n                            <Edit className=\"text-white\" size={20} />\n                        </div>\n                    </div>\n                    <input type=\"file\" id=\"admin-avatar-upload\" className=\"hidden\" accept=\"image/*\" onChange={handleAvatarChange} />\n                    <p className=\"text-xs text-gray-400 mt-2\">Klik foto untuk mengganti</p>\n                </div>\n\n                <form onSubmit={handleUpdateProfile} className=\"space-y-5 max-w-xl mx-auto\">\n                    <div><label className=\"block text-sm font-bold mb-1 text-gray-600\">Email (Read Only)</label><input disabled className=\"w-full border p-2 rounded bg-gray-100 text-gray-500 cursor-not-allowed\" value={currentUser?.email || ''} /></div>\n                    <div><label className=\"block text-sm font-bold mb-1 text-gray-600\">Nama Lengkap</label><input className=\"w-full border p-2 rounded bg-white text-gray-800\" value={currentUser?.full_name || ''} onChange={e => setCurrentUser({ ...currentUser, full_name: e.target.value })} /></div>\n                    <div><label className=\"block text-sm font-bold mb-1 text-gray-600\">Alamat</label><textarea className=\"w-full border p-2 rounded bg-white text-gray-800 h-24 resize-none\" value={currentUser?.alamat || ''} onChange={e => setCurrentUser({ ...currentUser, alamat: e.target.value })} /></div>\n                    <div className=\"pt-4 border-t border-gray-100 mt-4\"><h4 className=\"font-bold text-sm mb-3 flex items-center gap-2 text-orange-600\"><Shield size={16} /> Keamanan Akun</h4><input type=\"password\" className=\"w-full border p-2 rounded bg-white text-gray-800\" placeholder=\"Password Baru (Min 6 karakter, Kosongkan jika tidak ubah)\" onChange={e => setCurrentUser({ ...currentUser, newPassword: e.target.value })} /></div>\n                    <button type=\"submit\" className=\"bg-green-600 text-white px-6 py-2 rounded-lg font-bold hover:bg-green-700 transition mt-4 w-full\">Simpan Perubahan Profil</button>\n                </form>\n            </div>\n        </div>\n    );\n\n    const renderNotifications = () => (\n        <div className=\"bg-white rounded-xl shadow-sm border border-gray-200 p-6 animate-in slide-in-from-right max-w-3xl mx-auto text-gray-800\">\n            <div className=\"flex justify-between mb-4\"><h3 className=\"font-bold text-xl\">Pusat Notifikasi</h3><span className=\"text-xs bg-red-100 text-red-600 px-2 py-1 rounded-full font-bold\">{unreadCount} Baru</span></div>\n            <div className=\"space-y-1\">\n                {notifications.length === 0 ? <div className=\"text-center py-8 text-gray-400\">Tidak ada notifikasi.</div> : notifications.map(n => (\n                    <div key={n.id} onClick={() => handleMarkRead(n.id)} className={`p-4 border-b flex gap-4 cursor-pointer hover:bg-gray-50 transition ${!n.is_read ? 'bg-green-50' : ''}`}>\n                        <div className={`p-2 rounded-full h-fit ${n.type === 'info' ? 'bg-blue-100 text-blue-600' : 'bg-orange-100 text-orange-600'}`}><Bell size={20} /></div>\n                        <div className=\"flex-1\">\n                            <div className=\"flex justify-between\"><h4 className={`font-bold text-sm ${!n.is_read ? 'text-green-800' : 'text-gray-700'}`}>{n.title}</h4><span className=\"text-xs text-gray-400\">{new Date(n.created_at).toLocaleString()}</span></div>\n                            <p className=\"text-sm text-gray-600 mt-1\">{n.message}</p>\n                        </div>\n                        <button onClick={(e) => { e.stopPropagation(); handleDelete(n.id, 'notif') }} className=\"text-gray-400 hover:text-red-500\"><Trash2 size={16} /></button>\n                    </div>\n                ))}\n            </div>\n        </div>\n    );\n\n    // --- 8. MAIN RENDER SWITCH ---\n    const renderContent = () => {\n        switch (activePage) {\n            case 'dashboard': return renderDashboard();\n            case 'users': return renderUsers();\n            case 'drivers': return renderDrivers();\n            case 'pickups': return renderPickups();\n            case 'areas': return renderAreas();\n            case 'reports': return renderReports();\n            case 'finance': return renderFinance();\n            case 'settings': return renderSettings(); // Settings hanya untuk sistem\n            case 'profile': return renderProfile();   // Profile halaman terpisah\n            case 'notifikasi': return renderNotifications();\n            default: return <div>Halaman tidak ditemukan</div>;\n        }\n    };\n\n    if (loading && !mounted) return <div className=\"min-h-screen flex justify-center items-center text-gray-800 font-bold bg-gray-50\"><Loader2 className=\"animate-spin mr-2\" /> Memuat Sistem Admin...</div>;\n\n    return (\n        <div className=\"min-h-screen bg-gray-50 flex font-sans text-gray-800\">\n            {/* SIDEBAR */}\n            <aside className={`hidden md:flex flex-col bg-white border-r border-gray-200 fixed h-full z-20 transition-all duration-300 ${isSidebarOpen ? 'w-64' : 'w-20'}`}>\n                <div className=\"h-20 flex items-center justify-between px-4 border-b border-gray-100\">\n                    {/* LOGO & BRAND */}\n                    <div className={`flex items-center gap-3 transition-all duration-300 ${!isSidebarOpen ? 'justify-center w-full px-0' : 'px-0'}`}>\n                        {isSidebarOpen ? (\n                            <div className=\"flex flex-col animate-in fade-in slide-in-from-left duration-300\">\n                                <img src=\"/images/logo.png\" alt=\"RecycleYuk\" className=\"w-36 h-auto object-contain mb-1\" />\n                                <span className=\"text-[10px] font-bold text-green-600 tracking-[0.2em] uppercase pl-1\">\n                                    Admin Panel\n                                </span>\n                            </div>\n                        ) : (\n                            <button onClick={() => setIsSidebarOpen(true)} className=\"mx-auto relative group\">\n                                <img src=\"/images/mini-logo.png\" alt=\"RecycleYuk\" className=\"w-10 h-10 object-contain transition-transform group-hover:scale-110\" />\n                                <div className=\"absolute -right-2 -bottom-2 bg-green-100 text-green-600 rounded-full p-0.5 shadow-sm border border-white\">\n                                    <ChevronRight size={12} />\n                                </div>\n                            </button>\n                        )}\n                    </div>\n                    {isSidebarOpen && <button onClick={() => setIsSidebarOpen(false)} className={`p-2 rounded-lg hover:bg-gray-100 text-gray-500`}><ChevronLeft size={20} /></button>}\n                </div>\n                <nav className=\"flex-1 p-3 space-y-2 overflow-y-auto overflow-x-hidden\">\n                    {SIDEBAR_MENUS.map(menu => (\n                        <button key={menu.id} onClick={() => setActivePage(menu.id)} className={`w-full flex items-center rounded-xl font-medium transition-all duration-200 h-12 ${activePage === menu.id ? 'bg-green-50 text-green-700 shadow-sm border border-green-100' : 'text-gray-600 hover:bg-gray-50 hover:text-green-600'} ${isSidebarOpen ? 'px-4 gap-3 justify-start' : 'justify-center px-0'}`}>\n                            <menu.icon size={22} className={`min-w-[22px] ${activePage === menu.id ? 'text-green-600' : 'text-gray-400'}`} /> {isSidebarOpen && <span className=\"whitespace-nowrap overflow-hidden\">{menu.label}</span>}\n                        </button>\n                    ))}\n                </nav>\n                <div className=\"p-4 border-t border-gray-100\">\n                    <button onClick={handleLogout} className={`w-full flex items-center rounded-xl font-medium text-red-600 hover:bg-red-50 transition-all h-12 ${isSidebarOpen ? 'px-4 gap-3 justify-start' : 'justify-center px-0'}`}>\n                        <LogOut size={22} className=\"min-w-[22px]\" /> {isSidebarOpen && \"Keluar\"}\n                    </button>\n                </div>\n            </aside>\n\n            {/* MAIN CONTENT */}\n            <main className={`flex-1 p-4 md:p-8 overflow-y-auto transition-all duration-300 ${isSidebarOpen ? 'md:ml-64' : 'md:ml-20'}`}>\n                <div className=\"max-w-6xl mx-auto\">\n                    {/* HEADER */}\n                    <header className=\"flex flex-col md:flex-row justify-between items-start md:items-center mb-8 gap-4\">\n                        <div>\n                            <h2 className=\"text-2xl font-bold capitalize text-gray-800\">{activePage === 'dashboard' ? 'Ringkasan' : activePage.replace('-', ' ')}</h2>\n                            <p className=\"text-gray-500 text-sm\">Panel Kontrol Administrator</p>\n                        </div>\n                        <div className=\"flex items-center gap-4\">\n                            <div className=\"hidden md:flex text-sm font-medium text-gray-500 bg-white px-3 py-2 rounded-lg border border-gray-200 items-center gap-2 shadow-sm\">\n                                <Clock size={16} className=\"text-green-600\" /> {mounted ? currentTime : '...'}\n                            </div>\n\n                            {/* --- HEADER KANAN ATAS (MODIFIED) --- */}\n                            <div className=\"flex items-center gap-3 bg-white p-1 rounded-xl border border-gray-200 shadow-sm\">\n                                {/* Tombol Notifikasi (Kiri) */}\n                                <button onClick={() => setActivePage('notifikasi')} className=\"p-2 rounded-lg hover:bg-gray-100 relative text-gray-600 group transition\">\n                                    <Bell size={20} className=\"group-hover:text-green-600\" />\n                                    {unreadCount > 0 && <span className=\"absolute top-2 right-2 w-2 h-2 bg-red-500 rounded-full border border-white animate-pulse\"></span>}\n                                </button>\n\n                                <div className=\"w-px h-6 bg-gray-200\"></div>\n\n                                {/* Tombol Profil (Kanan) */}\n                                <button onClick={() => setActivePage('profile')} className=\"flex items-center gap-3 pl-2 pr-3 py-1 rounded-lg hover:bg-gray-50 transition\">\n                                    <div className=\"w-8 h-8 rounded-full bg-green-100 flex items-center justify-center text-green-700 font-bold border border-green-200 overflow-hidden\">\n                                        {currentUser?.avatar_url ? (\n                                            <img src={currentUser.avatar_url} alt=\"Profile\" className=\"w-full h-full object-cover\" />\n                                        ) : (\n                                            currentUser?.full_name?.charAt(0) || 'A'\n                                        )}\n                                    </div>\n                                    <div className=\"text-left hidden md:block\">\n                                        <p className=\"text-xs font-bold text-gray-800 line-clamp-1 max-w-[100px]\">{currentUser?.full_name || 'Admin'}</p>\n                                        <p className=\"text-0 text-gray-500\">Administrator</p>\n                                    </div>\n                                </button>\n                            </div>\n                        </div>\n                    </header>\n\n                    {/* CONTENT RENDER */}\n                    {renderContent()}\n                </div>\n            </main>\n\n            {/* --- MODAL GLOBAL (Sama seperti sebelumnya) --- */}\n            {isModalOpen && (\n                <div className=\"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-50 p-4 animate-in fade-in\">\n                    <div className=\"bg-white rounded-xl shadow-2xl w-full max-w-md p-6 overflow-y-auto max-h-[90vh]\">\n                        <div className=\"flex justify-between items-center mb-6 border-b pb-4\">\n                            <h3 className=\"text-xl font-bold text-gray-800\">{editingItem ? `Edit ${modalType}` : `Tambah ${modalType}`}</h3>\n                            <button onClick={() => setIsModalOpen(false)}><X className=\"text-gray-400 hover:text-red-500\" /></button>\n                        </div>\n                        <form onSubmit={handleSave} className=\"space-y-4\">\n                            {modalType === 'driver' && <>\n                                {/* Jika Edit, nama tidak bisa diubah (karena terikat user). Jika Baru, pilih user dari list */}\n                                {editingItem ? (\n                                    <input className=\"w-full border p-2 rounded bg-gray-100 text-gray-500 cursor-not-allowed\" value={formData.name || ''} readOnly />\n                                ) : (\n                                    <select\n                                        className=\"w-full border p-2 rounded bg-white text-gray-800\"\n                                        value={formData.userId || ''}\n                                        onChange={e => {\n                                            const selectedUser = users.find(u => u.id === e.target.value);\n                                            setFormData({ ...formData, userId: e.target.value, name: selectedUser ? selectedUser.full_name : '' });\n                                        }}\n                                        required\n                                    >\n                                        <option value=\"\">-- Pilih User untuk dijadikan Driver --</option>\n                                        {users.filter(u => !drivers.some(d => d.id === u.id)).map(u => (\n                                            <option key={u.id} value={u.id}>{u.full_name} ({u.email})</option>\n                                        ))}\n                                    </select>\n                                )}\n\n                                <input className=\"w-full border p-2 rounded bg-white text-gray-800\" placeholder=\"Kendaraan\" value={formData.vehicle || ''} onChange={e => setFormData({ ...formData, vehicle: e.target.value })} />\n                                <select className=\"w-full border p-2 rounded bg-white text-gray-800\" value={formData.shift || ''} onChange={e => setFormData({ ...formData, shift: e.target.value })}><option value=\"Shift 1 (08:00 - 12:00)\">Shift 1</option><option value=\"Shift 2 (13:00 - 17:00)\">Shift 2</option></select>\n                                <select className=\"w-full border p-2 rounded bg-white text-gray-800\" value={formData.status || 'Off Duty'} onChange={e => setFormData({ ...formData, status: e.target.value })}><option value=\"On Duty\">On Duty</option><option value=\"Off Duty\">Off Duty</option></select>\n                            </>}\n\n                            {modalType === 'area' && <><input className=\"w-full border p-2 rounded bg-white text-gray-800\" placeholder=\"Kelurahan\" value={formData.kelurahan || ''} onChange={e => setFormData({ ...formData, kelurahan: e.target.value })} required /><div className=\"grid grid-cols-2 gap-4\"><input className=\"border p-2 rounded bg-white text-gray-800\" placeholder=\"RW\" value={formData.rw || ''} onChange={e => setFormData({ ...formData, rw: e.target.value })} /><input className=\"border p-2 rounded bg-white text-gray-800\" placeholder=\"RT\" value={formData.rt || ''} onChange={e => setFormData({ ...formData, rt: e.target.value })} /></div><select className=\"w-full border p-2 rounded bg-white text-gray-800\" value={formData.driverId || ''} onChange={e => setFormData({ ...formData, driverId: e.target.value })}><option value=\"\">Pilih Driver</option>{drivers.map(d => <option key={d.id} value={d.id}>{d.name}</option>)}</select></>}\n\n                            {modalType === 'pickup' && <><div className=\"bg-gray-100 p-3 rounded text-sm text-gray-800 font-medium\">User: {formData.user} ({formData.weightLabel})</div><select className=\"w-full border p-2 rounded bg-white text-gray-800\" value={formData.status || 'Pending'} onChange={e => setFormData({ ...formData, status: e.target.value })}><option value=\"Pending\">Pending</option><option value=\"In Progress\">Proses</option><option value=\"Done\">Selesai</option><option value=\"Canceled\">Dibatalkan</option></select><select className=\"w-full border p-2 rounded bg-white text-gray-800\" value={formData.driver || ''} onChange={e => setFormData({ ...formData, driver: e.target.value })}><option value=\"\">Assign Driver</option>{drivers.map(d => <option key={d.id} value={d.name}>{d.name}</option>)}</select></>}\n\n                            {modalType === 'user' && <>\n                                <input className=\"w-full border p-2 rounded bg-white text-gray-800\" placeholder=\"Nama\" value={formData.name || ''} onChange={e => setFormData({ ...formData, name: e.target.value })} />\n                                <select className=\"w-full border p-2 rounded bg-white text-gray-800\" value={formData.role || ''} onChange={e => setFormData({ ...formData, role: e.target.value })}><option value=\"user\">User</option><option value=\"admin\">Admin</option><option value=\"driver\">Driver (Via Menu Driver)</option><option value=\"rt\">Ketua RT</option><option value=\"rw\">Ketua RW</option></select>\n                                <input className=\"w-full border p-2 rounded bg-white text-gray-800\" placeholder=\"Alamat\" value={formData.region || ''} onChange={e => setFormData({ ...formData, region: e.target.value })} />\n                                <div className=\"grid grid-cols-2 gap-4\">\n                                    <input className=\"border p-2 rounded bg-white text-gray-800\" placeholder=\"RT\" value={formData.rt || ''} onChange={e => setFormData({ ...formData, rt: e.target.value })} />\n                                    <input className=\"border p-2 rounded bg-white text-gray-800\" placeholder=\"RW\" value={formData.rw || ''} onChange={e => setFormData({ ...formData, rw: e.target.value })} />\n                                </div>\n                            </>}\n\n                            <button type=\"submit\" disabled={loading} className=\"w-full py-3 bg-green-600 text-white rounded-lg font-bold hover:bg-green-700 transition mt-4\">{loading ? 'Menyimpan...' : 'Simpan'}</button>\n                        </form>\n                    </div>\n                </div>\n            )}\n        </div>\n    );\n}"],"names":[],"mappings":"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"}}]
}