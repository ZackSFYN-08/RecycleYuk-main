{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 28, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Administrator/Downloads/RecycleYuk-revision/RecycleYuk/RecycleYuk/src/app/dashboard/user/page.js"],"sourcesContent":["'use client';\n\nimport { useEffect, useState, useRef } from 'react';\nimport { useRouter } from 'next/navigation';\nimport { createClient } from '@supabase/supabase-js';\nimport { \n  Trash2, Calendar, Award, Truck, MapPin, User, FileText, \n  Bell, BookOpen, Clock, X, LogOut, ChevronLeft, ChevronRight, HelpCircle,\n  Wallet, CheckCircle2, AlertCircle, Search, PlayCircle, \n  Phone, MessageCircle, Star, ArrowRight, Megaphone, CheckCheck, Trash,\n  CreditCard, QrCode, Building, Loader2, Lock, Edit2, Menu, Send, Home,\n  Navigation // Icon Navigasi GPS\n} from 'lucide-react';\nimport Swal from 'sweetalert2';\n\n// --- OPENLAYERS IMPORTS ---\nimport 'ol/ol.css'; \nimport Map from 'ol/Map';\nimport View from 'ol/View';\nimport TileLayer from 'ol/layer/Tile';\nimport OSM from 'ol/source/OSM';\nimport VectorLayer from 'ol/layer/Vector';\nimport VectorSource from 'ol/source/Vector';\nimport Feature from 'ol/Feature';\nimport Point from 'ol/geom/Point';\nimport LineString from 'ol/geom/LineString';\nimport { fromLonLat } from 'ol/proj';\nimport { Icon, Style, Stroke, Circle as CircleStyle, Fill } from 'ol/style';\n\nconst supabase = createClient(process.env.NEXT_PUBLIC_SUPABASE_URL, process.env.NEXT_PUBLIC_SUPABASE_ANON_KEY);\n\n// Koordinat Default [Lon, Lat]\nconst DEFAULT_COORDS = [107.6191, -6.9175]; \nconst DRIVER_START = [107.6250, -6.9250];\n\nconst WEIGHT_OPTIONS = [\n  { label: 'Ringan (0 - 5 KG)', value: 5 },\n  { label: 'Sedang (5 - 10 KG)', value: 10 },\n  { label: 'Berat (10 - 20 KG)', value: 20 },\n  { label: 'Sangat Berat (> 20 KG)', value: 30 }\n];\n\nconst TIME_OPTIONS = [\n  { label: 'Pagi (08:00 - 11:00)', value: '09:00' },\n  { label: 'Sore (15:00 - 18:00)', value: '16:00' }\n];\n\nconst COMPLAINT_CATEGORIES = ['Sampah Menumpuk', 'Jadwal Terlewat', 'Fasilitas Rusak', 'Pelayanan Petugas', 'Lainnya'];\n\nexport default function UserDashboard() {\n  const router = useRouter();\n\n  // --- STATE MANAGEMENT ---\n  const [loading, setLoading] = useState(true);\n  const [activePage, setActivePage] = useState('dashboard');\n  const [currentTime, setCurrentTime] = useState('');\n  \n  // --- GPS STATE ---\n  const [userLocation, setUserLocation] = useState(DEFAULT_COORDS); \n  const [isGpsActive, setIsGpsActive] = useState(false);\n\n  // UI States\n  const [isSidebarOpen, setIsSidebarOpen] = useState(true); \n  const [isMobileMenuOpen, setIsMobileMenuOpen] = useState(false);\n  \n  // Data States\n  const [profile, setProfile] = useState(null);\n  const [stats, setStats] = useState({ totalWaste: 0, lastPickup: '-', points: 0 });\n  const [wasteTypes, setWasteTypes] = useState([]);\n  const [pickupHistory, setPickupHistory] = useState([]);\n  const [activePickup, setActivePickup] = useState(null);\n  const [driverLocation, setDriverLocation] = useState(DRIVER_START);\n  const [complaints, setComplaints] = useState([]);\n  const [notifications, setNotifications] = useState([]);\n\n  // Forms\n  const [complaintForm, setComplaintForm] = useState({ title: '', category: '', content: '' });\n  const [formRequest, setFormRequest] = useState({ wasteTypeId: '', weight: 5, date: '', time: '09:00', notes: '' });\n  \n  // Payment & Modals\n  const [paymentModal, setPaymentModal] = useState({ open: false, bill: null, step: 'method' });\n  const [bills, setBills] = useState([{ id: 101, title: 'Iuran Kebersihan - Feb 2026', amount: 25000, status: 'Unpaid', due_date: '2026-02-10' }]);\n  const [searchTerm, setSearchTerm] = useState('');\n  const [selectedCategory, setSelectedCategory] = useState('Semua');\n  const [selectedArticle, setSelectedArticle] = useState(null);\n  const [selectedHistory, setSelectedHistory] = useState(null);\n  const [isEditProfile, setIsEditProfile] = useState(false);\n\n  // --- OPENLAYERS REFS ---\n  const mapElement = useRef(); \n  const mapRef = useRef(null); \n  const vectorSourceRef = useRef(new VectorSource()); \n\n  const SIDEBAR_MENUS = [\n    { id: 'dashboard', label: 'Dashboard', icon: Award },\n    { id: 'request', label: 'Request Pickup', icon: Truck },\n    { id: 'history', label: 'Riwayat', icon: FileText },\n    { id: 'pengaduan', label: 'Pengaduan', icon: Megaphone },\n    { id: 'iuran', label: 'Bayar Iuran', icon: Wallet },\n    { id: 'tracking', label: 'Tracking', icon: MapPin },\n    { id: 'edukasi', label: 'Edukasi', icon: BookOpen },\n  ];\n\n  const EDUCATION_DATA = [\n    { id: 1, type: 'article', category: 'Tips', title: 'Cara Memilah Sampah', desc: 'Panduan dasar.', content: '...', readTime: '3 min' },\n    { id: 2, type: 'video', category: 'Tutorial', title: 'Membuat Kompos', desc: 'Video tutorial.', content: 'Video Placeholder', readTime: '5 min' },\n    { id: 3, type: 'article', category: 'Info', title: 'Bahaya B3', desc: 'Kenapa baterai berbahaya?', content: '...', readTime: '4 min' },\n  ];\n\n  // --- 1. SETUP MIDTRANS ---\n  useEffect(() => {\n    const snapScript = \"https://app.sandbox.midtrans.com/snap/snap.js\";\n    const clientKey = process.env.NEXT_PUBLIC_MIDTRANS_CLIENT_KEY; // Pastikan ada di .env.local\n    \n    const script = document.createElement('script');\n    script.src = snapScript;\n    script.setAttribute('data-client-key', clientKey);\n    script.async = true;\n    document.body.appendChild(script);\n    \n    return () => { \n        if (document.body.contains(script)) document.body.removeChild(script); \n    }\n  }, []);\n\n  // --- 2. LOGIC & EFFECTS ---\n  useEffect(() => {\n    const timer = setInterval(() => {\n      setCurrentTime(new Date().toLocaleTimeString('id-ID', { hour: '2-digit', minute: '2-digit' }));\n    }, 1000);\n    \n    fetchData();\n    startGpsTracking(); \n\n    // Realtime Listener\n    const channel = supabase\n      .channel('user-dashboard-realtime')\n      .on('postgres_changes', { event: '*', schema: 'public', table: 'transactions' }, (payload) => {\n          fetchData(); \n          if (payload.eventType === 'UPDATE' && payload.new.status === 'Process') {\n             Swal.fire({\n                 title: 'Pengangkutan Aktif!',\n                 text: 'Driver sedang menuju lokasi Anda.',\n                 icon: 'info',\n                 timer: 3000,\n                 showConfirmButton: false,\n                 toast: true,\n                 position: 'top-end',\n                 background: '#d1fae5', \n                 color: '#065f46'\n             });\n             setActivePage('tracking'); \n          }\n      })\n      .subscribe();\n\n    const handleResize = () => { if (window.innerWidth >= 768) setIsMobileMenuOpen(false); };\n    window.addEventListener('resize', handleResize);\n    \n    return () => { \n        clearInterval(timer); \n        window.removeEventListener('resize', handleResize);\n        supabase.removeChannel(channel);\n    };\n  }, []);\n\n  const [mounted, setMounted] = useState(false);\n  useEffect(() => { setMounted(true) }, []);\n\n  // --- 3. GPS LOGIC (WATCH POSITION) ---\n  const startGpsTracking = () => {\n    if (!navigator.geolocation) return;\n\n    navigator.geolocation.watchPosition(\n        (position) => {\n            const { latitude, longitude } = position.coords;\n            const newLoc = [longitude, latitude];\n            setUserLocation(newLoc); \n            setIsGpsActive(true);\n        },\n        (error) => console.error(\"GPS Error:\", error),\n        { enableHighAccuracy: true, maximumAge: 0, timeout: 5000 }\n    );\n  };\n\n  const centerToUserLocation = () => {\n      if (mapRef.current && isGpsActive) {\n          mapRef.current.getView().animate({ center: fromLonLat(userLocation), zoom: 17, duration: 1000 });\n      } else {\n          Swal.fire('GPS Mencari...', 'Pastikan izin lokasi aktif.', 'info');\n      }\n  };\n\n  // Simulasi Pergerakan Driver\n  useEffect(() => {\n    if (activePage === 'tracking' && activePickup) {\n      const interval = setInterval(() => {\n        setDriverLocation(prev => {\n          const lonDiff = (userLocation[0] - prev[0]) * 0.05;\n          const latDiff = (userLocation[1] - prev[1]) * 0.05;\n          if(Math.abs(lonDiff) < 0.00001 && Math.abs(latDiff) < 0.00001) return prev;\n          return [prev[0] + lonDiff, prev[1] + latDiff];\n        });\n      }, 1000);\n      return () => clearInterval(interval);\n    } else { \n        setDriverLocation(DRIVER_START); \n    }\n  }, [activePage, activePickup, userLocation]);\n\n  // --- 4. MAP INITIALIZATION ---\n  useEffect(() => {\n      if (activePage === 'tracking' && mapElement.current && !mapRef.current) {\n          \n          const vectorLayer = new VectorLayer({\n              source: vectorSourceRef.current,\n              zIndex: 100\n          });\n\n          const initialMap = new Map({\n              target: mapElement.current,\n              layers: [\n                  new TileLayer({ source: new OSM() }), \n                  vectorLayer\n              ],\n              view: new View({\n                  center: fromLonLat(DEFAULT_COORDS),\n                  zoom: 13\n              }),\n              controls: [] \n          });\n\n          mapRef.current = initialMap;\n          updateMapMarkers(); \n      }\n\n      return () => {\n          if (activePage !== 'tracking' && mapRef.current) {\n              mapRef.current.setTarget(null);\n              mapRef.current = null;\n          }\n      }\n  }, [activePage]);\n\n  // --- 5. UPDATE MARKER & RUTE ---\n  const updateMapMarkers = () => {\n      if (!mapRef.current) return;\n\n      vectorSourceRef.current.clear();\n\n      // A. Marker Rumah User\n      if(isGpsActive) {\n          const accuracyFeature = new Feature({ geometry: new Point(fromLonLat(userLocation)) });\n          accuracyFeature.setStyle(new Style({\n              image: new CircleStyle({\n                  radius: 8,\n                  fill: new Fill({ color: '#3b82f6' }),\n                  stroke: new Stroke({ color: '#fff', width: 2 })\n              })\n          }));\n          vectorSourceRef.current.addFeature(accuracyFeature);\n      }\n\n      const homeFeature = new Feature({ geometry: new Point(fromLonLat(userLocation)) });\n      homeFeature.setStyle(new Style({\n          image: new Icon({\n              src: 'https://cdn-icons-png.flaticon.com/512/25/25694.png', \n              scale: 0.07, anchor: [0.5, 1]\n          })\n      }));\n      vectorSourceRef.current.addFeature(homeFeature);\n\n      // B. Marker Driver\n      if (activePickup?.rawStatus === 'Process') {\n          const driverFeature = new Feature({ geometry: new Point(fromLonLat(driverLocation)) });\n          driverFeature.setStyle(new Style({\n              image: new Icon({\n                  src: 'https://cdn-icons-png.flaticon.com/512/3096/3096673.png', \n                  scale: 0.08, anchor: [0.5, 1]\n              })\n          }));\n          vectorSourceRef.current.addFeature(driverFeature);\n\n          // C. Garis Rute\n          const routeFeature = new Feature({\n              geometry: new LineString([fromLonLat(driverLocation), fromLonLat(userLocation)])\n          });\n          routeFeature.setStyle(new Style({\n              stroke: new Stroke({ color: '#10B981', width: 4, lineDash: [10, 10] })\n          }));\n          vectorSourceRef.current.addFeature(routeFeature);\n      }\n  };\n\n  useEffect(() => {\n      updateMapMarkers();\n  }, [userLocation, driverLocation, activePickup, activePage]);\n\n\n  // --- DATA FETCHING ---\n  const fetchData = async () => {\n    try {\n      const { data: { user } } = await supabase.auth.getUser();\n      if (!user) { router.push('/login'); return; }\n\n      const { data: profileData } = await supabase.from('profiles').select('*').eq('id', user.id).single();\n      setProfile(profileData);\n\n      const { data: wastes } = await supabase.from('waste_types').select('*');\n      if (wastes) setWasteTypes(wastes);\n\n      if (profileData?.rt) {\n          const { data: notifData } = await supabase.from('notifications')\n            .select('*').or(`rt.eq.${profileData.rt},rt.is.null`).order('created_at', { ascending: false });\n          setNotifications(notifData || []);\n      }\n\n      const { data: transactions } = await supabase\n        .from('transactions')\n        .select(`*, waste_types(name, price_per_kg), drivers:driver_id(full_name)`) \n        .eq('profile_id', user.id)\n        .order('created_at', { ascending: false });\n\n      if (transactions) {\n        setPickupHistory(transactions.map(t => ({\n          id: `#REQ-${String(t.id).slice(0,6)}`, \n          type: t.waste_types?.name, \n          weight: t.weight,\n          date: new Date(t.created_at).toLocaleDateString('id-ID'),\n          time: new Date(t.created_at).toLocaleTimeString('id-ID', { hour: '2-digit', minute: '2-digit' }),\n          status: t.status, fee: t.total_price || 0\n        })));\n\n        const totalW = transactions.reduce((acc, curr) => acc + (Number(curr.weight) || 0), 0);\n        setStats({ totalWaste: totalW, lastPickup: transactions[0] ? new Date(transactions[0].created_at).toLocaleDateString('id-ID') : '-', points: Math.floor(totalW * 10) });\n\n        const active = transactions.find(t => t.status === 'Pending' || t.status === 'Process');\n        if (active) {\n          setActivePickup({\n            id: active.id, \n            status: active.status === 'Process' ? 'Pengangkutan Aktif' : 'Menunggu Konfirmasi',\n            rawStatus: active.status,\n            driver: active.drivers?.full_name || 'Mencari Driver...', \n            vehicle: 'Pickup Layanan', \n            rating: 4.8, \n            eta: active.status === 'Process' ? 'Sedang Jalan' : 'Menunggu'\n          });\n        } else { setActivePickup(null); }\n      }\n      \n      const { data: complaintsData } = await supabase.from('complaints').select('*').eq('user_id', user.id).order('created_at', { ascending: false });\n      setComplaints(complaintsData || []);\n\n    } catch (error) { console.error(\"Error data:\", error); } finally { setLoading(false); }\n  };\n\n  const navigateTo = (pageId) => { setActivePage(pageId); setIsMobileMenuOpen(false); };\n  \n  const handleLogout = async () => { \n      const result = await Swal.fire({ title: 'Keluar?', text: \"Sesi Anda akan berakhir.\", icon: 'warning', showCancelButton: true, confirmButtonColor: '#d33', confirmButtonText: 'Ya' });\n      if (result.isConfirmed) { await supabase.auth.signOut(); router.push('/login'); }\n  };\n\n  const handleUpdateProfile = async (e) => {\n      e.preventDefault();\n      const formData = new FormData(e.target);\n      const updatedData = { full_name: formData.get('fullName'), email: formData.get('email'), address: formData.get('address'), rt: formData.get('rt'), rw: formData.get('rw') };\n      try { await supabase.from('profiles').update(updatedData).eq('id', profile.id); setProfile({...profile, ...updatedData}); setIsEditProfile(false); Swal.fire('Sukses', 'Profil disimpan', 'success'); fetchData(); } catch(e) {}\n  };\n\n  const handleRequestSubmit = async (e) => {\n    e.preventDefault();\n    if (!formRequest.wasteTypeId) { Swal.fire('Gagal', 'Pilih sampah', 'error'); return; }\n    try {\n      const { error } = await supabase.from('transactions').insert({ profile_id: profile.id, waste_type_id: formRequest.wasteTypeId, weight: formRequest.weight, status: 'Pending', pickup_time: formRequest.time, notes: formRequest.notes });\n      if (error) throw error;\n      Swal.fire('Berhasil', 'Request terkirim', 'success');\n      setFormRequest({ wasteTypeId: '', weight: 5, date: '', time: '09:00', notes: '' });\n      setActivePage('tracking'); \n    } catch (err) { Swal.fire('Gagal', err.message, 'error'); }\n  };\n\n  const handleComplaintSubmit = async (e) => { e.preventDefault(); try { await supabase.from('complaints').insert({ user_id: profile.id, subject: complaintForm.title, category: complaintForm.category, content: complaintForm.content, status: 'Pending', created_at: new Date() }); Swal.fire('Terkirim', 'Aduan dikirim', 'success'); setComplaintForm({ title: '', category: '', content: '' }); fetchData(); } catch(e){} };\n  \n  const handlePayClick = (b) => setPaymentModal({ open: true, bill: b, step: 'method' });\n\n  // --- PEMBAYARAN IURAN (REAL MIDTRANS) ---\n  const processPayment = async () => {\n    // 1. Validasi Snap\n    if (!window.snap) {\n        Swal.fire('Error', 'Sistem pembayaran sedang memuat, mohon tunggu.', 'error');\n        return;\n    }\n\n    const currentBill = paymentModal.bill;\n    \n    // Ubah status modal jadi loading\n    setPaymentModal(p => ({ ...p, step: 'processing' }));\n\n    try {\n        // 2. Request Token dari Backend\n        const response = await fetch('/api/payment', {\n            method: 'POST',\n            headers: { 'Content-Type': 'application/json' },\n            body: JSON.stringify({\n                id: currentBill.id,\n                amount: currentBill.amount,\n                firstName: profile?.full_name || \"Warga\",\n                email: profile?.email || \"warga@example.com\",\n                title: currentBill.title\n            })\n        });\n\n        const data = await response.json();\n\n        if (!response.ok) throw new Error(data.error || \"Gagal membuat transaksi\");\n\n        // 3. Munculkan Popup Midtrans\n        window.snap.pay(data.token, {\n            onSuccess: async function(result) {\n                // Update State Lokal\n                setBills(prev => prev.map(b => b.id === currentBill.id ? { ...b, status: 'Paid' } : b));\n                setPaymentModal(p => ({ ...p, step: 'success' }));\n                \n                // (Opsional) Update ke Supabase jika tabel bills ada di DB\n                // await supabase.from('bills').update({ status: 'Paid' }).eq('id', currentBill.id);\n            },\n            onPending: function(result) {\n                Swal.fire('Pending', 'Menunggu pembayaran diselesaikan', 'info');\n                setPaymentModal(p => ({ ...p, open: false }));\n            },\n            onError: function(result) {\n                Swal.fire('Gagal', 'Pembayaran gagal atau dibatalkan', 'error');\n                setPaymentModal(p => ({ ...p, open: false }));\n            },\n            onClose: function() {\n                setPaymentModal(p => ({ ...p, step: 'method' }));\n            }\n        });\n\n    } catch (error) {\n        console.error(error);\n        Swal.fire('Error', error.message, 'error');\n        setPaymentModal(p => ({ ...p, step: 'method' }));\n    }\n  };\n\n  const markAllRead = () => setNotifications(notifications.map(n => ({ ...n, read: true })));\n  const markAsRead = (id) => setNotifications(notifications.map(n => n.id === id ? { ...n, read: true } : n));\n  const deleteNotification = (id) => setNotifications(notifications.filter(n => n.id !== id));\n  const unreadCount = notifications.filter(n => !n.read).length;\n  const getStatusColor = (s) => (s === 'Done' ? 'bg-green-100 text-green-700' : 'bg-blue-100 text-blue-700');\n\n  // --- RENDERERS ---\n\n  const renderDashboard = () => (\n      <div className=\"space-y-6 animate-in fade-in text-gray-800 pb-20 md:pb-0\">\n          <div className=\"bg-gradient-to-r from-green-600 to-emerald-600 rounded-xl shadow-lg p-6 md:p-8 text-white relative overflow-hidden\">\n              <div className=\"relative z-10\">\n                <h2 className=\"text-2xl md:text-3xl font-bold mb-2\">Halo, {profile?.full_name?.split(' ')[0]}! ðŸ‘‹</h2>\n                <p className=\"opacity-90\">{profile?.rt ? `Warga RT ${profile.rt} / RW ${profile.rw}` : 'Lengkapi data RT/RW di profil.'}</p>\n              </div>\n              <Award className=\"absolute right-[-20px] bottom-[-20px] opacity-10 w-40 h-40 transform rotate-12\" />\n          </div>\n          <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4 md:gap-6\">\n              {[ { l: 'Total Sampah', v: `${stats.totalWaste} kg`, i: Trash2 }, { l: 'Poin', v: stats.points, i: Award }, { l: 'Pickup Terakhir', v: stats.lastPickup, i: Calendar } ].map((s, i) => (\n                  <div key={i} className=\"bg-white p-5 rounded-xl shadow-sm border border-gray-200 flex justify-between items-center\">\n                      <div><p className=\"text-gray-500 text-xs md:text-sm font-medium\">{s.l}</p><h3 className=\"text-xl md:text-2xl font-bold text-gray-800\">{s.v}</h3></div>\n                      <div className=\"bg-gray-100 p-3 rounded-lg text-gray-600\"><s.i size={24}/></div>\n                  </div>\n              ))}\n          </div>\n          <div className=\"bg-white rounded-xl shadow-sm p-5 md:p-6 border border-gray-200\">\n              <div className=\"flex justify-between items-center mb-4\"><h3 className=\"text-lg font-bold text-gray-800\">Status Pickup Terbaru</h3>{activePickup ? (<span className={`px-3 py-1 rounded-full text-xs font-bold ${getStatusColor(activePickup.status)}`}>{activePickup.status}</span>) : (<span className=\"px-3 py-1 bg-gray-100 text-gray-500 rounded-full text-xs font-bold\">Standby</span>)}</div>\n              {activePickup ? (\n                  <div className=\"bg-blue-50 border border-blue-200 rounded-xl p-4 flex flex-col md:flex-row items-center justify-between gap-4\">\n                      <div className=\"flex items-center gap-4 w-full md:w-auto\">\n                        <div className=\"bg-blue-600 text-white p-3 rounded-lg\"><Truck size={24} /></div>\n                        <div><p className=\"font-bold text-gray-900 text-lg\">{activePickup.status}</p><p className=\"text-sm text-gray-700\">Driver: {activePickup.driver}</p></div>\n                      </div>\n                      <button onClick={() => navigateTo('tracking')} className=\"w-full md:w-auto px-6 py-2 bg-blue-600 text-white rounded-lg text-sm hover:bg-blue-700 font-medium\">Lacak</button>\n                  </div>\n              ) : (\n                  <div className=\"text-center py-8 text-gray-400 border-2 border-dashed rounded-lg bg-gray-50\"><Truck size={32} className=\"mx-auto mb-2 opacity-50\"/><p>Belum ada request pickup aktif.</p><button onClick={() => navigateTo('request')} className=\"mt-2 text-green-600 font-bold hover:underline\">Buat Request Baru</button></div>\n              )}\n          </div>\n      </div>\n  );\n\n  const renderRequest = () => (\n      <div className=\"bg-white rounded-xl shadow-sm p-5 md:p-6 border border-gray-200 animate-in slide-in-from-right text-gray-800 pb-20 md:pb-0\">\n          <h3 className=\"text-lg font-bold mb-6 flex items-center gap-2 text-gray-800\"><Truck/> Form Request</h3>\n          <form onSubmit={handleRequestSubmit} className=\"space-y-4\">\n              <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n                  <div><label className=\"block text-sm font-medium mb-1 text-gray-600\">Jenis Sampah</label><select className=\"w-full border p-3 rounded-lg bg-white text-gray-800 focus:ring-2 focus:ring-green-500 outline-none\" value={formRequest.wasteTypeId} onChange={e => setFormRequest({...formRequest, wasteTypeId: e.target.value})} required><option value=\"\">Pilih Sampah</option>{wasteTypes.map(w => <option key={w.id} value={w.id}>{w.name}</option>)}</select></div>\n                  <div><label className=\"block text-sm font-medium mb-1 text-gray-600\">Klasifikasi Berat</label><select className=\"w-full border p-3 rounded-lg bg-white text-gray-800 focus:ring-2 focus:ring-green-500 outline-none\" value={formRequest.weight} onChange={e => setFormRequest({...formRequest, weight: e.target.value})} required><option value=\"\">Pilih Kategori...</option>{WEIGHT_OPTIONS.map((opt, i) => (<option key={i} value={opt.value}>{opt.label}</option>))}</select></div>\n              </div>\n              <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n                  <div><label className=\"block text-sm font-medium mb-1 text-gray-600\">Tanggal</label><input type=\"date\" className=\"w-full border p-3 rounded-lg bg-white text-gray-800 focus:ring-2 focus:ring-green-500 outline-none\" value={formRequest.date} onChange={e => setFormRequest({...formRequest, date: e.target.value})} required/></div>\n                  <div><label className=\"block text-sm font-medium mb-1 text-gray-600\">Waktu Pengangkutan</label><select className=\"w-full border p-3 rounded-lg bg-white text-gray-800 focus:ring-2 focus:ring-green-500 outline-none\" value={formRequest.time} onChange={e => setFormRequest({...formRequest, time: e.target.value})} required><option value=\"\">Pilih Waktu...</option>{TIME_OPTIONS.map((opt, i) => (<option key={i} value={opt.value}>{opt.label}</option>))}</select></div>\n              </div>\n              <div><label className=\"block text-sm font-medium mb-1 text-gray-600\">Catatan</label><textarea className=\"w-full border p-3 rounded-lg h-24 bg-white text-gray-800 focus:ring-2 focus:ring-green-500 outline-none\" placeholder=\"Lokasi detail...\" value={formRequest.notes} onChange={e => setFormRequest({...formRequest, notes: e.target.value})}></textarea></div>\n              <button type=\"submit\" className=\"w-full bg-green-600 text-white py-3 rounded-lg font-bold hover:bg-green-700 transition\">Kirim Request</button>\n          </form>\n      </div>\n  );\n\n  const renderPengaduan = () => (\n    <div className=\"space-y-6 animate-in slide-in-from-right pb-20 md:pb-0\">\n        <div className=\"bg-white rounded-xl shadow-sm p-5 md:p-6 border border-gray-200 text-gray-800\">\n            <h3 className=\"text-lg font-bold mb-6 flex items-center gap-2 text-gray-800\"><Megaphone/> Layanan Pengaduan</h3>\n            <form onSubmit={handleComplaintSubmit} className=\"space-y-4 mb-8\">\n                <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n                    <div><label className=\"block text-sm font-medium mb-1 text-gray-600\">Judul</label><input className=\"w-full border p-3 rounded-lg bg-white text-gray-800 focus:ring-2 focus:ring-green-500 outline-none\" placeholder=\"Judul Masalah\" value={complaintForm.title} onChange={e=>setComplaintForm({...complaintForm, title: e.target.value})} required/></div>\n                    <div><label className=\"block text-sm font-medium mb-1 text-gray-600\">Kategori</label><select className=\"w-full border p-3 rounded-lg bg-white text-gray-800 focus:ring-2 focus:ring-green-500 outline-none\" value={complaintForm.category} onChange={e=>setComplaintForm({...complaintForm, category: e.target.value})} required><option value=\"\">Pilih...</option>{COMPLAINT_CATEGORIES.map((cat, i) => <option key={i} value={cat}>{cat}</option>)}</select></div>\n                </div>\n                <div><label className=\"block text-sm font-medium mb-1 text-gray-600\">Deskripsi</label><textarea className=\"w-full border p-3 rounded-lg h-24 bg-white text-gray-800 focus:ring-2 focus:ring-green-500 outline-none resize-none\" placeholder=\"Jelaskan detail...\" value={complaintForm.content} onChange={e=>setComplaintForm({...complaintForm, content: e.target.value})} required></textarea></div>\n                <button type=\"submit\" className=\"w-full bg-red-600 text-white py-3 rounded-lg font-bold hover:bg-red-700 transition flex items-center justify-center gap-2\"><Send size={18}/> Kirim Pengaduan</button>\n            </form>\n            <h4 className=\"font-bold text-gray-700 mb-3 border-b pb-2\">Riwayat Pengaduan</h4>\n            <div className=\"space-y-3\">{complaints.length > 0 ? complaints.map(c=><div key={c.id} className=\"border p-4 rounded-xl hover:bg-gray-50 transition bg-white\"><div className=\"flex justify-between items-start mb-2\"><div><p className=\"font-bold text-gray-800\">{c.subject}</p><p className=\"text-xs text-gray-500\">{new Date(c.created_at).toLocaleDateString('id-ID')} â€¢ {c.category}</p></div><span className={`px-2 py-1 text-xs font-bold rounded ${c.status==='Resolved'?'bg-green-100 text-green-700':'bg-yellow-100 text-yellow-700'}`}>{c.status}</span></div><p className=\"text-sm text-gray-700 bg-gray-50 p-2 rounded mb-2 italic\">\"{c.content}\"</p>{c.response && <div className=\"mt-2 pl-3 border-l-4 border-green-500\"><p className=\"text-xs font-bold text-green-700\">Tanggapan RT/RW:</p><p className=\"text-sm text-gray-700\">{c.response}</p></div>}</div>) : <div className=\"text-center py-6 text-gray-400 border border-dashed rounded-lg\">Belum ada riwayat.</div>}</div>\n        </div>\n    </div>\n  );\n\n  const renderTracking = () => (\n    <div className=\"grid grid-cols-1 lg:grid-cols-3 gap-6 animate-in slide-in-from-right pb-20 md:pb-0\">\n        <div className=\"lg:col-span-2 bg-gray-200 rounded-xl h-64 md:h-[450px] relative overflow-hidden border shadow-inner z-0\">\n            {/* OPENLAYERS MAP CONTAINER */}\n            <div ref={mapElement} style={{ width: '100%', height: '100%' }} />\n            \n            {/* Tombol Re-center GPS */}\n            <button \n                onClick={centerToUserLocation} \n                className=\"absolute bottom-16 right-4 z-[400] bg-white p-2 rounded-full shadow-lg text-blue-600 hover:bg-blue-50 transition border border-gray-200\"\n                title=\"Lokasi Saya\"\n            >\n                <Navigation size={24} />\n            </button>\n\n            <div className=\"absolute bottom-4 left-1/2 -translate-x-1/2 bg-white/90 backdrop-blur px-6 py-2 rounded-full shadow-lg flex items-center gap-2 animate-bounce w-max border border-gray-200\">\n                <div className=\"bg-green-600 text-white p-1 rounded-full\"><Truck size={16}/></div>\n                <div><p className=\"text-xs font-bold text-gray-500\">Estimasi</p><p className=\"font-bold text-green-700 text-sm\">{activePickup?.eta || 'Menunggu'}</p></div>\n            </div>\n        </div>\n        <div className=\"bg-white p-6 rounded-xl border border-gray-200 shadow-sm\">\n            <h3 className=\"font-bold text-lg mb-4 text-gray-800\">Info Pengangkutan</h3>\n            {activePickup ? (\n                <div className=\"space-y-4\">\n                    <div className=\"flex items-center gap-3\"><div className=\"w-12 h-12 bg-gray-100 rounded-full flex items-center justify-center text-xl font-bold text-gray-500\">BS</div><div><h4 className=\"font-bold text-gray-800\">{activePickup.driver}</h4><p className=\"text-xs text-gray-500\">{activePickup.vehicle}</p></div></div>\n                    <div className=\"p-3 bg-yellow-50 text-yellow-800 rounded text-sm border border-yellow-200\">Mohon bersiap, driver sedang menuju titik lokasi Anda.</div>\n                    <div className=\"grid grid-cols-2 gap-2\"><button className=\"py-2 bg-green-50 text-green-700 rounded font-bold text-sm flex justify-center gap-1 hover:bg-green-100 transition\"><MessageCircle size={16}/> Chat</button><button className=\"py-2 bg-blue-50 text-blue-700 rounded font-bold text-sm flex justify-center gap-1 hover:bg-blue-100 transition\"><Phone size={16}/> Call</button></div>\n                </div>\n            ) : <p className=\"text-gray-500 text-center py-4\">Belum ada pickup aktif.</p>}\n        </div>\n    </div>\n  );\n\n  const renderIuran = () => (\n    <div className=\"space-y-6 animate-in slide-in-from-right pb-20 md:pb-0\">\n       <div className=\"bg-white rounded-xl shadow-sm p-6 border border-gray-200\">\n          <div className=\"flex items-center gap-3 mb-6\"><div className=\"bg-purple-100 p-3 rounded-lg text-purple-600\"><Wallet size={24} /></div><div><h3 className=\"text-xl font-bold text-gray-800\">Tagihan Iuran</h3><p className=\"text-sm text-gray-500\">Kelola pembayaran bulanan Anda.</p></div></div>\n          {bills.map(bill => (\n             <div key={bill.id} className=\"border p-4 rounded-xl flex justify-between items-center mb-3 hover:bg-gray-50 transition\">\n                <div className=\"flex items-center gap-4\"><div className=\"bg-gray-100 p-2 rounded-lg text-gray-600\"><Building size={24}/></div><div><p className=\"font-bold text-gray-800\">{bill.title}</p><p className=\"text-sm text-gray-500\">Status: <span className={bill.status==='Paid'?'text-green-600 font-bold':'text-red-600 font-bold'}>{bill.status}</span></p></div></div>\n                {bill.status === 'Unpaid' ? <button onClick={() => handlePayClick(bill)} className=\"w-full md:w-auto bg-red-600 text-white px-6 py-2 rounded-lg font-bold hover:bg-red-700 transition\">Bayar</button> : <span className=\"w-full md:w-auto text-green-600 font-bold flex items-center justify-center md:justify-end gap-1\"><CheckCheck size={16}/> Lunas</span>}\n             </div>\n          ))}\n       </div>\n    </div>\n  );\n\n  const renderEdukasi = () => (\n    <div className=\"space-y-6 animate-in slide-in-from-right pb-20 md:pb-0\">\n        <div className=\"flex flex-col md:flex-row gap-4 justify-between items-center bg-white p-4 rounded-xl shadow-sm border border-gray-200\">\n            <div className=\"flex gap-2 w-full md:w-auto overflow-x-auto pb-2 md:pb-0 scrollbar-hide\">{['Semua', 'Tips', 'Tutorial', 'Info'].map(cat => <button key={cat} onClick={() => setSelectedCategory(cat)} className={`px-4 py-1.5 rounded-full text-sm font-bold whitespace-nowrap transition ${selectedCategory === cat ? 'bg-green-600 text-white' : 'bg-gray-100 text-gray-600 hover:bg-gray-200'}`}>{cat}</button>)}</div>\n            <div className=\"flex items-center gap-2 w-full md:w-64 bg-gray-50 px-3 py-2 rounded-lg border border-gray-200\"><Search className=\"text-gray-400\" size={18}/><input type=\"text\" placeholder=\"Cari artikel...\" className=\"w-full outline-none text-sm bg-transparent text-gray-800\" value={searchTerm} onChange={(e) => setSearchTerm(e.target.value)}/></div>\n        </div>\n        <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6\">{EDUCATION_DATA.filter(i => (selectedCategory === 'Semua' || i.category === selectedCategory) && i.title.toLowerCase().includes(searchTerm.toLowerCase())).map((item) => (<div key={item.id} className=\"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden hover:shadow-md transition group cursor-pointer\" onClick={() => setSelectedArticle(item)}><div className=\"h-40 bg-gray-100 flex items-center justify-center text-gray-400 group-hover:bg-green-50 transition\">{item.type==='video'?<PlayCircle size={40} className=\"group-hover:text-green-600\"/>:<BookOpen size={40} className=\"group-hover:text-green-600\"/>}</div><div className=\"p-5\"><span className=\"text-xs font-bold text-green-600 bg-green-50 px-2 py-1 rounded\">{item.category}</span><h3 className=\"font-bold text-lg mt-2 mb-2 text-gray-800 group-hover:text-green-600\">{item.title}</h3><p className=\"text-sm text-gray-500 mb-4 line-clamp-2\">{item.desc}</p><button className=\"text-green-600 font-bold text-sm flex items-center gap-1\">Baca <ArrowRight size={16}/></button></div></div>))}</div>\n    </div>\n  );\n\n  const renderNotifikasi = () => (\n      <div className=\"bg-white rounded-xl shadow-sm border border-gray-200 p-6 animate-in slide-in-from-right pb-20 md:pb-0\">\n          <div className=\"flex justify-between mb-4\"><h3 className=\"font-bold text-xl text-gray-800\">Notifikasi</h3>{unreadCount > 0 && <button onClick={markAllRead} className=\"text-green-600 text-sm font-bold hover:underline\">Tandai dibaca</button>}</div>\n          <div className=\"space-y-2\">{notifications.length > 0 ? notifications.map(n => (<div key={n.id} onClick={() => markAsRead(n.id)} className={`p-4 border-b flex gap-4 cursor-pointer hover:bg-gray-50 transition rounded-lg ${!n.read && 'bg-green-50'}`}><div className={`p-2 rounded-full h-fit flex-shrink-0 ${n.type==='payment'?'bg-green-100 text-green-600':n.type==='pickup'?'bg-blue-100 text-blue-600':'bg-gray-100 text-gray-600'}`}>{n.type==='payment'?<Wallet size={20}/>:n.type==='pickup'?<Truck size={20}/>:<Bell size={20}/>}</div><div className=\"flex-1\"><div className=\"flex justify-between items-start\"><h4 className={`font-bold text-sm ${n.read ? 'text-gray-600' : 'text-black'}`}>{n.title}</h4><span className=\"text-xs text-gray-400 whitespace-nowrap ml-2\">{n.time}</span></div><p className=\"text-sm text-gray-600 mt-1\">{n.message}</p></div><button onClick={(e) => { e.stopPropagation(); deleteNotification(n.id); }} className=\"text-gray-400 hover:text-red-500\"><Trash size={16}/></button></div>)) : <div className=\"text-center py-8 text-gray-400\">Belum ada notifikasi.</div>}</div>\n      </div>\n  );\n\n  const renderProfile = () => (\n    <div className=\"bg-white rounded-xl shadow-sm p-6 border border-gray-200 animate-in slide-in-from-right pb-20 md:pb-0\">\n        <div className=\"flex justify-between items-center mb-6\"><h3 className=\"text-lg font-bold flex items-center gap-2 text-gray-800\"><User/> Profil Saya</h3><button onClick={() => setIsEditProfile(true)} className=\"text-sm font-bold text-green-600 flex items-center gap-1 hover:underline\"><Edit2 size={16}/> Edit</button></div>\n        <div className=\"space-y-4 text-gray-800\">\n            <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\n                <div className=\"p-4 bg-gray-50 rounded-lg border border-gray-100\"><label className=\"text-xs font-bold text-gray-500 uppercase\">Nama Lengkap</label><p className=\"font-medium text-lg text-gray-900\">{profile?.full_name}</p></div>\n                <div className=\"p-4 bg-gray-50 rounded-lg border border-gray-100\"><label className=\"text-xs font-bold text-gray-500 uppercase\">Email</label><p className=\"font-medium text-lg text-gray-900\">{profile?.email}</p></div>\n                <div className=\"p-4 bg-gray-50 rounded-lg border border-gray-100\"><label className=\"text-xs font-bold text-gray-500 uppercase\">NIK</label><p className=\"font-medium text-lg text-gray-900\">{profile?.nik || '-'}</p></div>\n                <div className=\"p-4 bg-green-50 rounded-lg border border-green-100\"><label className=\"text-xs font-bold text-green-700 uppercase\">RT / RW</label><p className=\"font-medium text-lg text-green-900\">{profile?.rt ? `${profile.rt} / ${profile.rw}` : <span className=\"text-red-500 text-sm italic\">Belum diisi</span>}</p></div>\n            </div>\n            <div className=\"p-4 bg-gray-50 rounded-lg border border-gray-100\"><label className=\"text-xs font-bold text-gray-500 uppercase\">Alamat</label><p className=\"font-medium text-lg text-gray-900\">{profile?.address}</p></div>\n            <button onClick={handleLogout} className=\"w-full mt-6 flex justify-center gap-2 bg-red-50 text-red-600 py-3 rounded-lg font-bold hover:bg-red-100 transition\"><LogOut size={20}/> Keluar Aplikasi</button>\n        </div>\n    </div>\n  );\n\n  const renderHistory = () => (\n      <div className=\"bg-white rounded-xl shadow-sm p-6 border border-gray-200 animate-in slide-in-from-right pb-20 md:pb-0\">\n          <h3 className=\"text-lg font-bold mb-6 flex items-center gap-2 text-gray-800\"><FileText/> Riwayat Transaksi</h3>\n          <div className=\"space-y-3\">{pickupHistory.length > 0 ? pickupHistory.map((pickup, idx) => (<div key={idx} className=\"border p-4 rounded-xl flex flex-col md:flex-row justify-between items-start md:items-center mb-3 hover:bg-gray-50 cursor-pointer transition gap-2\" onClick={() => setSelectedHistory(pickup)}><div className=\"flex gap-4 items-center\"><div className=\"bg-green-100 p-3 rounded-lg\"><Trash2 size={24} className=\"text-green-600\" /></div><div><p className=\"font-bold text-gray-800\">{pickup.type}</p><p className=\"text-sm text-gray-500\">{pickup.date} â€¢ {pickup.time}</p></div></div><p className=\"font-bold text-lg text-gray-800\">Rp {pickup.fee.toLocaleString()}</p></div>)) : <div className=\"text-center py-12 text-gray-400\">Belum ada riwayat.</div>}</div>\n      </div>\n  );\n\n  const renderContent = () => {\n      switch (activePage) {\n          case 'dashboard': return renderDashboard();\n          case 'request': return renderRequest();\n          case 'history': return renderHistory();\n          case 'pengaduan': return renderPengaduan();\n          case 'iuran': return renderIuran();\n          case 'tracking': return renderTracking();\n          case 'edukasi': return renderEdukasi();\n          case 'profile': return renderProfile();\n          case 'notifikasi': return renderNotifikasi();\n          default: return <div>Halaman tidak ditemukan</div>;\n      }\n  };\n\n  if (loading) return <div className=\"min-h-screen flex justify-center items-center text-gray-800 font-bold\"><Loader2 className=\"animate-spin mr-2\"/> Memuat Data...</div>;\n\n  return (\n      <div className=\"min-h-screen bg-gray-50 flex font-sans text-gray-800 overflow-x-hidden\">\n        {isMobileMenuOpen && <div className=\"fixed inset-0 bg-black/50 z-40 md:hidden\" onClick={() => setIsMobileMenuOpen(false)}/>}\n        <aside className={`fixed top-0 left-0 z-50 h-full bg-white border-r border-gray-200 transition-transform duration-300 md:translate-x-0 ${isMobileMenuOpen ? 'translate-x-0 w-64' : '-translate-x-full w-64'} ${isSidebarOpen ? 'md:w-64' : 'md:w-20'} flex flex-col`}>\n            <div className=\"h-16 md:h-20 flex items-center justify-between px-4 border-b border-gray-100\">\n                <div className={`text-2xl font-bold text-green-600 flex items-center gap-2 overflow-hidden ${!isSidebarOpen && 'md:hidden'}`}><img src=\"/images/logo.png\" alt=\"Logo\" className=\"w-auto h-auto object-contain\" /></div>\n                <div className={`hidden md:block ${isSidebarOpen ? 'hidden' : 'block mx-auto'}`}><img src=\"/images/logo.png\" alt=\"Logo\" className=\"w-8 h-8 object-contain\" /></div>\n                <button onClick={() => setIsSidebarOpen(!isSidebarOpen)} className=\"hidden md:block p-2 rounded-lg hover:bg-gray-100 text-gray-500\">{isSidebarOpen ? <ChevronLeft size={20}/> : <ChevronRight size={20}/>}</button>\n                <button onClick={() => setIsMobileMenuOpen(false)} className=\"md:hidden p-2 text-gray-500\"><X size={24}/></button>\n            </div>\n            <nav className=\"flex-1 p-3 space-y-2 overflow-y-auto overflow-x-hidden\">{SIDEBAR_MENUS.map(menu => (<button key={menu.id} onClick={() => navigateTo(menu.id)} className={`w-full flex items-center rounded-xl font-medium transition-all duration-200 h-12 ${activePage === menu.id ? 'bg-green-50 text-green-700 shadow-sm border border-green-100' : 'text-gray-600 hover:bg-gray-50 hover:text-green-600'} ${isSidebarOpen ? 'px-4 gap-3 justify-start' : 'justify-center px-0 md:justify-center'} ${!isSidebarOpen && 'md:px-0'}`}><menu.icon size={22} className={`min-w-[22px] ${activePage === menu.id ? 'text-green-600' : 'text-gray-400'}`}/> <span className={`${!isSidebarOpen ? 'md:hidden' : 'block'}`}>{menu.label}</span></button>))}</nav>\n        </aside>\n        <main className={`flex-1 p-4 md:p-8 overflow-y-auto transition-all duration-300 w-full ${isSidebarOpen ? 'md:ml-64' : 'md:ml-20'}`}>\n            <div className=\"md:hidden flex justify-between items-center mb-6 sticky top-0 bg-gray-50 z-30 py-2\"><button onClick={() => setIsMobileMenuOpen(true)}><Menu size={28}/></button><span className=\"font-bold text-lg capitalize\">{activePage}</span><div className=\"w-9 h-9 bg-green-100 rounded-full flex items-center justify-center text-green-700 font-bold\">{profile?.full_name?.charAt(0)}</div></div>\n            <div className=\"max-w-5xl mx-auto\">\n                <header className=\"hidden md:flex justify-between items-center mb-8 gap-4\">\n                    <div><h2 className=\"text-2xl font-bold capitalize text-gray-800\">{activePage === 'dashboard' ? 'Overview' : activePage.replace('-', ' ')}</h2><p className=\"text-gray-500 text-sm\">Pantau aktivitas lingkunganmu.</p></div>\n                    <div className=\"flex items-center gap-4\"><div className=\"bg-white px-3 py-1 rounded border text-sm text-gray-500 shadow-sm flex gap-2\"><Clock size={16}/> {currentTime}</div><button onClick={() => setActivePage('notifikasi')} className=\"p-2 rounded-lg hover:bg-gray-100 relative\"><Bell size={20}/><span className=\"absolute top-2 right-2 w-2 h-2 bg-red-500 rounded-full\"></span></button><button onClick={() => setActivePage('profile')} className=\"w-9 h-9 bg-green-100 rounded-full flex items-center justify-center text-green-700 font-bold\">{profile?.full_name?.charAt(0) || 'U'}</button></div>\n                </header>\n                {renderContent()}\n            </div>\n        </main>\n\n        {/* MODAL EDIT */}\n        {isEditProfile && (\n            <div className=\"fixed inset-0 bg-black/60 flex items-center justify-center z-50 p-4\">\n                <div className=\"bg-white rounded-xl p-6 w-full max-w-md shadow-2xl\">\n                    <h3 className=\"font-bold text-lg mb-4 text-gray-800\">Edit Profil</h3>\n                    <form onSubmit={handleUpdateProfile} className=\"space-y-4\">\n                        <input name=\"fullName\" defaultValue={profile?.full_name} className=\"w-full border p-2 rounded text-gray-800\"/>\n                        <div className=\"grid grid-cols-2 gap-4\"><input name=\"rt\" defaultValue={profile?.rt} className=\"w-full border p-2 rounded text-gray-800\" placeholder=\"RT\"/><input name=\"rw\" defaultValue={profile?.rw} className=\"w-full border p-2 rounded text-gray-800\" placeholder=\"RW\"/></div>\n                        <input name=\"email\" defaultValue={profile?.email} className=\"w-full border p-2 rounded text-gray-800\"/>\n                        <textarea name=\"address\" defaultValue={profile?.address} className=\"w-full border p-2 rounded text-gray-800 h-24\"/>\n                        <div className=\"flex gap-2\"><button type=\"button\" onClick={()=>setIsEditProfile(false)} className=\"flex-1 py-2 border rounded\">Batal</button><button type=\"submit\" className=\"flex-1 py-2 bg-green-600 text-white rounded\">Simpan</button></div>\n                    </form>\n                </div>\n            </div>\n        )}\n\n        {/* MODAL DETAIL */}\n        {(selectedHistory || selectedArticle) && (\n            <div className=\"fixed inset-0 bg-black/60 flex items-center justify-center z-50 p-4\">\n                <div className=\"bg-white rounded-xl p-6 w-full max-w-md shadow-2xl max-h-[85vh] overflow-y-auto\">\n                    <div className=\"flex justify-between mb-4 border-b pb-2\"><h3 className=\"font-bold text-lg text-gray-800\">Detail</h3><button onClick={()=>{setSelectedHistory(null);setSelectedArticle(null)}}><X/></button></div>\n                    {selectedHistory && (<div className=\"space-y-2 text-gray-800\"><p>ID: {selectedHistory.id}</p><p>Status: {selectedHistory.status}</p><p className=\"font-bold text-green-600\">Total: Rp {selectedHistory.fee.toLocaleString()}</p></div>)}\n                    {selectedArticle && (<div className=\"space-y-2 text-gray-800\"><h4 className=\"font-bold\">{selectedArticle.title}</h4><p className=\"text-sm\">{selectedArticle.desc}</p></div>)}\n                </div>\n            </div>\n        )}\n\n        {/* MODAL PAYMENT (WITH REAL MIDTRANS INTEGRATION) */}\n        {paymentModal.open && (\n            <div className=\"fixed inset-0 bg-black/60 flex items-center justify-center z-50 p-4\">\n                <div className=\"bg-white rounded-xl w-full max-w-md p-6 text-center shadow-xl\">\n                    <div className=\"flex justify-between mb-4\"><h3 className=\"font-bold text-lg text-gray-800\">Pembayaran</h3><button onClick={()=>setPaymentModal({...paymentModal, open:false})}><X/></button></div>\n                    {paymentModal.step === 'method' && <div><h2 className=\"text-3xl font-bold mb-4 text-gray-800\">Rp {paymentModal.bill.amount.toLocaleString()}</h2><button onClick={processPayment} className=\"w-full py-3 bg-green-600 text-white font-bold rounded hover:bg-green-700\">Bayar Sekarang</button></div>}\n                    {paymentModal.step === 'processing' && <div><Loader2 className=\"animate-spin mx-auto mb-2 text-green-600\"/><p className=\"text-gray-600\">Memproses pembayaran...</p></div>}\n                    {paymentModal.step === 'success' && <div><CheckCheck className=\"mx-auto mb-2 text-green-600\" size={40}/><h3 className=\"font-bold text-xl text-gray-800\">Berhasil!</h3></div>}\n                </div>\n            </div>\n        )}\n      </div>\n  );\n}"],"names":[],"mappings":"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"}}]
}