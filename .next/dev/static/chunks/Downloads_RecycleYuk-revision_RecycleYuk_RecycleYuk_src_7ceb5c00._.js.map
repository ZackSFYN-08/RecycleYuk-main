{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Administrator/Downloads/RecycleYuk-revision/RecycleYuk/RecycleYuk/src/utils/enhancedHelpers.js"],"sourcesContent":["// Helper functions untuk enhance existing features di RecycleYuk\r\n\r\nimport { createClient } from '@supabase/supabase-js';\r\n\r\nconst supabase = createClient(process.env.NEXT_PUBLIC_SUPABASE_URL, process.env.NEXT_PUBLIC_SUPABASE_ANON_KEY);\r\n\r\n// Enhanced Reward Points Calculation\r\nexport const calculateRewardPoints = (totalWeight) => {\r\n    const basePoints = Math.floor(totalWeight * 10); // 10 poin per kg\r\n\r\n    // Bonus untuk milestone\r\n    let bonus = 0;\r\n    if (totalWeight >= 100) bonus += 500; // Bonus 500 poin untuk 100kg+\r\n    if (totalWeight >= 50) bonus += 200;  // Bonus 200 poin untuk 50kg+\r\n    if (totalWeight >= 20) bonus += 50;   // Bonus 50 poin untuk 20kg+\r\n\r\n    return basePoints + bonus;\r\n};\r\n\r\n// Get Reward Badge based on points\r\nexport const getRewardBadge = (points) => {\r\n    if (points >= 5000) return { level: 'Diamond', color: 'bg-purple-500', icon: 'ðŸ’Ž' };\r\n    if (points >= 2000) return { level: 'Gold', color: 'bg-yellow-500', icon: 'ðŸ¥‡' };\r\n    if (points >= 1000) return { level: 'Silver', color: 'bg-gray-400', icon: 'ðŸ¥ˆ' };\r\n    if (points >= 500) return { level: 'Bronze', color: 'bg-orange-600', icon: 'ðŸ¥‰' };\r\n    return { level: 'Starter', color: 'bg-green-500', icon: 'ðŸŒ±' };\r\n};\r\n\r\n// Format Rupiah Currency\r\nexport const formatRupiah = (amount) => {\r\n    return new Intl.NumberFormat('id-ID', {\r\n        style: 'currency',\r\n        currency: 'IDR',\r\n        minimumFractionDigits: 0,\r\n        maximumFractionDigits: 0\r\n    }).format(amount);\r\n};\r\n\r\n// Calculate Driver Earnings\r\nexport const calculateDriverEarnings = (transactions) => {\r\n    const completedTransactions = transactions.filter(t => t.status === 'done');\r\n\r\n    const earnings = {\r\n        today: 0,\r\n        thisWeek: 0,\r\n        thisMonth: 0,\r\n        total: 0,\r\n        transactionCount: completedTransactions.length\r\n    };\r\n\r\n    const now = new Date();\r\n    const todayStart = new Date(now.setHours(0, 0, 0, 0));\r\n    const weekStart = new Date(now.setDate(now.getDate() - now.getDay()));\r\n    const monthStart = new Date(now.getFullYear(), now.getMonth(), 1);\r\n\r\n    completedTransactions.forEach(t => {\r\n        const transactionDate = new Date(t.created_at);\r\n        const earning = (t.total_price || 0) * 0.15; // Driver gets 15% of each transaction\r\n\r\n        earnings.total += earning;\r\n\r\n        if (transactionDate >= todayStart) {\r\n            earnings.today += earning;\r\n        }\r\n        if (transactionDate >= weekStart) {\r\n            earnings.thisWeek += earning;\r\n        }\r\n        if (transactionDate >= monthStart) {\r\n            earnings.thisMonth += earning;\r\n        }\r\n    });\r\n\r\n    return earnings;\r\n};\r\n\r\n// Enhanced Statistics Calculation\r\nexport const calculateEnhancedStats = (transactions, userRole) => {\r\n    const stats = {\r\n        total: transactions.length,\r\n        pending: transactions.filter(t => t.status === 'Pending').length,\r\n        inProgress: transactions.filter(t => t.status === 'In Progress').length,\r\n        completed: transactions.filter(t => t.status === 'done').length,\r\n        totalWeight: transactions.reduce((sum, t) => sum + (Number(t.weight) || 0), 0),\r\n        totalRevenue: transactions.reduce((sum, t) => sum + (t.total_price || 0), 0)\r\n    };\r\n\r\n    // Calculate trend (last 7 days vs previous 7 days)\r\n    const now = new Date();\r\n    const sevenDaysAgo = new Date(now.getTime() - 7 * 24 * 60 * 60 * 1000);\r\n    const fourteenDaysAgo = new Date(now.getTime() - 14 * 24 * 60 * 60 * 1000);\r\n\r\n    const recentTransactions = transactions.filter(t => new Date(t.created_at) >= sevenDaysAgo);\r\n    const previousTransactions = transactions.filter(t => {\r\n        const date = new Date(t.created_at);\r\n        return date >= fourteenDaysAgo && date < sevenDaysAgo;\r\n    });\r\n\r\n    stats.trend = {\r\n        transactions: recentTransactions.length - previousTransactions.length,\r\n        weight: recentTransactions.reduce((sum, t) => sum + (Number(t.weight) || 0), 0) -\r\n            previousTransactions.reduce((sum, t) => sum + (Number(t.weight) || 0), 0)\r\n    };\r\n\r\n    return stats;\r\n};\r\n\r\n// Export Report Data\r\nexport const exportToExcel = async (data, filename) => {\r\n    try {\r\n        // Convert data to CSV format\r\n        const headers = Object.keys(data[0] || {});\r\n        const csvContent = [\r\n            headers.join(','),\r\n            ...data.map(row => headers.map(header => `\"${row[header] || ''}\"`).join(','))\r\n        ].join('\\n');\r\n\r\n        // Create blob and download\r\n        const blob = new Blob([csvContent], { type: 'text/csv;charset=utf-8;' });\r\n        const link = document.createElement('a');\r\n        const url = URL.createObjectURL(blob);\r\n\r\n        link.setAttribute('href', url);\r\n        link.setAttribute('download', `${filename}_${new Date().toISOString().split('T')[0]}.csv`);\r\n        link.style.visibility = 'hidden';\r\n        document.body.appendChild(link);\r\n        link.click();\r\n        document.body.removeChild(link);\r\n\r\n        return true;\r\n    } catch (error) {\r\n        console.error('Export error:', error);\r\n        return false;\r\n    }\r\n};\r\n\r\n// Real-time Notification Helper\r\nexport const sendNotification = async (userId, title, message, type = 'info') => {\r\n    try {\r\n        const { error } = await supabase.from('notifications').insert({\r\n            profile_id: userId,\r\n            title,\r\n            message,\r\n            type,\r\n            is_read: false\r\n        });\r\n\r\n        if (error) throw error;\r\n        return true;\r\n    } catch (error) {\r\n        console.error('Notification error:', error);\r\n        return false;\r\n    }\r\n};\r\n\r\n// Validate NIK (Indonesian ID Number)\r\nexport const validateNIK = (nik) => {\r\n    return /^\\d{16}$/.test(nik);\r\n};\r\n\r\n// Validate Phone Number (Indonesian)\r\nexport const validatePhone = (phone) => {\r\n    return /^(\\+62|62|0)[0-9]{9,12}$/.test(phone);\r\n};\r\n\r\n// Get Status Color Class\r\nexport const getStatusColor = (status) => {\r\n    const statusLower = (status || '').toLowerCase();\r\n\r\n    const colorMap = {\r\n        'done': 'bg-green-100 text-green-700 border-green-300',\r\n        'selesai': 'bg-green-100 text-green-700 border-green-300',\r\n        'resolved': 'bg-green-100 text-green-700 border-green-300',\r\n        'in progress': 'bg-blue-100 text-blue-700 border-blue-300',\r\n        'proses': 'bg-blue-100 text-blue-700 border-blue-300',\r\n        'pending': 'bg-yellow-100 text-yellow-700 border-yellow-300',\r\n        'menunggu': 'bg-yellow-100 text-yellow-700 border-yellow-300',\r\n        'canceled': 'bg-red-100 text-red-700 border-red-300',\r\n        'dibatalkan': 'bg-red-100 text-red-700 border-red-300'\r\n    };\r\n\r\n    return colorMap[statusLower] || 'bg-gray-100 text-gray-700 border-gray-300';\r\n};\r\n\r\n// Calculate Distance between two coordinates (Haversine formula)\r\nexport const calculateDistance = (lat1, lon1, lat2, lon2) => {\r\n    const R = 6371; // Radius of the Earth in km\r\n    const dLat = (lat2 - lat1) * Math.PI / 180;\r\n    const dLon = (lon2 - lon1) * Math.PI / 180;\r\n\r\n    const a =\r\n        Math.sin(dLat / 2) * Math.sin(dLat / 2) +\r\n        Math.cos(lat1 * Math.PI / 180) * Math.cos(lat2 * Math.PI / 180) *\r\n        Math.sin(dLon / 2) * Math.sin(dLon / 2);\r\n\r\n    const c = 2 * Math.atan2(Math.sqrt(a), Math.sqrt(1 - a));\r\n    const distance = R * c; // Distance in km\r\n\r\n    return distance.toFixed(2);\r\n};\r\n\r\n// Estimate Time of Arrival based on distance\r\nexport const estimateETA = (distanceInKm) => {\r\n    const avgSpeed = 30; // km/h average speed in city\r\n    const timeInHours = distanceInKm / avgSpeed;\r\n    const timeInMinutes = Math.ceil(timeInHours * 60);\r\n\r\n    if (timeInMinutes < 60) {\r\n        return `${timeInMinutes} Menit`;\r\n    } else {\r\n        const hours = Math.floor(timeInMinutes / 60);\r\n        const minutes = timeInMinutes % 60;\r\n        return `${hours} Jam ${minutes} Menit`;\r\n    }\r\n};\r\n\r\n// Generate Random Color for Charts\r\nexport const generateChartColors = (count) => {\r\n    const colors = [\r\n        '#10b981', '#3b82f6', '#f59e0b', '#ef4444', '#8b5cf6',\r\n        '#ec4899', '#14b8a6', '#f97316', '#6366f1', '#84cc16'\r\n    ];\r\n\r\n    return Array.from({ length: count }, (_, i) => colors[i % colors.length]);\r\n};\r\n\r\n// Filter Transactions by Date Range\r\nexport const filterByDateRange = (transactions, startDate, endDate) => {\r\n    if (!startDate || !endDate) return transactions;\r\n\r\n    const start = new Date(startDate);\r\n    const end = new Date(endDate);\r\n    end.setHours(23, 59, 59, 999); // Include entire end day\r\n\r\n    return transactions.filter(t => {\r\n        const transactionDate = new Date(t.created_at);\r\n        return transactionDate >= start && transactionDate <= end;\r\n    });\r\n};\r\n\r\n// Group Transactions by Period\r\nexport const groupByPeriod = (transactions, period = 'day') => {\r\n    const groups = {};\r\n\r\n    transactions.forEach(t => {\r\n        const date = new Date(t.created_at);\r\n        let key;\r\n\r\n        switch (period) {\r\n            case 'hour':\r\n                key = `${date.getFullYear()}-${date.getMonth() + 1}-${date.getDate()} ${date.getHours()}:00`;\r\n                break;\r\n            case 'day':\r\n                key = `${date.getFullYear()}-${date.getMonth() + 1}-${date.getDate()}`;\r\n                break;\r\n            case 'week':\r\n                const weekNum = Math.ceil(date.getDate() / 7);\r\n                key = `${date.getFullYear()}-${date.getMonth() + 1} Week ${weekNum}`;\r\n                break;\r\n            case 'month':\r\n                key = `${date.getFullYear()}-${date.getMonth() + 1}`;\r\n                break;\r\n            case 'year':\r\n                key = `${date.getFullYear()}`;\r\n                break;\r\n            default:\r\n                key = date.toISOString().split('T')[0];\r\n        }\r\n\r\n        if (!groups[key]) {\r\n            groups[key] = [];\r\n        }\r\n        groups[key].push(t);\r\n    });\r\n\r\n    return groups;\r\n};\r\n\r\n// Upload Avatar Helper\r\nexport const uploadAvatar = async (file, userId) => {\r\n    try {\r\n        const fileExt = file.name.split('.').pop();\r\n        const fileName = `${userId}-${Date.now()}.${fileExt}`;\r\n        const filePath = `${fileName}`;\r\n\r\n        const { error: uploadError } = await supabase.storage\r\n            .from('avatars')\r\n            .upload(filePath, file);\r\n\r\n        if (uploadError) {\r\n            throw uploadError;\r\n        }\r\n\r\n        const { data: { publicUrl } } = supabase.storage\r\n            .from('avatars')\r\n            .getPublicUrl(filePath);\r\n\r\n        return publicUrl;\r\n    } catch (error) {\r\n        console.error('Error uploading avatar:', error);\r\n        throw error;\r\n    }\r\n};\r\n\r\nexport default {\r\n    uploadAvatar,\r\n    calculateRewardPoints,\r\n    getRewardBadge,\r\n    formatRupiah,\r\n    calculateDriverEarnings,\r\n    calculateEnhancedStats,\r\n    exportToExcel,\r\n    sendNotification,\r\n    validateNIK,\r\n    validatePhone,\r\n    getStatusColor,\r\n    calculateDistance,\r\n    estimateETA,\r\n    generateChartColors,\r\n    filterByDateRange,\r\n    groupByPeriod,\r\n    uploadAvatar\r\n};\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 329, "column": 0}, "map": {"version":3,"sources":["C:/Users/Administrator/Downloads/RecycleYuk-revision/RecycleYuk/RecycleYuk/src/components/shared/ChatModal.js"],"sourcesContent":["// src/components/shared/ChatModal.js\r\n// Shared chat component for User <-> Driver communication\r\n\r\n'use client';\r\n\r\nimport { useState, useEffect, useRef } from 'react';\r\nimport { createClient } from '@supabase/supabase-js';\r\nimport { X, Send, MessageCircle, User } from 'lucide-react';\r\n\r\nconst supabase = createClient(\r\n    process.env.NEXT_PUBLIC_SUPABASE_URL,\r\n    process.env.NEXT_PUBLIC_SUPABASE_ANON_KEY\r\n);\r\n\r\nexport default function ChatModal({ isOpen, onClose, transactionId, currentUserId, currentUserName, otherUserName, isDriver = false }) {\r\n    const [messages, setMessages] = useState([]);\r\n    const [newMessage, setNewMessage] = useState('');\r\n    const [loading, setLoading] = useState(false);\r\n    const messagesEndRef = useRef(null);\r\n\r\n    // Fetch messages\r\n    const fetchMessages = async () => {\r\n        if (!transactionId) return;\r\n\r\n        const { data } = await supabase\r\n            .from('chat_messages')\r\n            .select('*')\r\n            .eq('transaction_id', transactionId)\r\n            .order('created_at', { ascending: true });\r\n\r\n        setMessages(data || []);\r\n    };\r\n\r\n    // Subscribe to realtime messages\r\n    useEffect(() => {\r\n        if (!isOpen || !transactionId) return;\r\n\r\n        fetchMessages();\r\n\r\n        const channel = supabase\r\n            .channel(`chat-${transactionId}`)\r\n            .on('postgres_changes', {\r\n                event: 'INSERT',\r\n                schema: 'public',\r\n                table: 'chat_messages',\r\n                filter: `transaction_id=eq.${transactionId}`\r\n            }, (payload) => {\r\n                setMessages(prev => [...prev, payload.new]);\r\n            })\r\n            .subscribe();\r\n\r\n        return () => {\r\n            supabase.removeChannel(channel);\r\n        };\r\n    }, [isOpen, transactionId]);\r\n\r\n    // Auto-scroll to bottom\r\n    useEffect(() => {\r\n        messagesEndRef.current?.scrollIntoView({ behavior: 'smooth' });\r\n    }, [messages]);\r\n\r\n    // Send message\r\n    const handleSend = async (e) => {\r\n        e.preventDefault();\r\n        if (!newMessage.trim() || loading) return;\r\n\r\n        setLoading(true);\r\n        try {\r\n            await supabase.from('chat_messages').insert({\r\n                transaction_id: transactionId,\r\n                sender_id: currentUserId,\r\n                sender_name: currentUserName,\r\n                message: newMessage.trim(),\r\n                is_driver: isDriver\r\n            });\r\n            setNewMessage('');\r\n        } catch (err) {\r\n            console.error('Send message error:', err);\r\n        } finally {\r\n            setLoading(false);\r\n        }\r\n    };\r\n\r\n    if (!isOpen) return null;\r\n\r\n    return (\r\n        <div className=\"fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4\">\r\n            <div className=\"bg-white rounded-2xl w-full max-w-md h-[500px] flex flex-col shadow-2xl animate-in zoom-in-95\">\r\n                {/* Header */}\r\n                <div className=\"bg-gradient-to-r from-green-600 to-emerald-600 p-4 rounded-t-2xl flex items-center justify-between text-white\">\r\n                    <div className=\"flex items-center gap-3\">\r\n                        <div className=\"w-10 h-10 bg-white/20 rounded-full flex items-center justify-center\">\r\n                            <MessageCircle size={20} />\r\n                        </div>\r\n                        <div>\r\n                            <h3 className=\"font-bold\">Chat dengan {otherUserName}</h3>\r\n                            <p className=\"text-xs opacity-80\">Order #{transactionId?.slice(0, 8)}</p>\r\n                        </div>\r\n                    </div>\r\n                    <button onClick={onClose} className=\"p-2 hover:bg-white/20 rounded-full transition\">\r\n                        <X size={20} />\r\n                    </button>\r\n                </div>\r\n\r\n                {/* Messages */}\r\n                <div className=\"flex-1 overflow-y-auto p-4 space-y-3 bg-gray-50\">\r\n                    {messages.length === 0 ? (\r\n                        <div className=\"text-center text-gray-400 py-8\">\r\n                            <MessageCircle size={40} className=\"mx-auto mb-2 opacity-30\" />\r\n                            <p>Belum ada pesan</p>\r\n                            <p className=\"text-xs\">Mulai percakapan sekarang</p>\r\n                        </div>\r\n                    ) : (\r\n                        messages.map((msg, i) => (\r\n                            <div\r\n                                key={msg.id || i}\r\n                                className={`flex ${msg.sender_id === currentUserId ? 'justify-end' : 'justify-start'}`}\r\n                            >\r\n                                <div className={`max-w-[75%] rounded-2xl px-4 py-2 ${msg.sender_id === currentUserId\r\n                                        ? 'bg-green-600 text-white rounded-br-md'\r\n                                        : 'bg-white text-gray-800 border border-gray-200 rounded-bl-md'\r\n                                    }`}>\r\n                                    <p className={`text-xs font-bold mb-0.5 ${msg.sender_id === currentUserId ? 'text-green-100' : 'text-gray-500'\r\n                                        }`}>\r\n                                        {msg.sender_name}\r\n                                    </p>\r\n                                    <p className=\"text-sm\">{msg.message}</p>\r\n                                    <p className={`text-[10px] mt-1 ${msg.sender_id === currentUserId ? 'text-green-200' : 'text-gray-400'\r\n                                        }`}>\r\n                                        {new Date(msg.created_at).toLocaleTimeString('id-ID', { hour: '2-digit', minute: '2-digit' })}\r\n                                    </p>\r\n                                </div>\r\n                            </div>\r\n                        ))\r\n                    )}\r\n                    <div ref={messagesEndRef} />\r\n                </div>\r\n\r\n                {/* Input */}\r\n                <form onSubmit={handleSend} className=\"p-4 border-t border-gray-200 bg-white rounded-b-2xl\">\r\n                    <div className=\"flex gap-2\">\r\n                        <input\r\n                            type=\"text\"\r\n                            value={newMessage}\r\n                            onChange={(e) => setNewMessage(e.target.value)}\r\n                            placeholder=\"Ketik pesan...\"\r\n                            className=\"flex-1 px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 ring-green-500 outline-none text-gray-800\"\r\n                            disabled={loading}\r\n                        />\r\n                        <button\r\n                            type=\"submit\"\r\n                            disabled={loading || !newMessage.trim()}\r\n                            className=\"bg-green-600 text-white px-4 py-3 rounded-xl hover:bg-green-700 transition disabled:opacity-50 disabled:cursor-not-allowed\"\r\n                        >\r\n                            <Send size={20} />\r\n                        </button>\r\n                    </div>\r\n                </form>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n"],"names":["useState","useEffect","useRef","createClient","X","Send","MessageCircle","User","supabase","process","env","NEXT_PUBLIC_SUPABASE_URL","NEXT_PUBLIC_SUPABASE_ANON_KEY","ChatModal","isOpen","onClose","transactionId","currentUserId","currentUserName","otherUserName","isDriver","messages","setMessages","newMessage","setNewMessage","loading","setLoading","messagesEndRef","fetchMessages","data","from","select","eq","order","ascending","channel","on","event","schema","table","filter","payload","prev","new","subscribe","removeChannel","current","scrollIntoView","behavior","handleSend","e","preventDefault","trim","insert","transaction_id","sender_id","sender_name","message","is_driver","err","console","error","slice","length","map","msg","i","id","Date","created_at","toLocaleTimeString","hour","minute","target","value"],"mappings":"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","ignoreList":[]}},
    {"offset": {"line": 664, "column": 0}, "map": {"version":3,"sources":["C:/Users/Administrator/Downloads/RecycleYuk-revision/RecycleYuk/RecycleYuk/src/app/dashboard/user/page.js"],"sourcesContent":["'use client';\n\nimport { useEffect, useState, useRef } from 'react';\nimport { useRouter } from 'next/navigation';\nimport { createClient } from '@supabase/supabase-js';\nimport {\n    Trash2, Calendar, Award, Truck, MapPin, User, FileText,\n    Bell, BookOpen, Clock, X, LogOut, ChevronLeft, ChevronRight, HelpCircle,\n    Wallet, CheckCircle2, AlertCircle, Search, PlayCircle,\n    Phone, MessageCircle, Star, ArrowRight, Megaphone, CheckCheck, Trash,\n    CreditCard, QrCode, Building, Loader2, Lock, Edit2, Menu, Send, Home,\n    Navigation, Trophy, Recycle // Icon Navigasi GPS + Trophy + Recycle\n} from 'lucide-react';\nimport Swal from 'sweetalert2';\nimport { getRewardBadge, formatRupiah, calculateRewardPoints, uploadAvatar } from '@/utils/enhancedHelpers';\nimport ChatModal from '@/components/shared/ChatModal';\n\n// --- OPENLAYERS IMPORTS ---\nimport 'ol/ol.css';\nimport Map from 'ol/Map';\nimport View from 'ol/View';\nimport TileLayer from 'ol/layer/Tile';\nimport OSM from 'ol/source/OSM';\nimport VectorLayer from 'ol/layer/Vector';\nimport VectorSource from 'ol/source/Vector';\nimport Feature from 'ol/Feature';\nimport Point from 'ol/geom/Point';\nimport LineString from 'ol/geom/LineString';\nimport { fromLonLat } from 'ol/proj';\nimport { Icon, Style, Stroke, Circle as CircleStyle, Fill } from 'ol/style';\n\nconst supabase = createClient(process.env.NEXT_PUBLIC_SUPABASE_URL, process.env.NEXT_PUBLIC_SUPABASE_ANON_KEY);\n\n// Koordinat Default [Lon, Lat]\nconst DEFAULT_COORDS = [107.6191, -6.9175];\nconst DRIVER_START = [107.6250, -6.9250];\n\nconst WEIGHT_OPTIONS = [\n    { label: 'Ringan (0 - 5 KG)', value: 5 },\n    { label: 'Sedang (5 - 10 KG)', value: 10 },\n    { label: 'Berat (10 - 20 KG)', value: 20 },\n    { label: 'Sangat Berat (> 20 KG)', value: 30 }\n];\n\nconst TIME_OPTIONS = [\n    { label: 'Pagi (08:00 - 11:00)', value: '09:00' },\n    { label: 'Sore (15:00 - 18:00)', value: '16:00' }\n];\n\nconst COMPLAINT_CATEGORIES = ['Sampah Menumpuk', 'Jadwal Terlewat', 'Fasilitas Rusak', 'Pelayanan Petugas', 'Lainnya'];\n\nexport default function UserDashboard() {\n    const router = useRouter();\n\n    // --- STATE MANAGEMENT ---\n    const [loading, setLoading] = useState(true);\n    const [activePage, setActivePage] = useState('dashboard');\n    const [currentTime, setCurrentTime] = useState('');\n\n    // --- GPS STATE ---\n    const [userLocation, setUserLocation] = useState(DEFAULT_COORDS);\n    const [isGpsActive, setIsGpsActive] = useState(false);\n\n    // UI States\n    const [isSidebarOpen, setIsSidebarOpen] = useState(true);\n    const [isMobileMenuOpen, setIsMobileMenuOpen] = useState(false);\n\n    // Data States\n    const [profile, setProfile] = useState(null);\n    const [stats, setStats] = useState({ totalWaste: 0, lastPickup: '-', points: 0 });\n    const [wasteTypes, setWasteTypes] = useState([]);\n    const [pickupHistory, setPickupHistory] = useState([]);\n    const [activePickup, setActivePickup] = useState(null);\n    const [driverLocation, setDriverLocation] = useState(DRIVER_START);\n    const [complaints, setComplaints] = useState([]);\n    const [notifications, setNotifications] = useState([]);\n    const [isChatOpen, setIsChatOpen] = useState(false);\n\n    // Forms\n    const [complaintForm, setComplaintForm] = useState({ title: '', category: '', content: '' });\n    const [formRequest, setFormRequest] = useState({ wasteTypeId: '', weight: 5, date: '', time: '09:00', notes: '' });\n\n    // Payment & Modals\n    const [paymentModal, setPaymentModal] = useState({ open: false, bill: null, step: 'method' });\n    const [bills, setBills] = useState([{ id: 101, title: 'Iuran Kebersihan - Feb 2026', amount: 25000, status: 'Unpaid', due_date: '2026-02-10' }]);\n    const [searchTerm, setSearchTerm] = useState('');\n    const [selectedCategory, setSelectedCategory] = useState('Semua');\n    const [selectedArticle, setSelectedArticle] = useState(null);\n    const [selectedHistory, setSelectedHistory] = useState(null);\n    const [isEditProfile, setIsEditProfile] = useState(false);\n\n    // --- OPENLAYERS REFS ---\n    const mapElement = useRef();\n    const mapRef = useRef(null);\n    const vectorSourceRef = useRef(new VectorSource());\n\n    const SIDEBAR_MENUS = [\n        { id: 'dashboard', label: 'Dashboard', icon: Award },\n        { id: 'request', label: 'Request Pickup', icon: Truck },\n        { id: 'history', label: 'Riwayat', icon: FileText },\n        { id: 'pengaduan', label: 'Pengaduan', icon: Megaphone },\n        { id: 'iuran', label: 'Bayar Iuran', icon: Wallet },\n        { id: 'tracking', label: 'Tracking', icon: MapPin },\n        { id: 'edukasi', label: 'Edukasi', icon: BookOpen },\n    ];\n\n    const EDUCATION_DATA = [\n        { id: 1, type: 'article', category: 'Tips', title: 'Cara Memilah Sampah', desc: 'Panduan dasar.', content: '...', readTime: '3 min' },\n        { id: 2, type: 'video', category: 'Tutorial', title: 'Membuat Kompos', desc: 'Video tutorial.', content: 'Video Placeholder', readTime: '5 min' },\n        { id: 3, type: 'article', category: 'Info', title: 'Bahaya B3', desc: 'Kenapa baterai berbahaya?', content: '...', readTime: '4 min' },\n    ];\n\n    // --- 1. SETUP MIDTRANS ---\n    useEffect(() => {\n        const snapScript = \"https://app.sandbox.midtrans.com/snap/snap.js\";\n        const clientKey = process.env.NEXT_PUBLIC_MIDTRANS_CLIENT_KEY; // Pastikan ada di .env.local\n\n        const script = document.createElement('script');\n        script.src = snapScript;\n        script.setAttribute('data-client-key', clientKey);\n        script.async = true;\n        document.body.appendChild(script);\n\n        return () => {\n            if (document.body.contains(script)) document.body.removeChild(script);\n        }\n    }, []);\n\n    // --- 2. LOGIC & EFFECTS ---\n    useEffect(() => {\n        const timer = setInterval(() => {\n            setCurrentTime(new Date().toLocaleTimeString('id-ID', { hour: '2-digit', minute: '2-digit' }));\n        }, 1000);\n\n        fetchData();\n        startGpsTracking();\n\n        // Realtime Listener\n        const channel = supabase\n            .channel('user-dashboard-realtime')\n            .on('postgres_changes', { event: '*', schema: 'public', table: 'transactions' }, (payload) => {\n                fetchData();\n                if (payload.eventType === 'UPDATE' && payload.new.status === 'Process') {\n                    Swal.fire({\n                        title: 'Pengangkutan Aktif!',\n                        text: 'Driver sedang menuju lokasi Anda.',\n                        icon: 'info',\n                        timer: 3000,\n                        showConfirmButton: false,\n                        toast: true,\n                        position: 'top-end',\n                        background: '#d1fae5',\n                        color: '#065f46'\n                    });\n                    setActivePage('tracking');\n                }\n            })\n            .subscribe();\n\n        const handleResize = () => { if (window.innerWidth >= 768) setIsMobileMenuOpen(false); };\n        window.addEventListener('resize', handleResize);\n\n        return () => {\n            clearInterval(timer);\n            window.removeEventListener('resize', handleResize);\n            supabase.removeChannel(channel);\n        };\n    }, []);\n\n    const [mounted, setMounted] = useState(false);\n    useEffect(() => { setMounted(true) }, []);\n\n    // --- 3. GPS LOGIC (WATCH POSITION) ---\n    const startGpsTracking = () => {\n        if (!navigator.geolocation) {\n            console.warn(\"Geolocation is not supported by this browser.\");\n            return;\n        }\n\n        navigator.geolocation.watchPosition(\n            (position) => {\n                const { latitude, longitude } = position.coords;\n                const newLoc = [longitude, latitude];\n                setUserLocation(newLoc);\n                setIsGpsActive(true);\n            },\n            (error) => {\n                // Handle GPS errors gracefully - don't show in console for common permission issues\n                if (error.code === 1) {\n                    console.warn(\"GPS permission denied by user\");\n                } else if (error.code === 2) {\n                    console.warn(\"GPS position unavailable\");\n                } else if (error.code === 3) {\n                    console.warn(\"GPS timeout\");\n                }\n                // Keep default coordinates when GPS fails\n            },\n            { enableHighAccuracy: true, maximumAge: 0, timeout: 10000 }\n        );\n    };\n\n    const centerToUserLocation = () => {\n        if (mapRef.current && isGpsActive) {\n            mapRef.current.getView().animate({ center: fromLonLat(userLocation), zoom: 17, duration: 1000 });\n        } else {\n            Swal.fire('GPS Mencari...', 'Pastikan izin lokasi aktif.', 'info');\n        }\n    };\n\n    // Simulasi Pergerakan Driver\n    // Simulasi Pergerakan Driver & Heading\n    const [driverHeading, setDriverHeading] = useState(0);\n\n    useEffect(() => {\n        if (activePage === 'tracking' && activePickup && activePickup.rawStatus === 'Process') {\n            const interval = setInterval(() => {\n                setDriverLocation(prev => {\n                    const lonDiff = (userLocation[0] - prev[0]) * 0.05;\n                    const latDiff = (userLocation[1] - prev[1]) * 0.05;\n\n                    // Jika dekat, stop\n                    if (Math.abs(lonDiff) < 0.00001 && Math.abs(latDiff) < 0.00001) return prev;\n\n                    // Calculate Bearing (Angle)\n                    // Math.atan2(y, x). We want 0 at North? OpenLayers rotation 0 is UP? No, usually 0 is UP for Icons if image is facing UP.\n                    // If image faces UP (North), standard math angle (0 at East) needs correction.\n                    // Let's assume positive Y is North.\n                    // Bearing = Math.atan2(dx, dy) -> returns angle from Y axis (North) in radians? No.\n                    // Let's use standard Math.atan2(dy, dx) which is angle from X (East).\n                    // And correct for OpenLayers rotation.\n                    // Ideally: calculate rotation needed.\n\n                    // Simple approach: Point towards target.\n                    // Angle from North (Clockwise) is commonly used for headings.\n                    // theta = atan2(dx, dy) (swapped).\n                    const angle = Math.atan2(lonDiff, latDiff); // Angle from North, clockwise?\n                    // Let's test. If dy is pos (North), dx 0 -> atan2(0, 1) = 0. Correct.\n                    // If dx is pos (East), dy 0 -> atan2(1, 0) = PI/2. Correct (90 deg).\n                    setDriverHeading(angle);\n\n                    return [prev[0] + lonDiff, prev[1] + latDiff];\n                });\n            }, 1000);\n            return () => clearInterval(interval);\n        } else {\n            setDriverLocation(DRIVER_START);\n        }\n    }, [activePage, activePickup, userLocation]);\n\n    // --- 4. MAP INITIALIZATION ---\n    useEffect(() => {\n        if (activePage === 'tracking' && mapElement.current && !mapRef.current) {\n\n            const vectorLayer = new VectorLayer({\n                source: vectorSourceRef.current,\n                zIndex: 100\n            });\n\n            const initialMap = new Map({\n                target: mapElement.current,\n                layers: [\n                    new TileLayer({ source: new OSM() }),\n                    vectorLayer\n                ],\n                view: new View({\n                    center: fromLonLat(DEFAULT_COORDS),\n                    zoom: 13\n                }),\n                controls: []\n            });\n\n            mapRef.current = initialMap;\n            updateMapMarkers();\n        }\n\n        return () => {\n            if (activePage !== 'tracking' && mapRef.current) {\n                mapRef.current.setTarget(null);\n                mapRef.current = null;\n            }\n        }\n    }, [activePage]);\n\n    // --- 5. UPDATE MARKER & RUTE ---\n    const updateMapMarkers = () => {\n        if (!mapRef.current) return;\n\n        vectorSourceRef.current.clear();\n\n        // A. Marker Rumah User (DIHAPUS dan Diganti Dot Biru Akurasi Saja)\n        if (isGpsActive) {\n            const accuracyFeature = new Feature({ geometry: new Point(fromLonLat(userLocation)) });\n            accuracyFeature.setStyle(new Style({\n                image: new CircleStyle({\n                    radius: 8,\n                    fill: new Fill({ color: '#3b82f6' }),\n                    stroke: new Stroke({ color: '#fff', width: 2 })\n                })\n            }));\n            vectorSourceRef.current.addFeature(accuracyFeature);\n        }\n\n        // Home Icon removed as per request\n\n        // B. Marker Driver\n        if (activePickup?.rawStatus === 'Process') {\n            const driverFeature = new Feature({ geometry: new Point(fromLonLat(driverLocation)) });\n            driverFeature.setStyle(new Style({\n                image: new Icon({\n                    src: 'https://cdn-icons-png.flaticon.com/512/4047/4047448.png', // Green truck icon\n                    scale: 0.10, anchor: [0.5, 1]\n                })\n            }));\n            vectorSourceRef.current.addFeature(driverFeature);\n\n            // C. Garis Rute\n            const routeFeature = new Feature({\n                geometry: new LineString([fromLonLat(driverLocation), fromLonLat(userLocation)])\n            });\n            routeFeature.setStyle(new Style({\n                stroke: new Stroke({ color: '#10B981', width: 4, lineDash: [10, 10] })\n            }));\n            vectorSourceRef.current.addFeature(routeFeature);\n        }\n    };\n\n    useEffect(() => {\n        updateMapMarkers();\n    }, [userLocation, driverLocation, activePickup, activePage, driverHeading]);\n\n\n    // --- DATA FETCHING ---\n    const fetchData = async () => {\n        try {\n            const { data: { user } } = await supabase.auth.getUser();\n            if (!user) { router.push('/login'); return; }\n\n            const { data: profileData } = await supabase.from('profiles').select('*').eq('id', user.id).single();\n            setProfile(profileData);\n\n            const { data: wastes } = await supabase.from('waste_types').select('*');\n            if (wastes) setWasteTypes(wastes);\n\n            if (profileData?.rt) {\n                const { data: notifData } = await supabase.from('notifications')\n                    .select('*').or(`rt.eq.${profileData.rt},rt.is.null`).order('created_at', { ascending: false });\n                setNotifications(notifData || []);\n            }\n\n            const { data: transactions } = await supabase\n                .from('transactions')\n                .select(`*, waste_types(name, price_per_kg), drivers:driver_id(full_name)`)\n                .eq('profile_id', user.id)\n                .order('created_at', { ascending: false });\n\n            if (transactions) {\n                setPickupHistory(transactions.map(t => ({\n                    id: `#REQ-${String(t.id).slice(0, 6)}`,\n                    type: t.waste_types?.name,\n                    weight: t.weight,\n                    date: new Date(t.created_at).toLocaleDateString('id-ID'),\n                    time: new Date(t.created_at).toLocaleTimeString('id-ID', { hour: '2-digit', minute: '2-digit' }),\n                    status: t.status, fee: t.total_price || 0\n                })));\n\n                const totalW = transactions.reduce((acc, curr) => acc + (Number(curr.weight) || 0), 0);\n                setStats({ totalWaste: totalW, lastPickup: transactions[0] ? new Date(transactions[0].created_at).toLocaleDateString('id-ID') : '-', points: Math.floor(totalW * 10) });\n\n                const active = transactions.find(t => t.status === 'Pending' || t.status === 'Process');\n                if (active) {\n                    setActivePickup({\n                        id: active.id,\n                        driverId: active.driver_id, // Simpan Driver ID untuk tracking\n                        status: active.status === 'Process' ? 'Pengangkutan Aktif' : 'Menunggu Konfirmasi',\n                        rawStatus: active.status,\n                        driver: active.drivers?.full_name || 'Mencari Driver...',\n                        vehicle: 'Pickup Layanan',\n                        rating: 4.8,\n                        eta: active.status === 'Process' ? 'Sedang Jalan' : 'Menunggu'\n                    });\n                } else { setActivePickup(null); }\n            }\n\n            const { data: complaintsData } = await supabase.from('complaints').select('*').eq('user_id', user.id).order('created_at', { ascending: false });\n            setComplaints(complaintsData || []);\n\n        } catch (error) { console.error(\"Error data:\", error); } finally { setLoading(false); }\n    };\n\n    // --- REALTIME DRIVER TRACKING ---\n    useEffect(() => {\n        let channel;\n\n        if (activePage === 'tracking' && activePickup?.driverId && activePickup?.rawStatus === 'Process') {\n            console.log(\"Subscribing to driver location:\", activePickup.driverId);\n\n            // Subscribe ke tabel drivers untuk update lokasi\n            channel = supabase\n                .channel(`driver-tracking-${activePickup.driverId}`)\n                .on('postgres_changes', {\n                    event: 'UPDATE',\n                    schema: 'public',\n                    table: 'drivers',\n                    filter: `id=eq.${activePickup.driverId}`\n                }, (payload) => {\n                    const { current_latitude, current_longitude } = payload.new;\n                    if (current_latitude && current_longitude) {\n                        setDriverLocation([current_longitude, current_latitude]);\n                        // Opsional: Hitung bearing/heading real jika data tersedia, atau biarkan 0\n                    }\n                })\n                .subscribe();\n        }\n\n        return () => {\n            if (channel) supabase.removeChannel(channel);\n        };\n    }, [activePage, activePickup]);\n\n    /* \n    // OLD SIMULATION REMOVED\n    // Simulasi Pergerakan Driver & Heading\n    // const [driverHeading, setDriverHeading] = useState(0);\n    // useEffect(() => { ... }) \n    */\n\n    const navigateTo = (pageId) => { setActivePage(pageId); setIsMobileMenuOpen(false); };\n\n    const handleLogout = async () => {\n        const result = await Swal.fire({ title: 'Keluar?', text: \"Sesi Anda akan berakhir.\", icon: 'warning', showCancelButton: true, confirmButtonColor: '#d33', confirmButtonText: 'Ya' });\n        if (result.isConfirmed) { await supabase.auth.signOut(); router.push('/login'); }\n    };\n\n    const handleUpdateProfile = async (e) => {\n        e.preventDefault();\n        const formData = new FormData(e.target);\n        const updatedData = { full_name: formData.get('fullName'), email: formData.get('email'), address: formData.get('address'), rt: formData.get('rt'), rw: formData.get('rw') };\n        try { await supabase.from('profiles').update(updatedData).eq('id', profile.id); setProfile({ ...profile, ...updatedData }); setIsEditProfile(false); Swal.fire('Sukses', 'Profil disimpan', 'success'); fetchData(); } catch (e) { }\n    };\n\n    const handleAvatarChange = async (e) => {\n        const file = e.target.files[0];\n        if (!file) return;\n\n        try {\n            Swal.fire({\n                title: 'Mengupload...',\n                text: 'Mohon tunggu sebentar',\n                allowOutsideClick: false,\n                didOpen: () => Swal.showLoading()\n            });\n\n            const publicUrl = await uploadAvatar(file, profile.id);\n            if (!publicUrl) throw new Error('Gagal mendapatkan URL gambar.');\n\n            // Update profile in DB\n            const { error } = await supabase.from('profiles').update({ avatar_url: publicUrl }).eq('id', profile.id);\n            if (error) throw error;\n\n            setProfile(prev => ({ ...prev, avatar_url: publicUrl }));\n            Swal.fire('Sukses', 'Foto profil berhasil diperbarui!', 'success');\n        } catch (err) {\n            console.error(err);\n            Swal.fire('Error', 'Gagal upload foto: ' + err.message, 'error');\n        }\n    };\n\n    const handleRequestSubmit = async (e) => {\n        e.preventDefault();\n        if (!formRequest.wasteTypeId) { Swal.fire('Gagal', 'Pilih sampah', 'error'); return; }\n\n        // Cek apakah GPS aktif (opsional: bisa dipaksa harus aktif)\n        // if (!isGpsActive) { Swal.fire('Lokasi Diperlukan', 'Aktifkan GPS untuk request pickup.', 'warning'); return; }\n\n        try {\n            const payload = {\n                profile_id: profile.id,\n                waste_type_id: formRequest.wasteTypeId,\n                weight: formRequest.weight,\n                status: 'Pending',\n                pickup_time: formRequest.time,\n                notes: formRequest.notes,\n                // KIRIM KOORDINAT userLocation [Lon, Lat]\n                latitude: userLocation[1],\n                longitude: userLocation[0]\n            };\n\n            const { error } = await supabase.from('transactions').insert(payload);\n            if (error) throw error;\n            Swal.fire('Berhasil', 'Request terkirim', 'success');\n            setFormRequest({ wasteTypeId: '', weight: 5, date: '', time: '09:00', notes: '' });\n            setActivePage('tracking');\n        } catch (err) { Swal.fire('Gagal', err.message, 'error'); }\n    };\n\n    const handleComplaintSubmit = async (e) => { e.preventDefault(); try { await supabase.from('complaints').insert({ user_id: profile.id, subject: complaintForm.title, category: complaintForm.category, content: complaintForm.content, status: 'Pending', created_at: new Date() }); Swal.fire('Terkirim', 'Aduan dikirim', 'success'); setComplaintForm({ title: '', category: '', content: '' }); fetchData(); } catch (e) { } };\n\n    const handlePayClick = (b) => setPaymentModal({ open: true, bill: b, step: 'method' });\n\n    // --- PEMBAYARAN IURAN (REAL MIDTRANS) ---\n    const processPayment = async () => {\n        // 1. Validasi Snap\n        if (!window.snap) {\n            Swal.fire('Error', 'Sistem pembayaran sedang memuat, mohon tunggu.', 'error');\n            return;\n        }\n\n        const currentBill = paymentModal.bill;\n\n        // Ubah status modal jadi loading\n        setPaymentModal(p => ({ ...p, step: 'processing' }));\n\n        try {\n            // 2. Request Token dari Backend\n            const response = await fetch('/api/payment', {\n                method: 'POST',\n                headers: { 'Content-Type': 'application/json' },\n                body: JSON.stringify({\n                    id: currentBill.id,\n                    amount: currentBill.amount,\n                    firstName: profile?.full_name || \"Warga\",\n                    email: profile?.email || \"warga@example.com\",\n                    title: currentBill.title\n                })\n            });\n\n            const data = await response.json();\n\n            if (!response.ok) throw new Error(data.error || \"Gagal membuat transaksi\");\n\n            // 3. Munculkan Popup Midtrans\n            window.snap.pay(data.token, {\n                onSuccess: async function (result) {\n                    // Update State Lokal\n                    setBills(prev => prev.map(b => b.id === currentBill.id ? { ...b, status: 'Paid' } : b));\n                    setPaymentModal(p => ({ ...p, step: 'success' }));\n\n                    // (Opsional) Update ke Supabase jika tabel bills ada di DB\n                    // await supabase.from('bills').update({ status: 'Paid' }).eq('id', currentBill.id);\n                },\n                onPending: function (result) {\n                    Swal.fire('Pending', 'Menunggu pembayaran diselesaikan', 'info');\n                    setPaymentModal(p => ({ ...p, open: false }));\n                },\n                onError: function (result) {\n                    Swal.fire('Gagal', 'Pembayaran gagal atau dibatalkan', 'error');\n                    setPaymentModal(p => ({ ...p, open: false }));\n                },\n                onClose: function () {\n                    setPaymentModal(p => ({ ...p, step: 'method' }));\n                }\n            });\n\n        } catch (error) {\n            console.error(error);\n            Swal.fire('Error', error.message, 'error');\n            setPaymentModal(p => ({ ...p, step: 'method' }));\n        }\n    };\n\n    const markAllRead = () => setNotifications(notifications.map(n => ({ ...n, read: true })));\n    const markAsRead = (id) => setNotifications(notifications.map(n => n.id === id ? { ...n, read: true } : n));\n    const deleteNotification = (id) => setNotifications(notifications.filter(n => n.id !== id));\n    const unreadCount = notifications.filter(n => !n.read).length;\n    const getStatusColor = (s) => (s === 'Done' ? 'bg-green-100 text-green-700' : 'bg-blue-100 text-blue-700');\n\n    // --- RENDERERS ---\n    const rewardBadge = getRewardBadge(stats.points);\n\n    const renderDashboard = () => (\n        <div className=\"space-y-6 animate-in fade-in text-gray-800 pb-20 md:pb-0\">\n            <div className=\"bg-gradient-to-r from-green-600 to-emerald-600 rounded-xl shadow-lg p-6 md:p-8 text-white relative overflow-hidden\">\n                <div className=\"relative z-10\">\n                    <div className=\"flex items-center justify-between mb-2\">\n                        <h2 className=\"text-2xl md:text-3xl font-bold\">Halo, {profile?.full_name?.split(' ')[0]}! ðŸ‘‹</h2>\n                        <div className={`${rewardBadge.color} px-3 py-1.5 rounded-full flex items-center gap-1.5 text-white font-bold text-sm shadow-md`}>\n                            <span className=\"text-lg\">{rewardBadge.icon}</span>\n                            <span>{rewardBadge.level}</span>\n                        </div>\n                    </div>\n                    <p className=\"opacity-90\">{profile?.rt ? `Warga RT ${profile.rt} / RW ${profile.rw}` : 'Lengkapi data RT/RW di profil.'}</p>\n                    <p className=\"text-xs mt-2 opacity-75\">Kumpulkan poin untuk naik level! ({stats.points} poin)</p>\n                </div>\n                <Award className=\"absolute right-[-20px] bottom-[-20px] opacity-10 w-40 h-40 transform rotate-12\" />\n            </div>\n            <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4 md:gap-6\">\n                {[{ l: 'Total Sampah', v: `${stats.totalWaste} kg`, i: Trash2 }, { l: 'Poin', v: stats.points, i: Award }, { l: 'Pickup Terakhir', v: stats.lastPickup, i: Calendar }].map((s, i) => (\n                    <div key={i} className=\"bg-white p-5 rounded-xl shadow-sm border border-gray-200 flex justify-between items-center\">\n                        <div><p className=\"text-gray-500 text-xs md:text-sm font-medium\">{s.l}</p><h3 className=\"text-xl md:text-2xl font-bold text-gray-800\">{s.v}</h3></div>\n                        <div className=\"bg-gray-100 p-3 rounded-lg text-gray-600\"><s.i size={24} /></div>\n                    </div>\n                ))}\n            </div>\n            <div className=\"bg-white rounded-xl shadow-sm p-5 md:p-6 border border-gray-200\">\n                <div className=\"flex justify-between items-center mb-4\"><h3 className=\"text-lg font-bold text-gray-800\">Status Pickup Terbaru</h3>{activePickup ? (<span className={`px-3 py-1 rounded-full text-xs font-bold ${getStatusColor(activePickup.status)}`}>{activePickup.status}</span>) : (<span className=\"px-3 py-1 bg-gray-100 text-gray-500 rounded-full text-xs font-bold\">Standby</span>)}</div>\n                {activePickup ? (\n                    <div className=\"bg-blue-50 border border-blue-200 rounded-xl p-4 flex flex-col md:flex-row items-center justify-between gap-4\">\n                        <div className=\"flex items-center gap-4 w-full md:w-auto\">\n                            <div className=\"bg-blue-600 text-white p-3 rounded-lg\"><Truck size={24} /></div>\n                            <div><p className=\"font-bold text-gray-900 text-lg\">{activePickup.status}</p><p className=\"text-sm text-gray-700\">Driver: {activePickup.driver}</p></div>\n                        </div>\n                        <button onClick={() => navigateTo('tracking')} className=\"w-full md:w-auto px-6 py-2 bg-blue-600 text-white rounded-lg text-sm hover:bg-blue-700 font-medium\">Lacak</button>\n                    </div>\n                ) : (\n                    <div className=\"text-center py-8 text-gray-400 border-2 border-dashed rounded-lg bg-gray-50\"><Truck size={32} className=\"mx-auto mb-2 opacity-50\" /><p>Belum ada request pickup aktif.</p><button onClick={() => navigateTo('request')} className=\"mt-2 text-green-600 font-bold hover:underline\">Buat Request Baru</button></div>\n                )}\n            </div>\n        </div>\n    );\n\n    const renderRequest = () => (\n        <div className=\"bg-white rounded-xl shadow-sm p-5 md:p-6 border border-gray-200 animate-in slide-in-from-right text-gray-800 pb-20 md:pb-0\">\n            <h3 className=\"text-lg font-bold mb-6 flex items-center gap-2 text-gray-800\"><Truck /> Form Request</h3>\n            <form onSubmit={handleRequestSubmit} className=\"space-y-4\">\n                <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n                    <div><label className=\"block text-sm font-medium mb-1 text-gray-600\">Jenis Sampah</label><select className=\"w-full border p-3 rounded-lg bg-white text-gray-800 focus:ring-2 focus:ring-green-500 outline-none\" value={formRequest.wasteTypeId} onChange={e => setFormRequest({ ...formRequest, wasteTypeId: e.target.value })} required><option value=\"\">Pilih Sampah</option>{wasteTypes.map(w => <option key={w.id} value={w.id}>{w.name}</option>)}</select></div>\n                    <div><label className=\"block text-sm font-medium mb-1 text-gray-600\">Klasifikasi Berat</label><select className=\"w-full border p-3 rounded-lg bg-white text-gray-800 focus:ring-2 focus:ring-green-500 outline-none\" value={formRequest.weight} onChange={e => setFormRequest({ ...formRequest, weight: e.target.value })} required><option value=\"\">Pilih Kategori...</option>{WEIGHT_OPTIONS.map((opt, i) => (<option key={i} value={opt.value}>{opt.label}</option>))}</select></div>\n                </div>\n                <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n                    <div><label className=\"block text-sm font-medium mb-1 text-gray-600\">Tanggal</label><input type=\"date\" className=\"w-full border p-3 rounded-lg bg-white text-gray-800 focus:ring-2 focus:ring-green-500 outline-none\" value={formRequest.date} onChange={e => setFormRequest({ ...formRequest, date: e.target.value })} required /></div>\n                    <div><label className=\"block text-sm font-medium mb-1 text-gray-600\">Waktu Pengangkutan</label><select className=\"w-full border p-3 rounded-lg bg-white text-gray-800 focus:ring-2 focus:ring-green-500 outline-none\" value={formRequest.time} onChange={e => setFormRequest({ ...formRequest, time: e.target.value })} required><option value=\"\">Pilih Waktu...</option>{TIME_OPTIONS.map((opt, i) => (<option key={i} value={opt.value}>{opt.label}</option>))}</select></div>\n                </div>\n                <div><label className=\"block text-sm font-medium mb-1 text-gray-600\">Catatan</label><textarea className=\"w-full border p-3 rounded-lg h-24 bg-white text-gray-800 focus:ring-2 focus:ring-green-500 outline-none\" placeholder=\"Lokasi detail...\" value={formRequest.notes} onChange={e => setFormRequest({ ...formRequest, notes: e.target.value })}></textarea></div>\n                <button type=\"submit\" className=\"w-full bg-green-600 text-white py-3 rounded-lg font-bold hover:bg-green-700 transition\">Kirim Request</button>\n            </form>\n        </div>\n    );\n\n    const renderPengaduan = () => (\n        <div className=\"space-y-6 animate-in slide-in-from-right pb-20 md:pb-0\">\n            <div className=\"bg-white rounded-xl shadow-sm p-5 md:p-6 border border-gray-200 text-gray-800\">\n                <h3 className=\"text-lg font-bold mb-6 flex items-center gap-2 text-gray-800\"><Megaphone /> Layanan Pengaduan</h3>\n                <form onSubmit={handleComplaintSubmit} className=\"space-y-4 mb-8\">\n                    <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n                        <div><label className=\"block text-sm font-medium mb-1 text-gray-600\">Judul</label><input className=\"w-full border p-3 rounded-lg bg-white text-gray-800 focus:ring-2 focus:ring-green-500 outline-none\" placeholder=\"Judul Masalah\" value={complaintForm.title} onChange={e => setComplaintForm({ ...complaintForm, title: e.target.value })} required /></div>\n                        <div><label className=\"block text-sm font-medium mb-1 text-gray-600\">Kategori</label><select className=\"w-full border p-3 rounded-lg bg-white text-gray-800 focus:ring-2 focus:ring-green-500 outline-none\" value={complaintForm.category} onChange={e => setComplaintForm({ ...complaintForm, category: e.target.value })} required><option value=\"\">Pilih...</option>{COMPLAINT_CATEGORIES.map((cat, i) => <option key={i} value={cat}>{cat}</option>)}</select></div>\n                    </div>\n                    <div><label className=\"block text-sm font-medium mb-1 text-gray-600\">Deskripsi</label><textarea className=\"w-full border p-3 rounded-lg h-24 bg-white text-gray-800 focus:ring-2 focus:ring-green-500 outline-none resize-none\" placeholder=\"Jelaskan detail...\" value={complaintForm.content} onChange={e => setComplaintForm({ ...complaintForm, content: e.target.value })} required></textarea></div>\n                    <button type=\"submit\" className=\"w-full bg-red-600 text-white py-3 rounded-lg font-bold hover:bg-red-700 transition flex items-center justify-center gap-2\"><Send size={18} /> Kirim Pengaduan</button>\n                </form>\n                <h4 className=\"font-bold text-gray-700 mb-3 border-b pb-2\">Riwayat Pengaduan</h4>\n                <div className=\"space-y-3\">{complaints.length > 0 ? complaints.map(c => <div key={c.id} className=\"border p-4 rounded-xl hover:bg-gray-50 transition bg-white\"><div className=\"flex justify-between items-start mb-2\"><div><p className=\"font-bold text-gray-800\">{c.subject}</p><p className=\"text-xs text-gray-500\">{new Date(c.created_at).toLocaleDateString('id-ID')} â€¢ {c.category}</p></div><span className={`px-2 py-1 text-xs font-bold rounded ${c.status === 'Resolved' ? 'bg-green-100 text-green-700' : 'bg-yellow-100 text-yellow-700'}`}>{c.status}</span></div><p className=\"text-sm text-gray-700 bg-gray-50 p-2 rounded mb-2 italic\">\"{c.content}\"</p>{c.response && <div className=\"mt-2 pl-3 border-l-4 border-green-500\"><p className=\"text-xs font-bold text-green-700\">Tanggapan RT/RW:</p><p className=\"text-sm text-gray-700\">{c.response}</p></div>}</div>) : <div className=\"text-center py-6 text-gray-400 border border-dashed rounded-lg\">Belum ada riwayat.</div>}</div>\n            </div>\n        </div>\n    );\n\n    const renderTracking = () => (\n        <div className=\"grid grid-cols-1 lg:grid-cols-3 gap-6 animate-in slide-in-from-right pb-20 md:pb-0\">\n            <div className=\"lg:col-span-2 bg-gray-200 rounded-xl h-64 md:h-[450px] relative overflow-hidden border shadow-inner z-0\">\n                {/* OPENLAYERS MAP CONTAINER */}\n                <div ref={mapElement} style={{ width: '100%', height: '100%' }} />\n\n                {/* Tombol Re-center GPS */}\n                <button\n                    onClick={centerToUserLocation}\n                    className=\"absolute bottom-16 right-4 z-[400] bg-white p-2 rounded-full shadow-lg text-blue-600 hover:bg-blue-50 transition border border-gray-200\"\n                    title=\"Lokasi Saya\"\n                >\n                    <Navigation size={24} />\n                </button>\n\n                <div className=\"absolute bottom-4 left-1/2 -translate-x-1/2 bg-white/90 backdrop-blur px-6 py-2 rounded-full shadow-lg flex items-center gap-2 animate-bounce w-max border border-gray-200\">\n                    <div className=\"bg-green-600 text-white p-1 rounded-full\"><Truck size={16} /></div>\n                    <div><p className=\"text-xs font-bold text-gray-500\">Estimasi</p><p className=\"font-bold text-green-700 text-sm\">{activePickup?.eta || 'Menunggu'}</p></div>\n                </div>\n            </div>\n            <div className=\"bg-white p-6 rounded-xl border border-gray-200 shadow-sm\">\n                <h3 className=\"font-bold text-lg mb-4 text-gray-800\">Info Pengangkutan</h3>\n                {activePickup ? (\n                    <div className=\"space-y-4\">\n                        <div className=\"flex items-center gap-3\"><div className=\"w-12 h-12 bg-gray-100 rounded-full flex items-center justify-center text-xl font-bold text-gray-500\">BS</div><div><h4 className=\"font-bold text-gray-800\">{activePickup.driver}</h4><p className=\"text-xs text-gray-500\">{activePickup.vehicle}</p></div></div>\n                        <div className=\"p-3 bg-yellow-50 text-yellow-800 rounded text-sm border border-yellow-200\">Mohon bersiap, driver sedang menuju titik lokasi Anda.</div>\n                        <div className=\"grid grid-cols-2 gap-2\"><button className=\"py-2 bg-green-50 text-green-700 rounded font-bold text-sm flex justify-center gap-1 hover:bg-green-100 transition\"><MessageCircle size={16} /> Chat</button><button className=\"py-2 bg-blue-50 text-blue-700 rounded font-bold text-sm flex justify-center gap-1 hover:bg-blue-100 transition\"><Phone size={16} /> Call</button></div>\n                    </div>\n                ) : <p className=\"text-gray-500 text-center py-4\">Belum ada pickup aktif.</p>}\n            </div>\n        </div>\n    );\n\n    const renderIuran = () => (\n        <div className=\"space-y-6 animate-in slide-in-from-right pb-20 md:pb-0\">\n            <div className=\"bg-white rounded-xl shadow-sm p-6 border border-gray-200\">\n                <div className=\"flex items-center gap-3 mb-6\"><div className=\"bg-purple-100 p-3 rounded-lg text-purple-600\"><Wallet size={24} /></div><div><h3 className=\"text-xl font-bold text-gray-800\">Tagihan Iuran</h3><p className=\"text-sm text-gray-500\">Kelola pembayaran bulanan Anda.</p></div></div>\n                {bills.map(bill => (\n                    <div key={bill.id} className=\"border p-4 rounded-xl flex justify-between items-center mb-3 hover:bg-gray-50 transition\">\n                        <div className=\"flex items-center gap-4\"><div className=\"bg-gray-100 p-2 rounded-lg text-gray-600\"><Building size={24} /></div><div><p className=\"font-bold text-gray-800\">{bill.title}</p><p className=\"text-sm text-gray-500\">Status: <span className={bill.status === 'Paid' ? 'text-green-600 font-bold' : 'text-red-600 font-bold'}>{bill.status}</span></p></div></div>\n                        {bill.status === 'Unpaid' ? <button onClick={() => handlePayClick(bill)} className=\"w-full md:w-auto bg-red-600 text-white px-6 py-2 rounded-lg font-bold hover:bg-red-700 transition\">Bayar</button> : <span className=\"w-full md:w-auto text-green-600 font-bold flex items-center justify-center md:justify-end gap-1\"><CheckCheck size={16} /> Lunas</span>}\n                    </div>\n                ))}\n            </div>\n        </div>\n    );\n\n    const renderEdukasi = () => (\n        <div className=\"space-y-6 animate-in slide-in-from-right pb-20 md:pb-0\">\n            <div className=\"flex flex-col md:flex-row gap-4 justify-between items-center bg-white p-4 rounded-xl shadow-sm border border-gray-200\">\n                <div className=\"flex gap-2 w-full md:w-auto overflow-x-auto pb-2 md:pb-0 scrollbar-hide\">{['Semua', 'Tips', 'Tutorial', 'Info'].map(cat => <button key={cat} onClick={() => setSelectedCategory(cat)} className={`px-4 py-1.5 rounded-full text-sm font-bold whitespace-nowrap transition ${selectedCategory === cat ? 'bg-green-600 text-white' : 'bg-gray-100 text-gray-600 hover:bg-gray-200'}`}>{cat}</button>)}</div>\n                <div className=\"flex items-center gap-2 w-full md:w-64 bg-gray-50 px-3 py-2 rounded-lg border border-gray-200\"><Search className=\"text-gray-400\" size={18} /><input type=\"text\" placeholder=\"Cari artikel...\" className=\"w-full outline-none text-sm bg-transparent text-gray-800\" value={searchTerm} onChange={(e) => setSearchTerm(e.target.value)} /></div>\n            </div>\n            <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6\">{EDUCATION_DATA.filter(i => (selectedCategory === 'Semua' || i.category === selectedCategory) && i.title.toLowerCase().includes(searchTerm.toLowerCase())).map((item) => (<div key={item.id} className=\"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden hover:shadow-md transition group cursor-pointer\" onClick={() => setSelectedArticle(item)}><div className=\"h-40 bg-gray-100 flex items-center justify-center text-gray-400 group-hover:bg-green-50 transition\">{item.type === 'video' ? <PlayCircle size={40} className=\"group-hover:text-green-600\" /> : <BookOpen size={40} className=\"group-hover:text-green-600\" />}</div><div className=\"p-5\"><span className=\"text-xs font-bold text-green-600 bg-green-50 px-2 py-1 rounded\">{item.category}</span><h3 className=\"font-bold text-lg mt-2 mb-2 text-gray-800 group-hover:text-green-600\">{item.title}</h3><p className=\"text-sm text-gray-500 mb-4 line-clamp-2\">{item.desc}</p><button className=\"text-green-600 font-bold text-sm flex items-center gap-1\">Baca <ArrowRight size={16} /></button></div></div>))}</div>\n        </div>\n    );\n\n    const renderNotifikasi = () => (\n        <div className=\"bg-white rounded-xl shadow-sm border border-gray-200 p-6 animate-in slide-in-from-right pb-20 md:pb-0\">\n            <div className=\"flex justify-between mb-4\"><h3 className=\"font-bold text-xl text-gray-800\">Notifikasi</h3>{unreadCount > 0 && <button onClick={markAllRead} className=\"text-green-600 text-sm font-bold hover:underline\">Tandai dibaca</button>}</div>\n            <div className=\"space-y-2\">{notifications.length > 0 ? notifications.map(n => (<div key={n.id} onClick={() => markAsRead(n.id)} className={`p-4 border-b flex gap-4 cursor-pointer hover:bg-gray-50 transition rounded-lg ${!n.read && 'bg-green-50'}`}><div className={`p-2 rounded-full h-fit flex-shrink-0 ${n.type === 'payment' ? 'bg-green-100 text-green-600' : n.type === 'pickup' ? 'bg-blue-100 text-blue-600' : 'bg-gray-100 text-gray-600'}`}>{n.type === 'payment' ? <Wallet size={20} /> : n.type === 'pickup' ? <Truck size={20} /> : <Bell size={20} />}</div><div className=\"flex-1\"><div className=\"flex justify-between items-start\"><h4 className={`font-bold text-sm ${n.read ? 'text-gray-600' : 'text-black'}`}>{n.title}</h4><span className=\"text-xs text-gray-400 whitespace-nowrap ml-2\">{n.time}</span></div><p className=\"text-sm text-gray-600 mt-1\">{n.message}</p></div><button onClick={(e) => { e.stopPropagation(); deleteNotification(n.id); }} className=\"text-gray-400 hover:text-red-500\"><Trash size={16} /></button></div>)) : <div className=\"text-center py-8 text-gray-400\">Belum ada notifikasi.</div>}</div>\n        </div>\n    );\n\n    const renderProfile = () => (\n        <div className=\"bg-white rounded-xl shadow-sm p-6 border border-gray-200 animate-in slide-in-from-right pb-20 md:pb-0\">\n            <div className=\"flex justify-between items-center mb-6\"><h3 className=\"text-lg font-bold flex items-center gap-2 text-gray-800\"><User /> Profil Saya</h3><button onClick={() => setIsEditProfile(true)} className=\"text-sm font-bold text-green-600 flex items-center gap-1 hover:underline\"><Edit2 size={16} /> Edit</button></div>\n\n            <div className=\"flex flex-col items-center mb-8\">\n                <div className=\"relative group cursor-pointer\" onClick={() => document.getElementById('avatar-upload').click()}>\n                    <div className=\"w-24 h-24 rounded-full overflow-hidden border-4 border-green-100 shadow-sm\">\n                        {profile?.avatar_url ? (\n                            <img src={profile.avatar_url} alt=\"Profile\" className=\"w-full h-full object-cover\" />\n                        ) : (\n                            <div className=\"w-full h-full bg-green-100 flex items-center justify-center text-3xl font-bold text-green-600\">\n                                {profile?.full_name?.charAt(0) || 'U'}\n                            </div>\n                        )}\n                    </div>\n                    <div className=\"absolute inset-0 bg-black/40 rounded-full flex items-center justify-center opacity-0 group-hover:opacity-100 transition\">\n                        <Edit2 className=\"text-white\" size={20} />\n                    </div>\n                </div>\n                <input type=\"file\" id=\"avatar-upload\" className=\"hidden\" accept=\"image/*\" onChange={handleAvatarChange} />\n                <p className=\"text-xs text-gray-400 mt-2\">Klik foto untuk mengganti</p>\n            </div>\n\n            <div className=\"space-y-4 text-gray-800\">\n                <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\n                    <div className=\"p-4 bg-gray-50 rounded-lg border border-gray-100\"><label className=\"text-xs font-bold text-gray-500 uppercase\">Nama Lengkap</label><p className=\"font-medium text-lg text-gray-900\">{profile?.full_name}</p></div>\n                    <div className=\"p-4 bg-gray-50 rounded-lg border border-gray-100\"><label className=\"text-xs font-bold text-gray-500 uppercase\">Email</label><p className=\"font-medium text-lg text-gray-900\">{profile?.email}</p></div>\n                    <div className=\"p-4 bg-gray-50 rounded-lg border border-gray-100\"><label className=\"text-xs font-bold text-gray-500 uppercase\">NIK</label><p className=\"font-medium text-lg text-gray-900\">{profile?.nik || '-'}</p></div>\n                    <div className=\"p-4 bg-green-50 rounded-lg border border-green-100\"><label className=\"text-xs font-bold text-green-700 uppercase\">RT / RW</label><p className=\"font-medium text-lg text-green-900\">{profile?.rt ? `${profile.rt} / ${profile.rw}` : <span className=\"text-red-500 text-sm italic\">Belum diisi</span>}</p></div>\n                </div>\n                <div className=\"p-4 bg-gray-50 rounded-lg border border-gray-100\"><label className=\"text-xs font-bold text-gray-500 uppercase\">Alamat</label><p className=\"font-medium text-lg text-gray-900\">{profile?.address}</p></div>\n            </div>\n        </div>\n    );\n\n    const renderHistory = () => (\n        <div className=\"bg-white rounded-xl shadow-sm p-6 border border-gray-200 animate-in slide-in-from-right pb-20 md:pb-0\">\n            <h3 className=\"text-lg font-bold mb-6 flex items-center gap-2 text-gray-800\"><FileText /> Riwayat Transaksi</h3>\n            <div className=\"space-y-3\">{pickupHistory.length > 0 ? pickupHistory.map((pickup, idx) => (<div key={idx} className=\"border p-4 rounded-xl flex flex-col md:flex-row justify-between items-start md:items-center mb-3 hover:bg-gray-50 cursor-pointer transition gap-2\" onClick={() => setSelectedHistory(pickup)}><div className=\"flex gap-4 items-center\"><div className=\"bg-green-100 p-3 rounded-lg\"><Trash2 size={24} className=\"text-green-600\" /></div><div><p className=\"font-bold text-gray-800\">{pickup.type}</p><p className=\"text-sm text-gray-500\">{pickup.date} â€¢ {pickup.time}</p></div></div><p className=\"font-bold text-lg text-gray-800\">Rp {pickup.fee.toLocaleString()}</p></div>)) : <div className=\"text-center py-12 text-gray-400\">Belum ada riwayat.</div>}</div>\n        </div>\n    );\n\n    const renderContent = () => {\n        switch (activePage) {\n            case 'dashboard': return renderDashboard();\n            case 'request': return renderRequest();\n            case 'history': return renderHistory();\n            case 'pengaduan': return renderPengaduan();\n            case 'iuran': return renderIuran();\n            case 'tracking': return renderTracking();\n            case 'edukasi': return renderEdukasi();\n            case 'profile': return renderProfile();\n            case 'notifikasi': return renderNotifikasi();\n            default: return <div>Halaman tidak ditemukan</div>;\n        }\n    };\n\n    if (loading) return <div className=\"min-h-screen flex justify-center items-center text-gray-800 font-bold\"><Loader2 className=\"animate-spin mr-2\" /> Memuat Data...</div>;\n\n    return (\n        <div className=\"min-h-screen bg-gray-50 flex font-sans text-gray-800 overflow-x-hidden\">\n            {isMobileMenuOpen && <div className=\"fixed inset-0 bg-black/50 z-40 md:hidden\" onClick={() => setIsMobileMenuOpen(false)} />}\n            <aside className={`fixed top-0 left-0 z-50 h-full bg-white border-r border-gray-200 transition-transform duration-300 md:translate-x-0 ${isMobileMenuOpen ? 'translate-x-0 w-64' : '-translate-x-full w-64'} ${isSidebarOpen ? 'md:w-64' : 'md:w-20'} flex flex-col`}>\n                <div className=\"h-16 md:h-20 flex items-center justify-between px-4 border-b border-gray-100\">\n                    {/* LOGO & BRAND */}\n                    <div className={`flex items-center gap-3 transition-all duration-300 ${!isSidebarOpen ? 'justify-center w-full px-0' : 'px-0'}`}>\n                        {isSidebarOpen ? (\n                            <div className=\"flex flex-col animate-in fade-in slide-in-from-left duration-300\">\n                                <img src=\"/images/logo.png\" alt=\"RecycleYuk\" className=\"w-36 h-auto object-contain mb-1\" />\n                                <span className=\"text-[10px] font-bold text-green-600 tracking-[0.2em] uppercase pl-1\">\n                                    User App\n                                </span>\n                            </div>\n                        ) : (\n                            <button onClick={() => setIsSidebarOpen(true)} className=\"mx-auto relative group\">\n                                <img src=\"/images/mini-logo.png\" alt=\"RecycleYuk\" className=\"w-10 h-10 object-contain transition-transform group-hover:scale-110\" />\n                                <div className=\"absolute -right-2 -bottom-2 bg-green-100 text-green-600 rounded-full p-0.5 shadow-sm border border-white\">\n                                    <ChevronRight size={12} />\n                                </div>\n                            </button>\n                        )}\n                    </div>\n                    {isSidebarOpen && <button onClick={() => setIsSidebarOpen(false)} className=\"hidden md:block p-2 rounded-lg hover:bg-gray-100 text-gray-500\"><ChevronLeft size={20} /></button>}\n                    <button onClick={() => setIsMobileMenuOpen(false)} className=\"md:hidden p-2 text-gray-500\"><X size={24} /></button>\n                </div>\n                <nav className=\"flex-1 p-3 space-y-2 overflow-y-auto overflow-x-hidden\">{SIDEBAR_MENUS.map(menu => (<button key={menu.id} onClick={() => navigateTo(menu.id)} className={`w-full flex items-center rounded-xl font-medium transition-all duration-200 h-12 ${activePage === menu.id ? 'bg-green-50 text-green-700 shadow-sm border border-green-100' : 'text-gray-600 hover:bg-gray-50 hover:text-green-600'} ${isSidebarOpen ? 'px-4 gap-3 justify-start' : 'justify-center px-0 md:justify-center'} ${!isSidebarOpen && 'md:px-0'}`}><menu.icon size={22} className={`min-w-[22px] ${activePage === menu.id ? 'text-green-600' : 'text-gray-400'}`} /> <span className={`${!isSidebarOpen ? 'md:hidden' : 'block'}`}>{menu.label}</span></button>))}</nav>\n                <div className=\"p-4 border-t border-gray-100\">\n                    <button onClick={handleLogout} className={`w-full flex items-center rounded-xl font-medium text-red-600 hover:bg-red-50 transition-all h-12 ${isSidebarOpen ? 'px-4 gap-3 justify-start' : 'justify-center px-0 md:justify-center'}`}>\n                        <LogOut size={22} className=\"min-w-[22px]\" /> <span className={`${!isSidebarOpen ? 'md:hidden' : 'block'}`}>Keluar</span>\n                    </button>\n                </div>\n            </aside>\n            <main className={`flex-1 p-4 md:p-8 overflow-y-auto transition-all duration-300 w-full ${isSidebarOpen ? 'md:ml-64' : 'md:ml-20'}`}>\n                <div className=\"md:hidden flex justify-between items-center mb-6 sticky top-0 bg-gray-50 z-30 py-2\"><button onClick={() => setIsMobileMenuOpen(true)}><Menu size={28} /></button><span className=\"font-bold text-lg capitalize\">{activePage}</span><div className=\"w-9 h-9 bg-green-100 rounded-full flex items-center justify-center text-green-700 font-bold\">{profile?.full_name?.charAt(0)}</div></div>\n                <div className=\"max-w-5xl mx-auto\">\n                    <header className=\"hidden md:flex justify-between items-center mb-8 gap-4\">\n                        <div><h2 className=\"text-2xl font-bold capitalize text-gray-800\">{activePage === 'dashboard' ? 'Overview' : activePage.replace('-', ' ')}</h2><p className=\"text-gray-500 text-sm\">Pantau aktivitas lingkunganmu.</p></div>\n                        <div className=\"flex items-center gap-3 bg-white p-1 rounded-xl border border-gray-200 shadow-sm\">\n                            <button onClick={() => setActivePage('notifikasi')} className=\"p-2 rounded-lg hover:bg-gray-100 relative text-gray-600 group transition\">\n                                <Bell size={20} className=\"group-hover:text-green-600\" />\n                                {notifications.filter(n => !n.read).length > 0 && <span className=\"absolute top-2 right-2 w-2 h-2 bg-red-500 rounded-full border border-white animate-pulse\"></span>}\n                            </button>\n                            <div className=\"w-px h-6 bg-gray-200\"></div>\n                            <button onClick={() => setActivePage('profile')} className=\"flex items-center gap-3 pl-2 pr-3 py-1 rounded-lg hover:bg-gray-50 transition\">\n                                <div className=\"w-8 h-8 rounded-full bg-green-100 flex items-center justify-center text-green-700 font-bold border border-green-200 overflow-hidden\">\n                                    {profile?.avatar_url ? (\n                                        <img src={profile.avatar_url} alt=\"Profile\" className=\"w-full h-full object-cover\" />\n                                    ) : (\n                                        profile?.full_name?.charAt(0) || 'U'\n                                    )}\n                                </div>\n                                <div className=\"text-left hidden md:block\">\n                                    <p className=\"text-xs font-bold text-gray-800 line-clamp-1 max-w-[100px]\">{profile?.full_name}</p>\n                                    <p className=\"text-0 text-gray-500\">Warga</p>\n                                </div>\n                            </button>\n                        </div>\n                    </header>\n                    {renderContent()}\n                </div>\n            </main>\n\n            {/* MODAL EDIT */}\n            {isEditProfile && (\n                <div className=\"fixed inset-0 bg-black/60 flex items-center justify-center z-50 p-4\">\n                    <div className=\"bg-white rounded-xl p-6 w-full max-w-md shadow-2xl\">\n                        <h3 className=\"font-bold text-lg mb-4 text-gray-800\">Edit Profil</h3>\n                        <form onSubmit={handleUpdateProfile} className=\"space-y-4\">\n                            <input name=\"fullName\" defaultValue={profile?.full_name} className=\"w-full border p-2 rounded text-gray-800\" />\n                            <div className=\"grid grid-cols-2 gap-4\"><input name=\"rt\" defaultValue={profile?.rt} className=\"w-full border p-2 rounded text-gray-800\" placeholder=\"RT\" /><input name=\"rw\" defaultValue={profile?.rw} className=\"w-full border p-2 rounded text-gray-800\" placeholder=\"RW\" /></div>\n                            <input name=\"email\" defaultValue={profile?.email} className=\"w-full border p-2 rounded text-gray-800\" />\n                            <textarea name=\"address\" defaultValue={profile?.address} className=\"w-full border p-2 rounded text-gray-800 h-24\" />\n                            <div className=\"flex gap-2\"><button type=\"button\" onClick={() => setIsEditProfile(false)} className=\"flex-1 py-2 border rounded\">Batal</button><button type=\"submit\" className=\"flex-1 py-2 bg-green-600 text-white rounded\">Simpan</button></div>\n                        </form>\n                    </div>\n                </div>\n            )}\n\n            {/* MODAL DETAIL */}\n            {(selectedHistory || selectedArticle) && (\n                <div className=\"fixed inset-0 bg-black/60 flex items-center justify-center z-50 p-4\">\n                    <div className=\"bg-white rounded-xl p-6 w-full max-w-md shadow-2xl max-h-[85vh] overflow-y-auto\">\n                        <div className=\"flex justify-between mb-4 border-b pb-2\"><h3 className=\"font-bold text-lg text-gray-800\">Detail</h3><button onClick={() => { setSelectedHistory(null); setSelectedArticle(null) }}><X /></button></div>\n                        {selectedHistory && (<div className=\"space-y-2 text-gray-800\"><p>ID: {selectedHistory.id}</p><p>Status: {selectedHistory.status}</p><p className=\"font-bold text-green-600\">Total: Rp {selectedHistory.fee.toLocaleString()}</p></div>)}\n                        {selectedArticle && (<div className=\"space-y-2 text-gray-800\"><h4 className=\"font-bold\">{selectedArticle.title}</h4><p className=\"text-sm\">{selectedArticle.desc}</p></div>)}\n                    </div>\n                </div>\n            )}\n\n            {/* MODAL PAYMENT (WITH REAL MIDTRANS INTEGRATION) */}\n            {paymentModal.open && (\n                <div className=\"fixed inset-0 bg-black/60 flex items-center justify-center z-50 p-4\">\n                    <div className=\"bg-white rounded-xl w-full max-w-md p-6 text-center shadow-xl\">\n                        <div className=\"flex justify-between mb-4\"><h3 className=\"font-bold text-lg text-gray-800\">Pembayaran</h3><button onClick={() => setPaymentModal({ ...paymentModal, open: false })}><X /></button></div>\n                        {paymentModal.step === 'method' && <div><h2 className=\"text-3xl font-bold mb-4 text-gray-800\">Rp {paymentModal.bill.amount.toLocaleString()}</h2><button onClick={processPayment} className=\"w-full py-3 bg-green-600 text-white font-bold rounded hover:bg-green-700\">Bayar Sekarang</button></div>}\n                        {paymentModal.step === 'processing' && <div><Loader2 className=\"animate-spin mx-auto mb-2 text-green-600\" /><p className=\"text-gray-600\">Memproses pembayaran...</p></div>}\n                        {paymentModal.step === 'success' && <div><CheckCheck className=\"mx-auto mb-2 text-green-600\" size={40} /><h3 className=\"font-bold text-xl text-gray-800\">Berhasil!</h3></div>}\n                    </div>\n                </div>\n            )}\n\n            {/* CHAT MODAL - User to Driver */}\n            {activePickup && (\n                <ChatModal\n                    isOpen={isChatOpen}\n                    onClose={() => setIsChatOpen(false)}\n                    transactionId={activePickup.rawId}\n                    currentUserId={profile?.id}\n                    currentUserName={profile?.full_name}\n                    otherUserName={activePickup.driverName || 'Driver'}\n                    isDriver={false}\n                />\n            )}\n\n            {/* Floating Chat Button - Only when pickup is active */}\n            {activePickup?.rawStatus === 'Process' && (\n                <button\n                    onClick={() => setIsChatOpen(true)}\n                    className=\"fixed bottom-24 right-6 md:bottom-6 bg-green-600 text-white p-4 rounded-full shadow-lg hover:bg-green-700 transition z-40 animate-bounce\"\n                    title=\"Chat dengan Driver\"\n                >\n                    <MessageCircle size={24} />\n                </button>\n            )}\n        </div>\n    );\n}"],"names":["useEffect","useState","useRef","useRouter","createClient","Trash2","Calendar","Award","Truck","MapPin","User","FileText","Bell","BookOpen","Clock","X","LogOut","ChevronLeft","ChevronRight","HelpCircle","Wallet","CheckCircle2","AlertCircle","Search","PlayCircle","Phone","MessageCircle","Star","ArrowRight","Megaphone","CheckCheck","Trash","CreditCard","QrCode","Building","Loader2","Lock","Edit2","Menu","Send","Home","Navigation","Trophy","Recycle","Swal","getRewardBadge","formatRupiah","calculateRewardPoints","uploadAvatar","ChatModal","Map","View","TileLayer","OSM","VectorLayer","VectorSource","Feature","Point","LineString","fromLonLat","Icon","Style","Stroke","Circle","CircleStyle","Fill","supabase","process","env","NEXT_PUBLIC_SUPABASE_URL","NEXT_PUBLIC_SUPABASE_ANON_KEY","DEFAULT_COORDS","DRIVER_START","WEIGHT_OPTIONS","label","value","TIME_OPTIONS","COMPLAINT_CATEGORIES","UserDashboard","router","loading","setLoading","activePage","setActivePage","currentTime","setCurrentTime","userLocation","setUserLocation","isGpsActive","setIsGpsActive","isSidebarOpen","setIsSidebarOpen","isMobileMenuOpen","setIsMobileMenuOpen","profile","setProfile","stats","setStats","totalWaste","lastPickup","points","wasteTypes","setWasteTypes","pickupHistory","setPickupHistory","activePickup","setActivePickup","driverLocation","setDriverLocation","complaints","setComplaints","notifications","setNotifications","isChatOpen","setIsChatOpen","complaintForm","setComplaintForm","title","category","content","formRequest","setFormRequest","wasteTypeId","weight","date","time","notes","paymentModal","setPaymentModal","open","bill","step","bills","setBills","id","amount","status","due_date","searchTerm","setSearchTerm","selectedCategory","setSelectedCategory","selectedArticle","setSelectedArticle","selectedHistory","setSelectedHistory","isEditProfile","setIsEditProfile","mapElement","mapRef","vectorSourceRef","SIDEBAR_MENUS","icon","EDUCATION_DATA","type","desc","readTime","snapScript","clientKey","NEXT_PUBLIC_MIDTRANS_CLIENT_KEY","script","document","createElement","src","setAttribute","async","body","appendChild","contains","removeChild","timer","setInterval","Date","toLocaleTimeString","hour","minute","fetchData","startGpsTracking","channel","on","event","schema","table","payload","eventType","new","fire","text","showConfirmButton","toast","position","background","color","subscribe","handleResize","window","innerWidth","addEventListener","clearInterval","removeEventListener","removeChannel","mounted","setMounted","navigator","geolocation","console","warn","watchPosition","latitude","longitude","coords","newLoc","error","code","enableHighAccuracy","maximumAge","timeout","centerToUserLocation","current","getView","animate","center","zoom","duration","driverHeading","setDriverHeading","rawStatus","interval","prev","lonDiff","latDiff","Math","abs","angle","atan2","vectorLayer","source","zIndex","initialMap","target","layers","view","controls","updateMapMarkers","setTarget","clear","accuracyFeature","geometry","setStyle","image","radius","fill","stroke","width","addFeature","driverFeature","scale","anchor","routeFeature","lineDash","data","user","auth","getUser","push","profileData","from","select","eq","single","wastes","rt","notifData","or","order","ascending","transactions","map","t","String","slice","waste_types","name","created_at","toLocaleDateString","fee","total_price","totalW","reduce","acc","curr","Number","floor","active","find","driverId","driver_id","driver","drivers","full_name","vehicle","rating","eta","complaintsData","log","filter","current_latitude","current_longitude","navigateTo","pageId","handleLogout","result","showCancelButton","confirmButtonColor","confirmButtonText","isConfirmed","signOut","handleUpdateProfile","e","preventDefault","formData","FormData","updatedData","get","email","address","rw","update","handleAvatarChange","file","files","allowOutsideClick","didOpen","showLoading","publicUrl","Error","avatar_url","err","message","handleRequestSubmit","profile_id","waste_type_id","pickup_time","insert","handleComplaintSubmit","user_id","subject","handlePayClick","b","processPayment","snap","currentBill","p","response","fetch","method","headers","JSON","stringify","firstName","json","ok","pay","token","onSuccess","onPending","onError","onClose","markAllRead","n","read","markAsRead","deleteNotification","unreadCount","length","getStatusColor","s","rewardBadge","renderDashboard","split","level","l","v","i","renderRequest","w","opt","renderPengaduan","cat","c","renderTracking","height","renderIuran","renderEdukasi","toLowerCase","includes","item","renderNotifikasi","stopPropagation","renderProfile","getElementById","click","charAt","nik","renderHistory","pickup","idx","toLocaleString","renderContent","menu","replace","rawId","driverName"],"mappings":"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","ignoreList":[]}}]
}