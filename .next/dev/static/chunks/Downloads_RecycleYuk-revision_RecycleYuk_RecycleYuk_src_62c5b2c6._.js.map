{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Administrator/Downloads/RecycleYuk-revision/RecycleYuk/RecycleYuk/src/utils/enhancedHelpers.js"],"sourcesContent":["// Helper functions untuk enhance existing features di RecycleYuk\r\n\r\nimport { createClient } from '@supabase/supabase-js';\r\n\r\nconst supabase = createClient(process.env.NEXT_PUBLIC_SUPABASE_URL, process.env.NEXT_PUBLIC_SUPABASE_ANON_KEY);\r\n\r\n// Enhanced Reward Points Calculation\r\nexport const calculateRewardPoints = (totalWeight) => {\r\n    const basePoints = Math.floor(totalWeight * 10); // 10 poin per kg\r\n\r\n    // Bonus untuk milestone\r\n    let bonus = 0;\r\n    if (totalWeight >= 100) bonus += 500; // Bonus 500 poin untuk 100kg+\r\n    if (totalWeight >= 50) bonus += 200;  // Bonus 200 poin untuk 50kg+\r\n    if (totalWeight >= 20) bonus += 50;   // Bonus 50 poin untuk 20kg+\r\n\r\n    return basePoints + bonus;\r\n};\r\n\r\n// Get Reward Badge based on points\r\nexport const getRewardBadge = (points) => {\r\n    if (points >= 5000) return { level: 'Diamond', color: 'bg-purple-500', icon: 'ðŸ’Ž' };\r\n    if (points >= 2000) return { level: 'Gold', color: 'bg-yellow-500', icon: 'ðŸ¥‡' };\r\n    if (points >= 1000) return { level: 'Silver', color: 'bg-gray-400', icon: 'ðŸ¥ˆ' };\r\n    if (points >= 500) return { level: 'Bronze', color: 'bg-orange-600', icon: 'ðŸ¥‰' };\r\n    return { level: 'Starter', color: 'bg-green-500', icon: 'ðŸŒ±' };\r\n};\r\n\r\n// Format Rupiah Currency\r\nexport const formatRupiah = (amount) => {\r\n    return new Intl.NumberFormat('id-ID', {\r\n        style: 'currency',\r\n        currency: 'IDR',\r\n        minimumFractionDigits: 0,\r\n        maximumFractionDigits: 0\r\n    }).format(amount);\r\n};\r\n\r\n// Calculate Driver Earnings\r\nexport const calculateDriverEarnings = (transactions) => {\r\n    const completedTransactions = transactions.filter(t => t.status === 'done');\r\n\r\n    const earnings = {\r\n        today: 0,\r\n        thisWeek: 0,\r\n        thisMonth: 0,\r\n        total: 0,\r\n        transactionCount: completedTransactions.length\r\n    };\r\n\r\n    const now = new Date();\r\n    const todayStart = new Date(now.setHours(0, 0, 0, 0));\r\n    const weekStart = new Date(now.setDate(now.getDate() - now.getDay()));\r\n    const monthStart = new Date(now.getFullYear(), now.getMonth(), 1);\r\n\r\n    completedTransactions.forEach(t => {\r\n        const transactionDate = new Date(t.created_at);\r\n        const earning = (t.total_price || 0) * 0.15; // Driver gets 15% of each transaction\r\n\r\n        earnings.total += earning;\r\n\r\n        if (transactionDate >= todayStart) {\r\n            earnings.today += earning;\r\n        }\r\n        if (transactionDate >= weekStart) {\r\n            earnings.thisWeek += earning;\r\n        }\r\n        if (transactionDate >= monthStart) {\r\n            earnings.thisMonth += earning;\r\n        }\r\n    });\r\n\r\n    return earnings;\r\n};\r\n\r\n// Enhanced Statistics Calculation\r\nexport const calculateEnhancedStats = (transactions, userRole) => {\r\n    const stats = {\r\n        total: transactions.length,\r\n        pending: transactions.filter(t => t.status === 'Pending').length,\r\n        inProgress: transactions.filter(t => t.status === 'In Progress').length,\r\n        completed: transactions.filter(t => t.status === 'done').length,\r\n        totalWeight: transactions.reduce((sum, t) => sum + (Number(t.weight) || 0), 0),\r\n        totalRevenue: transactions.reduce((sum, t) => sum + (t.total_price || 0), 0)\r\n    };\r\n\r\n    // Calculate trend (last 7 days vs previous 7 days)\r\n    const now = new Date();\r\n    const sevenDaysAgo = new Date(now.getTime() - 7 * 24 * 60 * 60 * 1000);\r\n    const fourteenDaysAgo = new Date(now.getTime() - 14 * 24 * 60 * 60 * 1000);\r\n\r\n    const recentTransactions = transactions.filter(t => new Date(t.created_at) >= sevenDaysAgo);\r\n    const previousTransactions = transactions.filter(t => {\r\n        const date = new Date(t.created_at);\r\n        return date >= fourteenDaysAgo && date < sevenDaysAgo;\r\n    });\r\n\r\n    stats.trend = {\r\n        transactions: recentTransactions.length - previousTransactions.length,\r\n        weight: recentTransactions.reduce((sum, t) => sum + (Number(t.weight) || 0), 0) -\r\n            previousTransactions.reduce((sum, t) => sum + (Number(t.weight) || 0), 0)\r\n    };\r\n\r\n    return stats;\r\n};\r\n\r\n// Export Report Data\r\nexport const exportToExcel = async (data, filename) => {\r\n    try {\r\n        // Convert data to CSV format\r\n        const headers = Object.keys(data[0] || {});\r\n        const csvContent = [\r\n            headers.join(','),\r\n            ...data.map(row => headers.map(header => `\"${row[header] || ''}\"`).join(','))\r\n        ].join('\\n');\r\n\r\n        // Create blob and download\r\n        const blob = new Blob([csvContent], { type: 'text/csv;charset=utf-8;' });\r\n        const link = document.createElement('a');\r\n        const url = URL.createObjectURL(blob);\r\n\r\n        link.setAttribute('href', url);\r\n        link.setAttribute('download', `${filename}_${new Date().toISOString().split('T')[0]}.csv`);\r\n        link.style.visibility = 'hidden';\r\n        document.body.appendChild(link);\r\n        link.click();\r\n        document.body.removeChild(link);\r\n\r\n        return true;\r\n    } catch (error) {\r\n        console.error('Export error:', error);\r\n        return false;\r\n    }\r\n};\r\n\r\n// Real-time Notification Helper\r\nexport const sendNotification = async (userId, title, message, type = 'info') => {\r\n    try {\r\n        const { error } = await supabase.from('notifications').insert({\r\n            profile_id: userId,\r\n            title,\r\n            message,\r\n            type,\r\n            is_read: false\r\n        });\r\n\r\n        if (error) throw error;\r\n        return true;\r\n    } catch (error) {\r\n        console.error('Notification error:', error);\r\n        return false;\r\n    }\r\n};\r\n\r\n// Validate NIK (Indonesian ID Number)\r\nexport const validateNIK = (nik) => {\r\n    return /^\\d{16}$/.test(nik);\r\n};\r\n\r\n// Validate Phone Number (Indonesian)\r\nexport const validatePhone = (phone) => {\r\n    return /^(\\+62|62|0)[0-9]{9,12}$/.test(phone);\r\n};\r\n\r\n// Get Status Color Class\r\nexport const getStatusColor = (status) => {\r\n    const statusLower = (status || '').toLowerCase();\r\n\r\n    const colorMap = {\r\n        'done': 'bg-green-100 text-green-700 border-green-300',\r\n        'selesai': 'bg-green-100 text-green-700 border-green-300',\r\n        'resolved': 'bg-green-100 text-green-700 border-green-300',\r\n        'in progress': 'bg-blue-100 text-blue-700 border-blue-300',\r\n        'proses': 'bg-blue-100 text-blue-700 border-blue-300',\r\n        'pending': 'bg-yellow-100 text-yellow-700 border-yellow-300',\r\n        'menunggu': 'bg-yellow-100 text-yellow-700 border-yellow-300',\r\n        'canceled': 'bg-red-100 text-red-700 border-red-300',\r\n        'dibatalkan': 'bg-red-100 text-red-700 border-red-300'\r\n    };\r\n\r\n    return colorMap[statusLower] || 'bg-gray-100 text-gray-700 border-gray-300';\r\n};\r\n\r\n// Calculate Distance between two coordinates (Haversine formula)\r\nexport const calculateDistance = (lat1, lon1, lat2, lon2) => {\r\n    const R = 6371; // Radius of the Earth in km\r\n    const dLat = (lat2 - lat1) * Math.PI / 180;\r\n    const dLon = (lon2 - lon1) * Math.PI / 180;\r\n\r\n    const a =\r\n        Math.sin(dLat / 2) * Math.sin(dLat / 2) +\r\n        Math.cos(lat1 * Math.PI / 180) * Math.cos(lat2 * Math.PI / 180) *\r\n        Math.sin(dLon / 2) * Math.sin(dLon / 2);\r\n\r\n    const c = 2 * Math.atan2(Math.sqrt(a), Math.sqrt(1 - a));\r\n    const distance = R * c; // Distance in km\r\n\r\n    return distance.toFixed(2);\r\n};\r\n\r\n// Estimate Time of Arrival based on distance\r\nexport const estimateETA = (distanceInKm) => {\r\n    const avgSpeed = 30; // km/h average speed in city\r\n    const timeInHours = distanceInKm / avgSpeed;\r\n    const timeInMinutes = Math.ceil(timeInHours * 60);\r\n\r\n    if (timeInMinutes < 60) {\r\n        return `${timeInMinutes} Menit`;\r\n    } else {\r\n        const hours = Math.floor(timeInMinutes / 60);\r\n        const minutes = timeInMinutes % 60;\r\n        return `${hours} Jam ${minutes} Menit`;\r\n    }\r\n};\r\n\r\n// Generate Random Color for Charts\r\nexport const generateChartColors = (count) => {\r\n    const colors = [\r\n        '#10b981', '#3b82f6', '#f59e0b', '#ef4444', '#8b5cf6',\r\n        '#ec4899', '#14b8a6', '#f97316', '#6366f1', '#84cc16'\r\n    ];\r\n\r\n    return Array.from({ length: count }, (_, i) => colors[i % colors.length]);\r\n};\r\n\r\n// Filter Transactions by Date Range\r\nexport const filterByDateRange = (transactions, startDate, endDate) => {\r\n    if (!startDate || !endDate) return transactions;\r\n\r\n    const start = new Date(startDate);\r\n    const end = new Date(endDate);\r\n    end.setHours(23, 59, 59, 999); // Include entire end day\r\n\r\n    return transactions.filter(t => {\r\n        const transactionDate = new Date(t.created_at);\r\n        return transactionDate >= start && transactionDate <= end;\r\n    });\r\n};\r\n\r\n// Group Transactions by Period\r\nexport const groupByPeriod = (transactions, period = 'day') => {\r\n    const groups = {};\r\n\r\n    transactions.forEach(t => {\r\n        const date = new Date(t.created_at);\r\n        let key;\r\n\r\n        switch (period) {\r\n            case 'hour':\r\n                key = `${date.getFullYear()}-${date.getMonth() + 1}-${date.getDate()} ${date.getHours()}:00`;\r\n                break;\r\n            case 'day':\r\n                key = `${date.getFullYear()}-${date.getMonth() + 1}-${date.getDate()}`;\r\n                break;\r\n            case 'week':\r\n                const weekNum = Math.ceil(date.getDate() / 7);\r\n                key = `${date.getFullYear()}-${date.getMonth() + 1} Week ${weekNum}`;\r\n                break;\r\n            case 'month':\r\n                key = `${date.getFullYear()}-${date.getMonth() + 1}`;\r\n                break;\r\n            case 'year':\r\n                key = `${date.getFullYear()}`;\r\n                break;\r\n            default:\r\n                key = date.toISOString().split('T')[0];\r\n        }\r\n\r\n        if (!groups[key]) {\r\n            groups[key] = [];\r\n        }\r\n        groups[key].push(t);\r\n    });\r\n\r\n    return groups;\r\n};\r\n\r\nexport default {\r\n    calculateRewardPoints,\r\n    getRewardBadge,\r\n    formatRupiah,\r\n    calculateDriverEarnings,\r\n    calculateEnhancedStats,\r\n    exportToExcel,\r\n    sendNotification,\r\n    validateNIK,\r\n    validatePhone,\r\n    getStatusColor,\r\n    calculateDistance,\r\n    estimateETA,\r\n    generateChartColors,\r\n    filterByDateRange,\r\n    groupByPeriod\r\n};\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 309, "column": 0}, "map": {"version":3,"sources":["C:/Users/Administrator/Downloads/RecycleYuk-revision/RecycleYuk/RecycleYuk/src/app/dashboard/driver/page.js"],"sourcesContent":["'use client';\n\nimport { useState, useEffect, useRef } from 'react';\nimport { useRouter } from 'next/navigation';\nimport { createClient } from '@supabase/supabase-js';\nimport {\n    LayoutDashboard, Truck, MapPin, CheckCircle, History, User,\n    LogOut, Menu, X, ChevronLeft, Search,\n    Navigation, Clock, Calendar, CheckCircle2, AlertCircle, Package,\n    Loader2, Phone, MessageCircle, Wallet, DollarSign, TrendingUp, Download, Trophy\n} from 'lucide-react';\nimport Swal from 'sweetalert2';\nimport { calculateDriverEarnings, formatRupiah, exportToExcel } from '@/utils/enhancedHelpers';\n\n// --- OPENLAYERS IMPORTS ---\nimport 'ol/ol.css';\nimport Map from 'ol/Map';\nimport View from 'ol/View';\nimport TileLayer from 'ol/layer/Tile';\nimport OSM from 'ol/source/OSM';\nimport VectorLayer from 'ol/layer/Vector';\nimport VectorSource from 'ol/source/Vector';\nimport Feature from 'ol/Feature';\nimport Point from 'ol/geom/Point';\nimport LineString from 'ol/geom/LineString';\nimport { fromLonLat } from 'ol/proj';\nimport { Icon, Style, Stroke, Circle as CircleStyle, Fill } from 'ol/style';\n\n// --- INISIALISASI SUPABASE ---\nconst supabase = createClient(\n    process.env.NEXT_PUBLIC_SUPABASE_URL,\n    process.env.NEXT_PUBLIC_SUPABASE_ANON_KEY\n);\n\n// Koordinat Default (Bandung) [Lon, Lat]\nconst CENTER_COORDS = [107.6191, -6.9175];\n\nexport default function DriverDashboard() {\n    const router = useRouter();\n\n    // --- 1. STATE MANAGEMENT ---\n    const [mounted, setMounted] = useState(false);\n    const [loading, setLoading] = useState(true);\n    const [currentTime, setCurrentTime] = useState('');\n\n    // GPS & Maps State\n    const [myLocation, setMyLocation] = useState(CENTER_COORDS);\n    const [isGpsActive, setIsGpsActive] = useState(false);\n\n    // UI States\n    const [isSidebarOpen, setIsSidebarOpen] = useState(true);\n    const [isMobileMenuOpen, setIsMobileMenuOpen] = useState(false);\n    const [activePage, setActivePage] = useState('dashboard');\n\n    // Data States\n    const [currentUser, setCurrentUser] = useState(null);\n    const [tasks, setTasks] = useState([]);\n    const [history, setHistory] = useState([]);\n    const [driverProfile, setDriverProfile] = useState(null);\n    const [totalIncome, setTotalIncome] = useState(0);\n    const [searchQuery, setSearchQuery] = useState('');\n    const [taskFilter, setTaskFilter] = useState('pending'); // 'pending' or 'process'\n\n    // OpenLayers Refs\n    const mapElement = useRef();\n    const mapRef = useRef(null);\n    const vectorSourceRef = useRef(new VectorSource());\n\n    const SIDEBAR_MENUS = [\n        { id: 'dashboard', label: 'Ringkasan', icon: LayoutDashboard },\n        { id: 'tasks', label: 'Tugas Jemput', icon: Truck },\n        { id: 'map', label: 'Peta Lokasi', icon: MapPin },\n        { id: 'history', label: 'Riwayat', icon: History },\n        { id: 'earnings', label: 'Pendapatan', icon: Wallet },\n    ];\n\n    // --- 2. CORE LOGIC ---\n    useEffect(() => {\n        setMounted(true);\n        const timer = setInterval(() => {\n            setCurrentTime(new Date().toLocaleTimeString('id-ID', { hour: '2-digit', minute: '2-digit' }));\n        }, 1000);\n\n        fetchData();\n        startGpsTracking();\n\n        const channel = supabase\n            .channel('driver-dashboard')\n            .on('postgres_changes', { event: '*', schema: 'public', table: 'transactions' }, () => {\n                fetchData();\n            })\n            .subscribe();\n\n        const handleResize = () => { if (window.innerWidth >= 768) setIsMobileMenuOpen(false); };\n        window.addEventListener('resize', handleResize);\n\n        return () => {\n            clearInterval(timer);\n            window.removeEventListener('resize', handleResize);\n            supabase.removeChannel(channel);\n        };\n    }, []);\n\n    // --- 3. GPS LOGIC (WATCH POSITION) ---\n    const startGpsTracking = () => {\n        if (!navigator.geolocation) return;\n\n        // Menggunakan watchPosition agar lokasi terus terupdate realtime\n        navigator.geolocation.watchPosition(\n            (position) => {\n                const { latitude, longitude } = position.coords;\n                // OpenLayers menggunakan [Lon, Lat]\n                const newLoc = [longitude, latitude];\n                setMyLocation(newLoc);\n                setIsGpsActive(true);\n            },\n            (err) => {\n                console.warn(\"GPS Error:\", err.message);\n            },\n            { enableHighAccuracy: true, maximumAge: 0, timeout: 10000 }\n        );\n    };\n\n    const centerToMyLocation = () => {\n        if (mapRef.current && isGpsActive) {\n            mapRef.current.getView().animate({ center: fromLonLat(myLocation), zoom: 17, duration: 1000 });\n        } else {\n            Swal.fire('GPS Mencari...', 'Pastikan izin lokasi aktif dan tunggu sinyal.', 'info');\n        }\n    };\n\n    // --- 4. MAP INITIALIZATION ---\n    useEffect(() => {\n        if (activePage === 'map' && mapElement.current && !mapRef.current) {\n\n            const vectorLayer = new VectorLayer({\n                source: vectorSourceRef.current,\n                zIndex: 100\n            });\n\n            const initialMap = new Map({\n                target: mapElement.current,\n                layers: [\n                    new TileLayer({ source: new OSM() }),\n                    vectorLayer\n                ],\n                view: new View({\n                    center: fromLonLat(CENTER_COORDS),\n                    zoom: 13\n                }),\n                controls: []\n            });\n\n            mapRef.current = initialMap;\n            updateMapMarkers();\n        }\n\n        return () => {\n            if (activePage !== 'map' && mapRef.current) {\n                mapRef.current.setTarget(null);\n                mapRef.current = null;\n            }\n        }\n    }, [activePage, mounted]);\n\n    // --- 5. UPDATE MAP MARKERS ---\n    const updateMapMarkers = () => {\n        if (!mapRef.current) return;\n\n        vectorSourceRef.current.clear();\n\n        // A. Marker Saya (Driver)\n        if (isGpsActive) {\n            // Marker Titik Biru (Akurasi)\n            const accuracyFeature = new Feature({ geometry: new Point(fromLonLat(myLocation)) });\n            accuracyFeature.setStyle(new Style({\n                image: new CircleStyle({\n                    radius: 8,\n                    fill: new Fill({ color: '#3b82f6' }),\n                    stroke: new Stroke({ color: '#fff', width: 2 })\n                })\n            }));\n            vectorSourceRef.current.addFeature(accuracyFeature);\n\n            // Marker Truk\n            const driverFeature = new Feature({ geometry: new Point(fromLonLat(myLocation)) });\n            driverFeature.setStyle(new Style({\n                image: new Icon({\n                    src: 'https://cdn-icons-png.flaticon.com/512/3096/3096673.png',\n                    scale: 0.08, anchor: [0.5, 1]\n                })\n            }));\n            vectorSourceRef.current.addFeature(driverFeature);\n        }\n\n        // B. Rute (Garis Hijau)\n        // Note: Icon Sampah sudah DIHAPUS sesuai permintaan\n        tasks.filter(t => t.status === 'Pending' || (t.status === 'Process' && t.driver_id === currentUser?.id)).forEach(t => {\n            if (t.lng && t.lat) {\n                const taskLoc = [t.lng, t.lat];\n\n                // HAPUS ICON SAMPAH (Tidak ada kode Feature Point untuk Task)\n\n                // Garis Rute (Hanya muncul jika sedang proses jemput & GPS aktif)\n                if (t.status === 'Process' && isGpsActive) {\n                    const routeFeature = new Feature({\n                        geometry: new LineString([fromLonLat(myLocation), fromLonLat(taskLoc)])\n                    });\n                    routeFeature.setStyle(new Style({\n                        stroke: new Stroke({ color: '#10B981', width: 4, lineDash: [10, 10] })\n                    }));\n                    vectorSourceRef.current.addFeature(routeFeature);\n                }\n            }\n        });\n    };\n\n    useEffect(() => {\n        updateMapMarkers();\n    }, [tasks, myLocation, isGpsActive, currentUser, activePage]);\n\n\n    // --- DATA FETCHING ---\n    const fetchData = async () => {\n        try {\n            const { data: { user } } = await supabase.auth.getUser();\n            if (!user) { router.push('/login'); return; }\n\n            const { data: profile } = await supabase.from('profiles').select('*').eq('id', user.id).single();\n            setCurrentUser({ ...user, ...profile });\n\n            const { data: dProfile } = await supabase.from('drivers').select('*').eq('id', user.id).single();\n            if (dProfile) setDriverProfile(dProfile);\n\n            // Ambil Task Aktif\n            const { data: activeTasks } = await supabase\n                .from('transactions')\n                .select(`*, profiles:profile_id(full_name, address, rt, rw, phone), waste_types(name)`)\n                .neq('status', 'Done')\n                .order('created_at', { ascending: true });\n\n            const filteredTasks = (activeTasks || []).filter(t =>\n                t.status === 'Pending' || (t.status === 'Process' && t.driver_id === user.id)\n            );\n\n            // Generate Koordinat Dummy\n            const tasksWithCoords = filteredTasks.map(t => ({\n                ...t,\n                // Koordinat acak di sekitar lokasi driver\n                lat: myLocation[1] + (Math.random() * 0.015 - 0.0075),\n                lng: myLocation[0] + (Math.random() * 0.015 - 0.0075)\n            }));\n\n            setTasks(tasksWithCoords);\n\n            // Hitung Pendapatan\n            const { data: historyData } = await supabase\n                .from('transactions')\n                .select('*, profiles(full_name, address), waste_types(name)')\n                .eq('status', 'Done')\n                .eq('driver_id', user.id)\n                .order('updated_at', { ascending: false });\n\n            setHistory(historyData || []);\n            const income = (historyData || []).reduce((acc, curr) => acc + (curr.total_price || 0), 0);\n            setTotalIncome(income);\n\n        } catch (err) {\n            console.error(\"Error data:\", err);\n        } finally {\n            setLoading(false);\n        }\n    };\n\n    const navigateTo = (pageId) => { setActivePage(pageId); setIsMobileMenuOpen(false); };\n    const handleLogout = async () => { await supabase.auth.signOut(); router.push('/login'); };\n\n    const contactUser = (type, phoneNumber, name) => {\n        if (!phoneNumber) return Swal.fire('Gagal', 'Nomor HP tidak tersedia.', 'error');\n        let formatted = phoneNumber.replace(/\\D/g, '');\n        if (formatted.startsWith('0')) formatted = '62' + formatted.slice(1);\n\n        if (type === 'whatsapp') {\n            const msg = `Halo Kak ${name}, saya Driver RecycleYuk sedang menuju lokasi.`;\n            window.open(`https://wa.me/${formatted}?text=${encodeURIComponent(msg)}`, '_blank');\n        } else {\n            window.open(`tel:${phoneNumber}`, '_self');\n        }\n    };\n\n    const handleTaskAction = async (taskId, action) => {\n        const myActiveTask = tasks.find(t => t.status === 'Process' && t.driver_id === currentUser.id);\n        if (action === 'Process' && myActiveTask) return Swal.fire('Fokus!', 'Selesaikan tugas aktif dulu.', 'warning');\n\n        const result = await Swal.fire({\n            title: action === 'Process' ? 'Ambil Tugas?' : 'Selesaikan?',\n            icon: 'question',\n            showCancelButton: true,\n            confirmButtonText: 'Ya',\n            confirmButtonColor: '#10B981'\n        });\n\n        if (result.isConfirmed) {\n            try {\n                const updatePayload = { status: action };\n                if (action === 'Process') updatePayload.driver_id = currentUser.id;\n                await supabase.from('transactions').update(updatePayload).eq('id', taskId);\n                Swal.fire('Berhasil!', 'Status diperbarui.', 'success');\n                fetchData();\n            } catch (err) { Swal.fire('Gagal', err.message, 'error'); }\n        }\n    };\n\n    const handleDriverStatusToggle = async () => {\n        if (!driverProfile) return;\n        const newStatus = driverProfile.status === 'On Duty' ? 'Off Duty' : 'On Duty';\n        try {\n            await supabase.from('drivers').update({ status: newStatus }).eq('id', driverProfile.id);\n            setDriverProfile({ ...driverProfile, status: newStatus });\n            Swal.fire('Status', `Anda sekarang ${newStatus}`, 'success');\n        } catch (err) { Swal.fire('Error', 'Gagal update status', 'error'); }\n    };\n\n    const handleUpdateProfile = async (e) => {\n        e.preventDefault();\n        try {\n            await supabase.from('profiles').update({ full_name: currentUser.full_name, address: currentUser.address }).eq('id', currentUser.id);\n            if (driverProfile) await supabase.from('drivers').update({ name: currentUser.full_name, vehicle: driverProfile.vehicle }).eq('id', driverProfile.id);\n            Swal.fire('Sukses', 'Profil berhasil disimpan!', 'success');\n            fetchData();\n        } catch (err) { Swal.fire('Gagal', err.message, 'error'); }\n    };\n\n    // --- RENDERERS ---\n\n    const renderDashboard = () => (\n        <div className=\"space-y-6 animate-in fade-in pb-20 md:pb-0\">\n            {/* Banner */}\n            <div className=\"bg-gradient-to-r from-green-600 to-emerald-600 rounded-2xl p-6 md:p-8 text-white shadow-lg relative overflow-hidden\">\n                <div className=\"relative z-10\">\n                    <h2 className=\"text-2xl md:text-3xl font-bold mb-2\">Halo, {currentUser?.full_name?.split(' ')[0]}! ðŸš›</h2>\n                    <p className=\"opacity-90\">Siap menjemput rezeki dan menjaga lingkungan hari ini?</p>\n                    <div className=\"mt-6 flex flex-wrap items-center gap-3\">\n                        <div className=\"inline-flex items-center bg-white/20 backdrop-blur-sm px-4 py-2 rounded-lg border border-white/30\">\n                            <span className={`w-3 h-3 rounded-full mr-2 ${driverProfile?.status === 'On Duty' ? 'bg-green-400 animate-pulse' : 'bg-red-400'}`}></span>\n                            <span className=\"font-medium text-sm\">Status: {driverProfile?.status || 'Loading...'}</span>\n                        </div>\n                        <button onClick={handleDriverStatusToggle} className=\"text-xs bg-white text-green-700 px-3 py-2 rounded-lg font-bold hover:bg-green-50 transition shadow-md\">\n                            {driverProfile?.status === 'On Duty' ? 'Matikan' : 'Aktifkan'}\n                        </button>\n                    </div>\n                </div>\n                <Truck className=\"absolute right-[-10px] bottom-[-10px] opacity-10 w-32 h-32 md:w-40 md:h-40 transform -rotate-12\" />\n            </div>\n\n            {/* Statistik Cards */}\n            <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4 md:gap-6\">\n                <div className=\"bg-white p-5 rounded-2xl shadow-sm border border-gray-100 flex justify-between items-center transition hover:shadow-md\">\n                    <div>\n                        <p className=\"text-gray-500 text-xs font-bold uppercase tracking-wide\">Order Masuk</p>\n                        <h3 className=\"text-3xl font-bold text-gray-800 mt-1\">{tasks.filter(t => t.status === 'Pending').length}</h3>\n                    </div>\n                    <div className=\"bg-yellow-50 p-3 rounded-xl text-yellow-600 border border-yellow-100\"><AlertCircle size={28} /></div>\n                </div>\n\n                <div className=\"bg-white p-5 rounded-2xl shadow-sm border border-gray-100 flex justify-between items-center transition hover:shadow-md border-l-4 border-l-green-500\">\n                    <div>\n                        <p className=\"text-gray-500 text-xs font-bold uppercase tracking-wide\">Total Pendapatan</p>\n                        <h3 className=\"text-2xl font-bold text-green-700 mt-1\">Rp {totalIncome.toLocaleString('id-ID')}</h3>\n                    </div>\n                    <div className=\"bg-green-50 p-3 rounded-xl text-green-600 border border-green-100\"><Wallet size={28} /></div>\n                </div>\n\n                <div className=\"bg-white p-5 rounded-2xl shadow-sm border border-gray-100 flex justify-between items-center transition hover:shadow-md\">\n                    <div>\n                        <p className=\"text-gray-500 text-xs font-bold uppercase tracking-wide\">Tugas Selesai</p>\n                        <h3 className=\"text-3xl font-bold text-blue-600 mt-1\">{history.length}</h3>\n                    </div>\n                    <div className=\"bg-blue-50 p-3 rounded-xl text-blue-600 border border-blue-100\"><CheckCircle2 size={28} /></div>\n                </div>\n            </div>\n\n            {/* Kartu Tugas Aktif */}\n            {tasks.filter(t => t.status === 'Process' && t.driver_id === currentUser?.id).map(task => (\n                <div key={task.id} className=\"bg-white border border-blue-200 rounded-2xl p-6 shadow-lg shadow-blue-50 animate-in slide-in-from-bottom duration-500 relative overflow-hidden\">\n                    <div className=\"absolute top-0 left-0 w-2 h-full bg-blue-500\"></div>\n                    <div className=\"flex justify-between items-start mb-6 border-b border-gray-100 pb-4\">\n                        <div>\n                            <h3 className=\"font-bold text-xl text-gray-800 flex items-center gap-2\"><Truck className=\"text-blue-600\" /> Sedang Dijemput</h3>\n                            <p className=\"text-sm text-gray-500 mt-1\">Order ID: #{String(task.id).slice(0, 8)}</p>\n                        </div>\n                        <span className=\"bg-blue-100 text-blue-700 px-4 py-1.5 rounded-full text-xs font-bold uppercase tracking-wide shadow-sm\">PROCESS</span>\n                    </div>\n\n                    <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6\">\n                        <div className=\"space-y-4\">\n                            <div className=\"flex items-start gap-4\">\n                                <div className=\"bg-blue-50 p-2 rounded-lg text-blue-600\"><User size={20} /></div>\n                                <div>\n                                    <p className=\"text-xs text-gray-500 font-bold uppercase\">Nama Warga</p>\n                                    <p className=\"text-gray-800 font-bold text-lg\">{task.profiles?.full_name}</p>\n                                </div>\n                            </div>\n                            <div className=\"flex items-start gap-4\">\n                                <div className=\"bg-red-50 p-2 rounded-lg text-red-600\"><MapPin size={20} /></div>\n                                <div>\n                                    <p className=\"text-xs text-gray-500 font-bold uppercase\">Alamat</p>\n                                    <p className=\"text-gray-800 font-medium leading-relaxed\">{task.profiles?.address}</p>\n                                </div>\n                            </div>\n                        </div>\n                        <div className=\"space-y-4\">\n                            <div className=\"flex items-start gap-4\">\n                                <div className=\"bg-orange-50 p-2 rounded-lg text-orange-600\"><Package size={20} /></div>\n                                <div>\n                                    <p className=\"text-xs text-gray-500 font-bold uppercase\">Detail Sampah</p>\n                                    <p className=\"text-gray-800 font-medium\">{task.waste_types?.name} â€¢ <span className=\"font-bold\">{task.weight} Kg</span></p>\n                                    <p className=\"text-sm text-green-600 font-bold mt-1\">Rp {task.total_price?.toLocaleString()}</p>\n                                </div>\n                            </div>\n                            <div className=\"bg-yellow-50 p-3 rounded-xl border border-yellow-100 text-sm text-yellow-800 flex gap-2\">\n                                <AlertCircle size={16} className=\"mt-0.5 flex-shrink-0\" />\n                                <p><strong>Catatan:</strong> \"{task.notes || 'Tidak ada catatan'}\"</p>\n                            </div>\n                        </div>\n                    </div>\n\n                    <div className=\"grid grid-cols-1 md:grid-cols-2 gap-3 mb-4\">\n                        <button onClick={() => contactUser('whatsapp', task.profiles?.phone, task.profiles?.full_name)} className=\"flex items-center justify-center gap-2 py-3 bg-green-500 text-white rounded-xl font-bold hover:bg-green-600 transition shadow-sm\"><MessageCircle size={20} /> Chat WA</button>\n                        <button onClick={() => contactUser('call', task.profiles?.phone)} className=\"flex items-center justify-center gap-2 py-3 bg-blue-500 text-white rounded-xl font-bold hover:bg-blue-600 transition shadow-sm\"><Phone size={20} /> Telepon</button>\n                    </div>\n\n                    <div className=\"grid grid-cols-2 gap-3 pt-2 border-t border-gray-100\">\n                        <a href={`https://www.google.com/maps/search/?api=1&query=${encodeURIComponent(task.profiles?.address)}`} target=\"_blank\" className=\"flex justify-center items-center gap-2 py-3 bg-white text-gray-700 font-bold rounded-xl border-2 border-gray-100 hover:bg-gray-50 hover:border-gray-300 transition\"><Navigation size={20} /> Buka Maps</a>\n                        <button onClick={() => handleTaskAction(task.id, 'Done')} className=\"flex justify-center items-center gap-2 bg-blue-800 text-white py-3 rounded-xl font-bold hover:bg-blue-900 transition shadow-lg shadow-blue-200\"><CheckCircle size={20} /> Selesai Tugas</button>\n                    </div>\n                </div>\n            ))}\n        </div>\n    );\n\n    const renderTasks = () => {\n        // Filter tasks based on selected tab\n        const pendingTasks = tasks.filter(t => t.status === 'Pending' && (t.profiles?.full_name || '').toLowerCase().includes(searchQuery.toLowerCase()));\n        const processTasks = tasks.filter(t => t.status === 'Process' && t.driver_id === currentUser?.id);\n\n        return (\n            <div className=\"space-y-6 animate-in slide-in-from-right pb-20 md:pb-0\">\n                {/* Header with Search */}\n                <div className=\"bg-white p-4 rounded-2xl shadow-sm border border-gray-200 flex flex-col md:flex-row gap-4 items-center justify-between\">\n                    <h3 className=\"font-bold text-lg text-gray-800 ml-2\">Daftar Tugas</h3>\n                    <div className=\"relative w-full md:w-80\">\n                        <Search className=\"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400\" size={18} />\n                        <input\n                            type=\"text\"\n                            placeholder=\"Cari lokasi atau nama warga...\"\n                            className=\"w-full pl-10 pr-4 py-2.5 border border-gray-300 rounded-xl outline-none focus:ring-2 ring-green-500 transition\"\n                            value={searchQuery}\n                            onChange={(e) => setSearchQuery(e.target.value)}\n                        />\n                    </div>\n                </div>\n\n                {/* Tab Filters */}\n                <div className=\"flex gap-2 overflow-x-auto pb-2\">\n                    <button\n                        onClick={() => setTaskFilter('pending')}\n                        className={`flex items-center gap-2 px-5 py-2.5 rounded-xl font-bold text-sm transition whitespace-nowrap ${taskFilter === 'pending'\n                            ? 'bg-yellow-500 text-white shadow-lg shadow-yellow-200'\n                            : 'bg-white text-gray-600 border border-gray-200 hover:bg-gray-50'\n                            }`}\n                    >\n                        <Clock size={16} />\n                        Pending\n                        <span className={`ml-1 px-2 py-0.5 rounded-full text-xs ${taskFilter === 'pending' ? 'bg-yellow-600' : 'bg-gray-200 text-gray-600'\n                            }`}>\n                            {pendingTasks.length}\n                        </span>\n                    </button>\n                    <button\n                        onClick={() => setTaskFilter('process')}\n                        className={`flex items-center gap-2 px-5 py-2.5 rounded-xl font-bold text-sm transition whitespace-nowrap ${taskFilter === 'process'\n                            ? 'bg-blue-500 text-white shadow-lg shadow-blue-200'\n                            : 'bg-white text-gray-600 border border-gray-200 hover:bg-gray-50'\n                            }`}\n                    >\n                        <Truck size={16} />\n                        Proses\n                        <span className={`ml-1 px-2 py-0.5 rounded-full text-xs ${taskFilter === 'process' ? 'bg-blue-600' : 'bg-gray-200 text-gray-600'\n                            }`}>\n                            {processTasks.length}\n                        </span>\n                    </button>\n                </div>\n\n                {/* Pending Tasks */}\n                {taskFilter === 'pending' && (\n                    <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n                        {pendingTasks.map(task => (\n                            <div key={task.id} className=\"bg-white p-6 rounded-2xl shadow-sm border border-gray-200 hover:shadow-lg transition duration-300 group\">\n                                <div className=\"flex justify-between items-start mb-4\">\n                                    <div>\n                                        <h4 className=\"font-bold text-gray-800 text-lg group-hover:text-green-600 transition\">{task.profiles?.full_name}</h4>\n                                        <p className=\"text-xs text-gray-400 mt-1 flex items-center gap-1 bg-gray-50 px-2 py-1 rounded w-fit\"><Clock size={12} /> {new Date(task.created_at).toLocaleString()}</p>\n                                    </div>\n                                    <span className=\"bg-yellow-100 text-yellow-700 px-3 py-1 rounded-full text-xs font-bold border border-yellow-200 shadow-sm\">PENDING</span>\n                                </div>\n\n                                <div className=\"text-sm text-gray-600 space-y-3 mb-6 bg-gray-50 p-4 rounded-xl border border-gray-100\">\n                                    <div className=\"flex gap-3 items-start\">\n                                        <MapPin size={18} className=\"text-red-500 flex-shrink-0 mt-0.5\" />\n                                        <span className=\"line-clamp-2 font-medium\">{task.profiles?.address}</span>\n                                    </div>\n                                    <div className=\"flex gap-3 items-center\">\n                                        <Package size={18} className=\"text-blue-500 flex-shrink-0\" />\n                                        <span>{task.waste_types?.name} â€¢ <span className=\"font-bold text-gray-800\">{task.weight} Kg</span></span>\n                                    </div>\n                                    <div className=\"flex gap-3 items-center\">\n                                        <Clock size={18} className=\"text-orange-500 flex-shrink-0\" />\n                                        <span>Jadwal: {task.pickup_time}</span>\n                                    </div>\n                                </div>\n\n                                <button\n                                    onClick={() => handleTaskAction(task.id, 'Process')}\n                                    className=\"w-full bg-green-600 text-white py-3.5 rounded-xl font-bold hover:bg-green-700 transition flex items-center justify-center gap-2 shadow-md shadow-green-100\"\n                                >\n                                    <Truck size={20} /> Ambil Tugas Ini\n                                </button>\n                            </div>\n                        ))}\n\n                        {pendingTasks.length === 0 && (\n                            <div className=\"col-span-full py-16 text-center text-gray-400 bg-white border-2 border-dashed border-gray-200 rounded-2xl\">\n                                <div className=\"bg-gray-50 w-20 h-20 rounded-full flex items-center justify-center mx-auto mb-4\">\n                                    <Clock size={40} className=\"text-gray-300\" />\n                                </div>\n                                <p className=\"text-lg font-medium text-gray-600\">Tidak ada order pending saat ini.</p>\n                                <p className=\"text-sm text-gray-400\">Silakan tunggu notifikasi order baru.</p>\n                            </div>\n                        )}\n                    </div>\n                )}\n\n                {/* Process Tasks */}\n                {taskFilter === 'process' && (\n                    <div className=\"space-y-4\">\n                        {processTasks.map(task => (\n                            <div key={task.id} className=\"bg-white border border-blue-200 rounded-2xl p-6 shadow-lg shadow-blue-50 animate-in slide-in-from-bottom duration-500 relative overflow-hidden\">\n                                <div className=\"absolute top-0 left-0 w-2 h-full bg-blue-500\"></div>\n                                <div className=\"flex justify-between items-start mb-6 border-b border-gray-100 pb-4\">\n                                    <div>\n                                        <h3 className=\"font-bold text-xl text-gray-800 flex items-center gap-2\"><Truck className=\"text-blue-600\" /> Sedang Dijemput</h3>\n                                        <p className=\"text-sm text-gray-500 mt-1\">Order ID: #{String(task.id).slice(0, 8)}</p>\n                                    </div>\n                                    <span className=\"bg-blue-100 text-blue-700 px-4 py-1.5 rounded-full text-xs font-bold uppercase tracking-wide shadow-sm\">PROCESS</span>\n                                </div>\n\n                                <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6\">\n                                    <div className=\"space-y-4\">\n                                        <div className=\"flex items-start gap-4\">\n                                            <div className=\"bg-blue-50 p-2 rounded-lg text-blue-600\"><User size={20} /></div>\n                                            <div>\n                                                <p className=\"text-xs text-gray-500 font-bold uppercase\">Nama Warga</p>\n                                                <p className=\"text-gray-800 font-bold text-lg\">{task.profiles?.full_name}</p>\n                                            </div>\n                                        </div>\n                                        <div className=\"flex items-start gap-4\">\n                                            <div className=\"bg-red-50 p-2 rounded-lg text-red-600\"><MapPin size={20} /></div>\n                                            <div>\n                                                <p className=\"text-xs text-gray-500 font-bold uppercase\">Alamat</p>\n                                                <p className=\"text-gray-800 font-medium leading-relaxed\">{task.profiles?.address}</p>\n                                            </div>\n                                        </div>\n                                    </div>\n                                    <div className=\"space-y-4\">\n                                        <div className=\"flex items-start gap-4\">\n                                            <div className=\"bg-orange-50 p-2 rounded-lg text-orange-600\"><Package size={20} /></div>\n                                            <div>\n                                                <p className=\"text-xs text-gray-500 font-bold uppercase\">Detail Sampah</p>\n                                                <p className=\"text-gray-800 font-medium\">{task.waste_types?.name} â€¢ <span className=\"font-bold\">{task.weight} Kg</span></p>\n                                                <p className=\"text-sm text-green-600 font-bold mt-1\">Rp {task.total_price?.toLocaleString()}</p>\n                                            </div>\n                                        </div>\n                                        <div className=\"bg-yellow-50 p-3 rounded-xl border border-yellow-100 text-sm text-yellow-800 flex gap-2\">\n                                            <AlertCircle size={16} className=\"mt-0.5 flex-shrink-0\" />\n                                            <p><strong>Catatan:</strong> \"{task.notes || 'Tidak ada catatan'}\"</p>\n                                        </div>\n                                    </div>\n                                </div>\n\n                                <div className=\"grid grid-cols-1 md:grid-cols-2 gap-3 mb-4\">\n                                    <button onClick={() => contactUser('whatsapp', task.profiles?.phone, task.profiles?.full_name)} className=\"flex items-center justify-center gap-2 py-3 bg-green-500 text-white rounded-xl font-bold hover:bg-green-600 transition shadow-sm\"><MessageCircle size={20} /> Chat WA</button>\n                                    <button onClick={() => contactUser('call', task.profiles?.phone)} className=\"flex items-center justify-center gap-2 py-3 bg-blue-500 text-white rounded-xl font-bold hover:bg-blue-600 transition shadow-sm\"><Phone size={20} /> Telepon</button>\n                                </div>\n\n                                <div className=\"grid grid-cols-2 gap-3 pt-2 border-t border-gray-100\">\n                                    <a href={`https://www.google.com/maps/search/?api=1&query=${encodeURIComponent(task.profiles?.address)}`} target=\"_blank\" className=\"flex justify-center items-center gap-2 py-3 bg-white text-gray-700 font-bold rounded-xl border-2 border-gray-100 hover:bg-gray-50 hover:border-gray-300 transition\"><Navigation size={20} /> Buka Maps</a>\n                                    <button onClick={() => handleTaskAction(task.id, 'Done')} className=\"flex justify-center items-center gap-2 bg-blue-800 text-white py-3 rounded-xl font-bold hover:bg-blue-900 transition shadow-lg shadow-blue-200\"><CheckCircle size={20} /> Selesai Tugas</button>\n                                </div>\n                            </div>\n                        ))}\n\n                        {processTasks.length === 0 && (\n                            <div className=\"py-16 text-center text-gray-400 bg-white border-2 border-dashed border-gray-200 rounded-2xl\">\n                                <div className=\"bg-gray-50 w-20 h-20 rounded-full flex items-center justify-center mx-auto mb-4\">\n                                    <Truck size={40} className=\"text-gray-300\" />\n                                </div>\n                                <p className=\"text-lg font-medium text-gray-600\">Tidak ada tugas aktif saat ini.</p>\n                                <p className=\"text-sm text-gray-400\">Ambil tugas dari tab Pending untuk mulai bekerja.</p>\n                            </div>\n                        )}\n                    </div>\n                )}\n            </div>\n        );\n    };\n\n    const renderMap = () => (\n        <div className=\"h-[calc(100vh-140px)] bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden relative animate-in fade-in z-0\">\n            {/* OpenLayers Map Container */}\n            <div ref={mapElement} style={{ width: '100%', height: '100%' }} />\n\n            <button onClick={centerToMyLocation} className=\"absolute bottom-6 right-6 z-[400] bg-white p-3 rounded-full shadow-lg text-blue-600 hover:bg-blue-50 border border-gray-200 transition transform hover:scale-110\" title=\"Lokasi Saya\">\n                <Navigation size={24} />\n            </button>\n            <div className=\"absolute top-4 right-4 z-[400] bg-white/90 backdrop-blur px-4 py-2 rounded-lg shadow-md text-xs font-bold text-gray-700 border border-gray-200 flex items-center gap-2\">\n                <div className=\"w-2 h-2 bg-green-500 rounded-full animate-pulse\"></div>\n                {tasks.filter(t => t.status === 'Pending').length} Lokasi Penjemputan\n            </div>\n        </div>\n    );\n\n    const renderHistory = () => (\n        <div className=\"bg-white rounded-2xl shadow-sm border border-gray-200 animate-in slide-in-from-right overflow-hidden\">\n            <div className=\"p-6 border-b border-gray-100 bg-gray-50/50\">\n                <h3 className=\"font-bold text-lg text-gray-800 flex items-center gap-2\"><History className=\"text-gray-500\" /> Riwayat Selesai</h3>\n            </div>\n            <div className=\"divide-y divide-gray-100\">\n                {history.map(h => (\n                    <div key={h.id} className=\"p-6 flex flex-col md:flex-row justify-between items-start md:items-center gap-4 hover:bg-gray-50 transition duration-200\">\n                        <div className=\"flex-1\">\n                            <div className=\"flex items-center justify-between mb-2 md:mb-0 md:justify-start md:gap-4\">\n                                <p className=\"font-bold text-gray-800 text-lg\">{h.profiles?.full_name}</p>\n                                <span className=\"md:hidden bg-green-100 text-green-700 px-2 py-0.5 rounded text-xs font-bold\">Done</span>\n                            </div>\n                            <div className=\"flex items-center gap-3 text-sm text-gray-500 mt-1\">\n                                <span className=\"flex items-center gap-1 bg-white border px-2 py-0.5 rounded\"><Calendar size={12} /> {new Date(h.updated_at).toLocaleDateString()}</span>\n                                <span className=\"flex items-center gap-1 bg-white border px-2 py-0.5 rounded\"><Clock size={12} /> {new Date(h.updated_at).toLocaleTimeString()}</span>\n                            </div>\n                            <p className=\"text-xs text-gray-400 mt-2 flex items-center gap-1\"><MapPin size={12} /> {h.profiles?.address}</p>\n                        </div>\n                        <div className=\"text-right flex flex-col items-end min-w-[120px]\">\n                            <span className=\"hidden md:flex bg-green-100 text-green-700 px-3 py-1 rounded-full text-xs font-bold uppercase tracking-wide border border-green-200 items-center gap-1 mb-2\">\n                                <CheckCircle2 size={12} /> Selesai\n                            </span>\n                            <p className=\"text-xl font-bold text-green-700\">Rp {h.total_price?.toLocaleString()}</p>\n                            <p className=\"text-xs text-gray-400\">{h.waste_types?.name} ({h.weight} Kg)</p>\n                        </div>\n                    </div>\n                ))}\n                {history.length === 0 && (\n                    <div className=\"p-16 text-center text-gray-400 flex flex-col items-center justify-center\">\n                        <div className=\"w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center mb-4\">\n                            <History size={32} className=\"text-gray-300\" />\n                        </div>\n                        <p className=\"font-medium text-gray-600\">Belum ada riwayat tugas selesai.</p>\n                        <p className=\"text-sm\">Riwayat akan muncul setelah Anda menyelesaikan tugas.</p>\n                    </div>\n                )}\n            </div>\n        </div>\n    );\n\n    // --- EARNINGS PAGE RENDERER ---\n    const renderEarnings = () => {\n        const earnings = calculateDriverEarnings(history.map(h => ({\n            ...h,\n            created_at: h.updated_at || new Date().toISOString(),\n            total_price: h.total_price || 0,\n            status: 'done'\n        })));\n\n        const handleExport = async () => {\n            if (!history.length) {\n                Swal.fire('Info', 'Tidak ada data untuk diexport', 'info');\n                return;\n            }\n\n            const exportData = history.map(t => ({\n                'Tanggal': new Date(t.updated_at).toLocaleDateString('id-ID'),\n                'Pelanggan': t.profiles?.full_name || '-',\n                'Jenis Sampah': t.waste_types?.name || '-',\n                'Berat (kg)': t.weight,\n                'Total Transaksi': formatRupiah(t.total_price || 0),\n                'Komisi Driver (15%)': formatRupiah((t.total_price || 0) * 0.15),\n                'Status': t.status\n            }));\n\n            const success = await exportToExcel(exportData, 'driver_earnings');\n            if (success) {\n                Swal.fire('Berhasil!', 'Laporan berhasil diexport ke CSV', 'success');\n            }\n        };\n\n        return (\n            <div className=\"space-y-6 animate-in slide-in-from-right pb-20 md:pb-0\">\n                {/* Header */}\n                <div className=\"flex flex-col md:flex-row justify-between items-start md:items-center gap-4\">\n                    <div>\n                        <h2 className=\"text-2xl md:text-3xl font-bold text-gray-800\">Pendapatan Driver</h2>\n                        <p className=\"text-gray-500 mt-1\">Tracking komisi dan performa Anda</p>\n                    </div>\n                    <button\n                        onClick={handleExport}\n                        className=\"bg-green-600 text-white px-4 py-2 rounded-lg font-bold hover:bg-green-700 flex items-center gap-2 transition\"\n                    >\n                        <Download size={18} /> Export Laporan\n                    </button>\n                </div>\n\n                {/* Earning Cards */}\n                <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 md:gap-6\">\n                    {/* Today */}\n                    <div className=\"bg-gradient-to-br from-green-500 to-emerald-600 p-6 rounded-xl text-white shadow-lg transform hover:scale-105 transition\">\n                        <div className=\"flex items-center justify-between mb-2\">\n                            <p className=\"opacity-90 font-medium\">Hari Ini</p>\n                            <Calendar size={20} className=\"opacity-80\" />\n                        </div>\n                        <h3 className=\"text-2xl md:text-3xl font-bold mb-1\">{formatRupiah(earnings.today)}</h3>\n                        <p className=\"text-sm opacity-80\">Komisi hari ini</p>\n                    </div>\n\n                    {/* This Week */}\n                    <div className=\"bg-white p-6 rounded-xl shadow-sm border border-gray-200 hover:shadow-md transition\">\n                        <div className=\"flex items-center justify-between mb-2\">\n                            <p className=\"text-gray-500 font-medium\">Minggu Ini</p>\n                            <TrendingUp size={20} className=\"text-blue-500\" />\n                        </div>\n                        <h3 className=\"text-2xl md:text-3xl font-bold text-gray-800 mb-1\">{formatRupiah(earnings.thisWeek)}</h3>\n                        <p className=\"text-sm text-gray-500\">7 hari terakhir</p>\n                    </div>\n\n                    {/* This Month */}\n                    <div className=\"bg-white p-6 rounded-xl shadow-sm border border-gray-200 hover:shadow-md transition\">\n                        <div className=\"flex items-center justify-between mb-2\">\n                            <p className=\"text-gray-500 font-medium\">Bulan Ini</p>\n                            <Wallet size={20} className=\"text-purple-500\" />\n                        </div>\n                        <h3 className=\"text-2xl md:text-3xl font-bold text-gray-800 mb-1\">{formatRupiah(earnings.thisMonth)}</h3>\n                        <p className=\"text-sm text-gray-500\">Periode bulan ini</p>\n                    </div>\n\n                    {/* Total All Time */}\n                    <div className=\"bg-gradient-to-br from-amber-400 to-orange-500 p-6 rounded-xl text-white shadow-lg transform hover:scale-105 transition\">\n                        <div className=\"flex items-center justify-between mb-2\">\n                            <p className=\"opacity-90 font-medium\">Total Keseluruhan</p>\n                            <Trophy size={20} className=\"opacity-80\" />\n                        </div>\n                        <h3 className=\"text-2xl md:text-3xl font-bold mb-1\">{formatRupiah(earnings.total)}</h3>\n                        <p className=\"text-sm opacity-80\">{earnings.transactionCount} transaksi</p>\n                    </div>\n                </div>\n\n                {/* Performance Stats */}\n                <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4 md:gap-6\">\n                    <div className=\"bg-white p-5 rounded-xl border border-gray-200\">\n                        <div className=\"flex items-center gap-3\">\n                            <div className=\"bg-blue-100 p-3 rounded-lg\">\n                                <Package size={24} className=\"text-blue-600\" />\n                            </div>\n                            <div>\n                                <p className=\"text-sm text-gray-500\">Total Pickup</p>\n                                <p className=\"text-2xl font-bold text-gray-800\">{earnings.transactionCount}</p>\n                            </div>\n                        </div>\n                    </div>\n\n                    <div className=\"bg-white p-5 rounded-xl border border-gray-200\">\n                        <div className=\"flex items-center gap-3\">\n                            <div className=\"bg-green-100 p-3 rounded-lg\">\n                                <DollarSign size={24} className=\"text-green-600\" />\n                            </div>\n                            <div>\n                                <p className=\"text-sm text-gray-500\">Rata-rata Komisi</p>\n                                <p className=\"text-2xl font-bold text-gray-800\">\n                                    {earnings.transactionCount > 0 ? formatRupiah(earnings.total / earnings.transactionCount) : formatRupiah(0)}\n                                </p>\n                            </div>\n                        </div>\n                    </div>\n\n                    <div className=\"bg-white p-5 rounded-xl border border-gray-200\">\n                        <div className=\"flex items-center gap-3\">\n                            <div className=\"bg-purple-100 p-3 rounded-lg\">\n                                <Clock size={24} className=\"text-purple-600\" />\n                            </div>\n                            <div>\n                                <p className=\"text-sm text-gray-500\">Pickup Hari Ini</p>\n                                <p className=\"text-2xl font-bold text-gray-800\">\n                                    {history.filter(t => {\n                                        const today = new Date().toDateString();\n                                        return new Date(t.updated_at).toDateString() === today;\n                                    }).length}\n                                </p>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n\n                {/* Transaction History */}\n                <div className=\"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden\">\n                    <div className=\"p-4 md:p-6 border-b border-gray-100 bg-gray-50/50\">\n                        <h3 className=\"text-xl font-bold text-gray-800 flex items-center gap-2\">\n                            <TrendingUp size={22} /> Riwayat Transaksi & Komisi\n                        </h3>\n                    </div>\n\n                    {history.length === 0 ? (\n                        <div className=\"text-center py-12 text-gray-400\">\n                            <Package size={48} className=\"mx-auto mb-3 opacity-30\" />\n                            <p>Belum ada transaksi selesai</p>\n                        </div>\n                    ) : (\n                        <div className=\"overflow-x-auto\">\n                            <table className=\"w-full\">\n                                <thead className=\"bg-gray-50 border-b border-gray-200\">\n                                    <tr>\n                                        <th className=\"px-4 py-3 text-left text-xs font-bold text-gray-600 uppercase\">Tanggal</th>\n                                        <th className=\"px-4 py-3 text-left text-xs font-bold text-gray-600 uppercase\">Pelanggan</th>\n                                        <th className=\"px-4 py-3 text-left text-xs font-bold text-gray-600 uppercase\">Jenis</th>\n                                        <th className=\"px-4 py-3 text-left text-xs font-bold text-gray-600 uppercase\">Berat</th>\n                                        <th className=\"px-4 py-3 text-right text-xs font-bold text-gray-600 uppercase\">Total</th>\n                                        <th className=\"px-4 py-3 text-right text-xs font-bold text-gray-600 uppercase\">Komisi (15%)</th>\n                                    </tr>\n                                </thead>\n                                <tbody className=\"divide-y divide-gray-200\">\n                                    {history.slice(0, 20).map((t) => (\n                                        <tr key={t.id} className=\"hover:bg-gray-50 transition\">\n                                            <td className=\"px-4 py-3 text-sm text-gray-700\">\n                                                {new Date(t.updated_at).toLocaleDateString('id-ID')}\n                                            </td>\n                                            <td className=\"px-4 py-3 text-sm font-medium text-gray-800\">\n                                                {t.profiles?.full_name || 'N/A'}\n                                            </td>\n                                            <td className=\"px-4 py-3 text-sm text-gray-700\">\n                                                {t.waste_types?.name || 'N/A'}\n                                            </td>\n                                            <td className=\"px-4 py-3 text-sm text-gray-700\">\n                                                {t.weight} kg\n                                            </td>\n                                            <td className=\"px-4 py-3 text-sm text-right font-medium text-gray-800\">\n                                                {formatRupiah(t.total_price || 0)}\n                                            </td>\n                                            <td className=\"px-4 py-3 text-sm text-right font-bold text-green-600\">\n                                                {formatRupiah((t.total_price || 0) * 0.15)}\n                                            </td>\n                                        </tr>\n                                    ))}\n                                </tbody>\n                            </table>\n                        </div>\n                    )}\n                </div>\n\n                {/* Info Note */}\n                <div className=\"bg-blue-50 border border-blue-200 rounded-lg p-4\">\n                    <p className=\"text-sm text-blue-800\">\n                        <span className=\"font-bold\">â„¹ï¸ Catatan:</span> Komisi driver adalah 15% dari setiap transaksi yang selesai.\n                        Pembayaran komisi dilakukan setiap akhir bulan.\n                    </p>\n                </div>\n            </div>\n        );\n    };\n\n    // --- PROFILE PAGE RENDERER ---\n    const renderProfile = () => (\n        <div className=\"space-y-6 animate-in slide-in-from-right pb-20 md:pb-0\">\n            <div className=\"bg-white rounded-2xl shadow-sm border border-gray-200 overflow-hidden\">\n                <div className=\"bg-gradient-to-r from-green-600 to-emerald-600 p-8 text-white text-center\">\n                    <div className=\"w-24 h-24 bg-white/20 rounded-full flex items-center justify-center mx-auto mb-4 text-4xl font-bold backdrop-blur\">\n                        {currentUser?.full_name?.charAt(0) || 'D'}\n                    </div>\n                    <h2 className=\"text-2xl font-bold\">{currentUser?.full_name || 'Driver'}</h2>\n                    <p className=\"opacity-80 mt-1\">{currentUser?.email}</p>\n                    <span className=\"inline-block mt-3 bg-white/20 px-4 py-1 rounded-full text-sm font-bold backdrop-blur\">\n                        ðŸš› Driver Aktif\n                    </span>\n                </div>\n\n                <div className=\"p-6 space-y-6\">\n                    <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n                        <div className=\"bg-gray-50 p-4 rounded-xl border border-gray-100\">\n                            <p className=\"text-xs text-gray-500 font-bold uppercase mb-1\">Nama Lengkap</p>\n                            <p className=\"text-gray-800 font-medium\">{currentUser?.full_name || '-'}</p>\n                        </div>\n                        <div className=\"bg-gray-50 p-4 rounded-xl border border-gray-100\">\n                            <p className=\"text-xs text-gray-500 font-bold uppercase mb-1\">Email</p>\n                            <p className=\"text-gray-800 font-medium\">{currentUser?.email || '-'}</p>\n                        </div>\n                        <div className=\"bg-gray-50 p-4 rounded-xl border border-gray-100\">\n                            <p className=\"text-xs text-gray-500 font-bold uppercase mb-1\">No. Telepon</p>\n                            <p className=\"text-gray-800 font-medium\">{driverProfile?.phone || currentUser?.phone || '-'}</p>\n                        </div>\n                        <div className=\"bg-gray-50 p-4 rounded-xl border border-gray-100\">\n                            <p className=\"text-xs text-gray-500 font-bold uppercase mb-1\">Kendaraan</p>\n                            <p className=\"text-gray-800 font-medium\">{driverProfile?.vehicle || 'Pickup Truck'}</p>\n                        </div>\n                    </div>\n\n                    <div className=\"grid grid-cols-2 md:grid-cols-4 gap-4 pt-4 border-t border-gray-100\">\n                        <div className=\"text-center p-4 bg-green-50 rounded-xl\">\n                            <p className=\"text-2xl font-bold text-green-700\">{history.length}</p>\n                            <p className=\"text-xs text-green-600 font-medium\">Total Selesai</p>\n                        </div>\n                        <div className=\"text-center p-4 bg-blue-50 rounded-xl\">\n                            <p className=\"text-2xl font-bold text-blue-700\">{tasks.filter(t => t.status === 'Process' && t.driver_id === currentUser?.id).length}</p>\n                            <p className=\"text-xs text-blue-600 font-medium\">Tugas Aktif</p>\n                        </div>\n                        <div className=\"text-center p-4 bg-purple-50 rounded-xl\">\n                            <p className=\"text-2xl font-bold text-purple-700\">{formatRupiah(totalIncome)}</p>\n                            <p className=\"text-xs text-purple-600 font-medium\">Total Komisi</p>\n                        </div>\n                        <div className=\"text-center p-4 bg-orange-50 rounded-xl\">\n                            <p className=\"text-2xl font-bold text-orange-700\">â­ 4.8</p>\n                            <p className=\"text-xs text-orange-600 font-medium\">Rating</p>\n                        </div>\n                    </div>\n                </div>\n            </div>\n\n            <button\n                onClick={handleLogout}\n                className=\"w-full bg-red-500 text-white py-4 rounded-xl font-bold hover:bg-red-600 transition flex items-center justify-center gap-2\"\n            >\n                <LogOut size={20} /> Keluar dari Akun\n            </button>\n        </div>\n    );\n\n    const renderContent = () => {\n        switch (activePage) {\n            case 'dashboard': return renderDashboard();\n            case 'tasks': return renderTasks();\n            case 'map': return renderMap();\n            case 'history': return renderHistory();\n            case 'earnings': return renderEarnings();\n            case 'profile': return renderProfile();\n            default: return <div>Halaman tidak ditemukan</div>;\n        }\n    };\n\n    if (loading) return <div className=\"min-h-screen flex justify-center items-center text-gray-800 font-bold\"><Loader2 className=\"animate-spin mr-2\" /> Memuat...</div>;\n\n    return (\n        <div className=\"min-h-screen bg-slate-50 flex font-sans text-gray-800 overflow-x-hidden\">\n            {isMobileMenuOpen && <div className=\"fixed inset-0 bg-black/50 z-40 md:hidden\" onClick={() => setIsMobileMenuOpen(false)} />}\n            <aside className={`fixed top-0 left-0 z-50 h-full bg-white border-r border-gray-200 transition-transform duration-300 md:translate-x-0 ${isMobileMenuOpen ? 'translate-x-0 w-64' : '-translate-x-full w-64'} ${isSidebarOpen ? 'md:w-64' : 'md:w-20'} flex flex-col shadow-[4px_0_24px_rgba(0,0,0,0.02)]`}>\n                <div className=\"h-20 flex items-center justify-between px-5 border-b border-gray-100\">\n\n                    {/* LOGO & BADGE DRIVER (Tampil saat Sidebar TERBUKA) */}\n                    <div className={`flex items-center gap-3 ${!isSidebarOpen && 'hidden md:hidden'}`}>\n                        <img src=\"/images/logo.png\" alt=\"Logo\" className=\"h-auto w-auto object-contain\" />\n                        <span className=\"font-mono text-[10px] font-bold bg-green-600 text-white px-2 py-1 rounded tracking-widest uppercase shadow-sm\">\n                            Driver\n                        </span>\n                    </div>\n\n                    {/* TOMBOL TOGGLE */}\n                    <button onClick={() => setIsSidebarOpen(!isSidebarOpen)} className=\"hidden md:block p-2 hover:bg-gray-100 rounded-xl text-gray-500 transition\">\n                        {isSidebarOpen ? <ChevronLeft /> : <Menu />}\n                    </button>\n                    <button onClick={() => setIsMobileMenuOpen(false)} className=\"md:hidden p-2 text-gray-500\"><X /></button>\n                </div>\n\n                {/* MENU NAVIGASI */}\n                <nav className=\"flex-1 p-4 space-y-2 overflow-y-auto\">\n                    {SIDEBAR_MENUS.map(m => (\n                        <button key={m.id} onClick={() => navigateTo(m.id)} className={`w-full flex items-center gap-3 p-3.5 rounded-xl transition-all duration-200 font-medium ${activePage === m.id ? 'bg-green-50 text-green-700 shadow-sm ring-1 ring-green-100' : 'text-gray-500 hover:bg-gray-50 hover:text-green-600'} ${!isSidebarOpen && 'justify-center px-0'}`}>\n                            <m.icon size={22} strokeWidth={activePage === m.id ? 2.5 : 2} />\n                            <span className={`${!isSidebarOpen ? 'md:hidden' : 'block'}`}>{m.label}</span>\n                        </button>\n                    ))}\n                </nav>\n            </aside>\n            <main className={`flex-1 p-4 md:p-8 transition-all duration-300 ${isSidebarOpen ? 'md:ml-64' : 'md:ml-20'}`}>\n                <div className=\"md:hidden flex justify-between items-center mb-6 sticky top-0 bg-slate-50/90 backdrop-blur-md z-30 py-3 px-1 border-b border-slate-200\">\n                    <button onClick={() => setIsMobileMenuOpen(true)} className=\"p-2 -ml-2\"><Menu /></button>\n                    <span className=\"font-bold text-lg capitalize text-gray-800\">{activePage}</span>\n                    <button onClick={() => navigateTo('profile')} className=\"w-9 h-9 bg-green-100 rounded-full flex items-center justify-center font-bold text-green-700 border border-green-200\">{currentUser?.full_name?.charAt(0)}</button>\n                </div>\n                <div className=\"max-w-6xl mx-auto\">\n                    <header className=\"hidden md:flex justify-between items-center mb-8\">\n                        <div>\n                            <h2 className=\"text-3xl font-bold capitalize text-gray-800 tracking-tight\">\n                                {activePage === 'dashboard' ? 'Ringkasan' :\n                                    activePage === 'history' ? 'Riwayat' :\n                                        activePage === 'tasks' ? 'Tugas Jemput' :\n                                            activePage === 'map' ? 'Peta Lokasi' :\n                                                'Profil'}\n                            </h2>\n                            <p className=\"text-gray-500 mt-1\">Dashboard Operasional Driver</p>\n                        </div>\n                        <div className=\"flex gap-4 items-center\">\n                            <div className=\"bg-white px-4 py-2 rounded-full border border-gray-200 shadow-sm text-sm flex gap-2 items-center text-gray-600 font-medium\">\n                                <Clock size={16} className=\"text-green-600\" /> {currentTime}\n                            </div>\n                            <button onClick={() => navigateTo('profile')} className=\"flex gap-3 items-center bg-white p-1.5 pr-4 rounded-full border border-gray-200 shadow-sm hover:bg-gray-50 transition cursor-pointer group\">\n                                <div className=\"w-9 h-9 bg-green-100 rounded-full flex items-center justify-center font-bold text-green-700 group-hover:bg-green-200 transition\">\n                                    {currentUser?.full_name?.charAt(0)}\n                                </div>\n                                <div className=\"text-left\">\n                                    <p className=\"text-sm font-bold text-gray-700 line-clamp-1 group-hover:text-green-700\">{currentUser?.full_name}</p>\n                                    <p className=\"text-[10px] text-gray-400 font-bold uppercase tracking-wider\">{driverProfile?.status || 'Driver'}</p>\n                                </div>\n                            </button>\n                        </div>\n                    </header>\n                    {renderContent()}\n                </div>\n            </main>\n        </div>\n    );\n}"],"names":["useState","useEffect","useRef","useRouter","createClient","LayoutDashboard","Truck","MapPin","CheckCircle","History","User","LogOut","Menu","X","ChevronLeft","Search","Navigation","Clock","Calendar","CheckCircle2","AlertCircle","Package","Loader2","Phone","MessageCircle","Wallet","DollarSign","TrendingUp","Download","Trophy","Swal","calculateDriverEarnings","formatRupiah","exportToExcel","Map","View","TileLayer","OSM","VectorLayer","VectorSource","Feature","Point","LineString","fromLonLat","Icon","Style","Stroke","Circle","CircleStyle","Fill","supabase","process","env","NEXT_PUBLIC_SUPABASE_URL","NEXT_PUBLIC_SUPABASE_ANON_KEY","CENTER_COORDS","DriverDashboard","router","mounted","setMounted","loading","setLoading","currentTime","setCurrentTime","myLocation","setMyLocation","isGpsActive","setIsGpsActive","isSidebarOpen","setIsSidebarOpen","isMobileMenuOpen","setIsMobileMenuOpen","activePage","setActivePage","currentUser","setCurrentUser","tasks","setTasks","history","setHistory","driverProfile","setDriverProfile","totalIncome","setTotalIncome","searchQuery","setSearchQuery","taskFilter","setTaskFilter","mapElement","mapRef","vectorSourceRef","SIDEBAR_MENUS","id","label","icon","timer","setInterval","Date","toLocaleTimeString","hour","minute","fetchData","startGpsTracking","channel","on","event","schema","table","subscribe","handleResize","window","innerWidth","addEventListener","clearInterval","removeEventListener","removeChannel","navigator","geolocation","watchPosition","position","latitude","longitude","coords","newLoc","err","console","warn","message","enableHighAccuracy","maximumAge","timeout","centerToMyLocation","current","getView","animate","center","zoom","duration","fire","vectorLayer","source","zIndex","initialMap","target","layers","view","controls","updateMapMarkers","setTarget","clear","accuracyFeature","geometry","setStyle","image","radius","fill","color","stroke","width","addFeature","driverFeature","src","scale","anchor","filter","t","status","driver_id","forEach","lng","lat","taskLoc","routeFeature","lineDash","data","user","auth","getUser","push","profile","from","select","eq","single","dProfile","activeTasks","neq","order","ascending","filteredTasks","tasksWithCoords","map","Math","random","historyData","income","reduce","acc","curr","total_price","error","navigateTo","pageId","handleLogout","signOut","contactUser","type","phoneNumber","name","formatted","replace","startsWith","slice","msg","open","encodeURIComponent","handleTaskAction","taskId","action","myActiveTask","find","result","title","showCancelButton","confirmButtonText","confirmButtonColor","isConfirmed","updatePayload","update","handleDriverStatusToggle","newStatus","handleUpdateProfile","e","preventDefault","full_name","address","vehicle","renderDashboard","split","length","toLocaleString","task","String","profiles","waste_types","weight","notes","phone","renderTasks","pendingTasks","toLowerCase","includes","processTasks","value","created_at","pickup_time","renderMap","height","renderHistory","h","updated_at","toLocaleDateString","renderEarnings","earnings","toISOString","handleExport","exportData","success","today","thisWeek","thisMonth","total","transactionCount","toDateString","renderProfile","charAt","email","renderContent","m"],"mappings":"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","ignoreList":[]}}]
}