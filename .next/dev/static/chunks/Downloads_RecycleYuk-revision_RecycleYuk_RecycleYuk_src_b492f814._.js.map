{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["C:/Users/Administrator/Downloads/RecycleYuk-revision/RecycleYuk/RecycleYuk/src/components/OpenLayersMap.js"],"sourcesContent":["'use client';\r\n\r\nimport { useEffect, useRef } from 'react';\r\nimport Map from 'ol/Map';\r\nimport View from 'ol/View';\r\nimport TileLayer from 'ol/layer/Tile';\r\nimport OSM from 'ol/source/OSM';\r\nimport { fromLonLat } from 'ol/proj';\r\nimport VectorLayer from 'ol/layer/Vector';\r\nimport VectorSource from 'ol/source/Vector';\r\nimport Feature from 'ol/Feature';\r\nimport Point from 'ol/geom/Point';\r\nimport { Style, Circle, Fill, Stroke, Text } from 'ol/style';\r\nimport Overlay from 'ol/Overlay';\r\nimport 'ol/ol.css';\r\n\r\nexport default function OpenLayersMap({\r\n    center = [107.6191, -6.9175], // [lng, lat] - Bandung\r\n    zoom = 13,\r\n    markers = [],\r\n    height = '500px',\r\n    onMarkerClick = null\r\n}) {\r\n    const mapRef = useRef(null);\r\n    const mapInstanceRef = useRef(null);\r\n    const popupRef = useRef(null);\r\n    const popupCloserRef = useRef(null);\r\n    const overlayRef = useRef(null);\r\n    const vectorLayerRef = useRef(null);\r\n    const onMarkerClickRef = useRef(onMarkerClick);\r\n\r\n    // Update click handler ref when it changes\r\n    useEffect(() => {\r\n        onMarkerClickRef.current = onMarkerClick;\r\n    }, [onMarkerClick]);\r\n\r\n    // Initialize map ONCE\r\n    useEffect(() => {\r\n        if (!mapRef.current || mapInstanceRef.current) return;\r\n\r\n        // Create popup overlay\r\n        const overlay = new Overlay({\r\n            element: popupRef.current,\r\n            autoPan: {\r\n                animation: { duration: 250 }\r\n            }\r\n        });\r\n        overlayRef.current = overlay;\r\n\r\n        // Initialize map\r\n        const map = new Map({\r\n            target: mapRef.current,\r\n            layers: [\r\n                new TileLayer({\r\n                    source: new OSM()\r\n                })\r\n            ],\r\n            overlays: [overlay],\r\n            view: new View({\r\n                center: fromLonLat(center),\r\n                zoom: zoom\r\n            })\r\n        });\r\n\r\n        mapInstanceRef.current = map;\r\n\r\n        // Popup closer handler\r\n        if (popupCloserRef.current) {\r\n            popupCloserRef.current.onclick = () => {\r\n                overlay.setPosition(undefined);\r\n                popupCloserRef.current.blur();\r\n                return false;\r\n            };\r\n        }\r\n\r\n        return () => {\r\n            map.setTarget(undefined);\r\n            mapInstanceRef.current = null;\r\n        };\r\n    }, []); // Only run once!\r\n\r\n    // Update markers separately\r\n    useEffect(() => {\r\n        const map = mapInstanceRef.current;\r\n        if (!map) return;\r\n\r\n        // Remove old vector layer if exists\r\n        if (vectorLayerRef.current) {\r\n            map.removeLayer(vectorLayerRef.current);\r\n        }\r\n\r\n        // Add new markers\r\n        if (markers.length > 0) {\r\n            const features = markers.map(marker => {\r\n                const feature = new Feature({\r\n                    geometry: new Point(fromLonLat([marker.lng, marker.lat])),\r\n                    data: marker\r\n                });\r\n\r\n                // Custom marker style\r\n                feature.setStyle(new Style({\r\n                    image: new Circle({\r\n                        radius: 10,\r\n                        fill: new Fill({ color: '#10b981' }),\r\n                        stroke: new Stroke({ color: '#fff', width: 3 })\r\n                    }),\r\n                    text: new Text({\r\n                        text: marker.label || '',\r\n                        offsetY: -25,\r\n                        font: '14px sans-serif',\r\n                        fill: new Fill({ color: '#1f2937' }),\r\n                        stroke: new Stroke({ color: '#fff', width: 3 }),\r\n                        backgroundFill: new Fill({ color: 'rgba(255, 255, 255, 0.9)' }),\r\n                        padding: [2, 4, 2, 4]\r\n                    })\r\n                }));\r\n\r\n                return feature;\r\n            });\r\n\r\n            const vectorSource = new VectorSource({ features });\r\n            const vectorLayer = new VectorLayer({ source: vectorSource });\r\n            map.addLayer(vectorLayer);\r\n            vectorLayerRef.current = vectorLayer;\r\n        }\r\n    }, [markers]);\r\n\r\n    // Handle map clicks (set once, use ref for callback)\r\n    useEffect(() => {\r\n        const map = mapInstanceRef.current;\r\n        const overlay = overlayRef.current;\r\n        if (!map || !overlay) return;\r\n\r\n        const handleClick = (evt) => {\r\n            const feature = map.forEachFeatureAtPixel(evt.pixel, (f) => f);\r\n\r\n            if (feature) {\r\n                const coords = feature.getGeometry().getCoordinates();\r\n                const data = feature.get('data');\r\n\r\n                // Call custom click handler if provided\r\n                if (onMarkerClickRef.current) {\r\n                    onMarkerClickRef.current(data);\r\n                }\r\n\r\n                // Show popup if popup content exists\r\n                if (data.popup && popupRef.current) {\r\n                    const popupContent = popupRef.current.querySelector('.popup-content');\r\n                    if (popupContent) {\r\n                        popupContent.innerHTML = data.popup;\r\n                    }\r\n                    overlay.setPosition(coords);\r\n                }\r\n            } else {\r\n                overlay.setPosition(undefined);\r\n            }\r\n        };\r\n\r\n        const handlePointerMove = (evt) => {\r\n            const pixel = map.getEventPixel(evt.originalEvent);\r\n            const hit = map.hasFeatureAtPixel(pixel);\r\n            map.getTarget().style.cursor = hit ? 'pointer' : '';\r\n        };\r\n\r\n        map.on('click', handleClick);\r\n        map.on('pointermove', handlePointerMove);\r\n\r\n        return () => {\r\n            map.un('click', handleClick);\r\n            map.un('pointermove', handlePointerMove);\r\n        };\r\n    }, []); // Only set up listeners once!\r\n\r\n    return (\r\n        <div className=\"relative w-full\" style={{ height }}>\r\n            <div ref={mapRef} className=\"w-full h-full rounded-xl overflow-hidden border border-gray-200\" />\r\n\r\n            {/* Popup overlay */}\r\n            <div\r\n                ref={popupRef}\r\n                className=\"ol-popup bg-white rounded-lg shadow-lg border border-gray-200 min-w-[200px]\"\r\n                style={{ display: 'none' }}\r\n            >\r\n                <button\r\n                    ref={popupCloserRef}\r\n                    className=\"ol-popup-closer absolute top-2 right-2 text-gray-400 hover:text-gray-600 cursor-pointer bg-transparent border-none text-xl leading-none\"\r\n                    aria-label=\"Close\"\r\n                >\r\n                    Ã—\r\n                </button>\r\n                <div className=\"popup-content p-4 pt-6\"></div>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n"],"names":["c","_c","useEffect","useRef","Map","View","TileLayer","OSM","fromLonLat","VectorLayer","VectorSource","Feature","Point","Style","Circle","Fill","Stroke","Text","Overlay","OpenLayersMap","t0","$","$i","Symbol","for","center","t1","zoom","t2","markers","t3","height","t4","onMarkerClick","t5","t6","undefined","t7","mapRef","mapInstanceRef","popupRef","popupCloserRef","overlayRef","vectorLayerRef","onMarkerClickRef","t8","t9","OpenLayersMap[useEffect()]","current","t10","overlay","element","autoPan","animation","duration","map","target","layers","source","overlays","view","onclick","setPosition","blur","setTarget","t11","t12","t13","map_0","removeLayer","length","features","_OpenLayersMapUseEffectMarkersMap","vectorSource","vectorLayer","addLayer","t14","t15","map_1","overlay_0","handleClick","evt","feature_0","forEachFeatureAtPixel","pixel","_OpenLayersMapUseEffectHandleClickMap_1ForEachFeatureAtPixel","feature","coords","getGeometry","getCoordinates","data","get","popup","popupContent","querySelector","innerHTML","handlePointerMove","evt_0","getEventPixel","originalEvent","hit","hasFeatureAtPixel","getTarget","style","cursor","on","un","t16","t17","t18","display","t19","f","marker","geometry","lng","lat","setStyle","image","radius","fill","color","stroke","width","text","label","offsetY","font","backgroundFill","padding"],"mappings":"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","ignoreList":[]}},
    {"offset": {"line": 390, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Administrator/Downloads/RecycleYuk-revision/RecycleYuk/RecycleYuk/src/utils/enhancedHelpers.js"],"sourcesContent":["// Helper functions untuk enhance existing features di RecycleYuk\r\n\r\nimport { createClient } from '@supabase/supabase-js';\r\n\r\nconst supabase = createClient(process.env.NEXT_PUBLIC_SUPABASE_URL, process.env.NEXT_PUBLIC_SUPABASE_ANON_KEY);\r\n\r\n// Enhanced Reward Points Calculation\r\nexport const calculateRewardPoints = (totalWeight) => {\r\n    const basePoints = Math.floor(totalWeight * 10); // 10 poin per kg\r\n\r\n    // Bonus untuk milestone\r\n    let bonus = 0;\r\n    if (totalWeight >= 100) bonus += 500; // Bonus 500 poin untuk 100kg+\r\n    if (totalWeight >= 50) bonus += 200;  // Bonus 200 poin untuk 50kg+\r\n    if (totalWeight >= 20) bonus += 50;   // Bonus 50 poin untuk 20kg+\r\n\r\n    return basePoints + bonus;\r\n};\r\n\r\n// Get Reward Badge based on points\r\nexport const getRewardBadge = (points) => {\r\n    if (points >= 5000) return { level: 'Diamond', color: 'bg-purple-500', icon: 'ðŸ’Ž' };\r\n    if (points >= 2000) return { level: 'Gold', color: 'bg-yellow-500', icon: 'ðŸ¥‡' };\r\n    if (points >= 1000) return { level: 'Silver', color: 'bg-gray-400', icon: 'ðŸ¥ˆ' };\r\n    if (points >= 500) return { level: 'Bronze', color: 'bg-orange-600', icon: 'ðŸ¥‰' };\r\n    return { level: 'Starter', color: 'bg-green-500', icon: 'ðŸŒ±' };\r\n};\r\n\r\n// Format Rupiah Currency\r\nexport const formatRupiah = (amount) => {\r\n    return new Intl.NumberFormat('id-ID', {\r\n        style: 'currency',\r\n        currency: 'IDR',\r\n        minimumFractionDigits: 0,\r\n        maximumFractionDigits: 0\r\n    }).format(amount);\r\n};\r\n\r\n// Calculate Driver Earnings\r\nexport const calculateDriverEarnings = (transactions) => {\r\n    const completedTransactions = transactions.filter(t => t.status === 'done');\r\n\r\n    const earnings = {\r\n        today: 0,\r\n        thisWeek: 0,\r\n        thisMonth: 0,\r\n        total: 0,\r\n        transactionCount: completedTransactions.length\r\n    };\r\n\r\n    const now = new Date();\r\n    const todayStart = new Date(now.setHours(0, 0, 0, 0));\r\n    const weekStart = new Date(now.setDate(now.getDate() - now.getDay()));\r\n    const monthStart = new Date(now.getFullYear(), now.getMonth(), 1);\r\n\r\n    completedTransactions.forEach(t => {\r\n        const transactionDate = new Date(t.created_at);\r\n        const earning = (t.total_price || 0) * 0.15; // Driver gets 15% of each transaction\r\n\r\n        earnings.total += earning;\r\n\r\n        if (transactionDate >= todayStart) {\r\n            earnings.today += earning;\r\n        }\r\n        if (transactionDate >= weekStart) {\r\n            earnings.thisWeek += earning;\r\n        }\r\n        if (transactionDate >= monthStart) {\r\n            earnings.thisMonth += earning;\r\n        }\r\n    });\r\n\r\n    return earnings;\r\n};\r\n\r\n// Enhanced Statistics Calculation\r\nexport const calculateEnhancedStats = (transactions, userRole) => {\r\n    const stats = {\r\n        total: transactions.length,\r\n        pending: transactions.filter(t => t.status === 'Pending').length,\r\n        inProgress: transactions.filter(t => t.status === 'In Progress').length,\r\n        completed: transactions.filter(t => t.status === 'done').length,\r\n        totalWeight: transactions.reduce((sum, t) => sum + (Number(t.weight) || 0), 0),\r\n        totalRevenue: transactions.reduce((sum, t) => sum + (t.total_price || 0), 0)\r\n    };\r\n\r\n    // Calculate trend (last 7 days vs previous 7 days)\r\n    const now = new Date();\r\n    const sevenDaysAgo = new Date(now.getTime() - 7 * 24 * 60 * 60 * 1000);\r\n    const fourteenDaysAgo = new Date(now.getTime() - 14 * 24 * 60 * 60 * 1000);\r\n\r\n    const recentTransactions = transactions.filter(t => new Date(t.created_at) >= sevenDaysAgo);\r\n    const previousTransactions = transactions.filter(t => {\r\n        const date = new Date(t.created_at);\r\n        return date >= fourteenDaysAgo && date < sevenDaysAgo;\r\n    });\r\n\r\n    stats.trend = {\r\n        transactions: recentTransactions.length - previousTransactions.length,\r\n        weight: recentTransactions.reduce((sum, t) => sum + (Number(t.weight) || 0), 0) -\r\n            previousTransactions.reduce((sum, t) => sum + (Number(t.weight) || 0), 0)\r\n    };\r\n\r\n    return stats;\r\n};\r\n\r\n// Export Report Data\r\nexport const exportToExcel = async (data, filename) => {\r\n    try {\r\n        // Convert data to CSV format\r\n        const headers = Object.keys(data[0] || {});\r\n        const csvContent = [\r\n            headers.join(','),\r\n            ...data.map(row => headers.map(header => `\"${row[header] || ''}\"`).join(','))\r\n        ].join('\\n');\r\n\r\n        // Create blob and download\r\n        const blob = new Blob([csvContent], { type: 'text/csv;charset=utf-8;' });\r\n        const link = document.createElement('a');\r\n        const url = URL.createObjectURL(blob);\r\n\r\n        link.setAttribute('href', url);\r\n        link.setAttribute('download', `${filename}_${new Date().toISOString().split('T')[0]}.csv`);\r\n        link.style.visibility = 'hidden';\r\n        document.body.appendChild(link);\r\n        link.click();\r\n        document.body.removeChild(link);\r\n\r\n        return true;\r\n    } catch (error) {\r\n        console.error('Export error:', error);\r\n        return false;\r\n    }\r\n};\r\n\r\n// Real-time Notification Helper\r\nexport const sendNotification = async (userId, title, message, type = 'info') => {\r\n    try {\r\n        const { error } = await supabase.from('notifications').insert({\r\n            profile_id: userId,\r\n            title,\r\n            message,\r\n            type,\r\n            is_read: false\r\n        });\r\n\r\n        if (error) throw error;\r\n        return true;\r\n    } catch (error) {\r\n        console.error('Notification error:', error);\r\n        return false;\r\n    }\r\n};\r\n\r\n// Validate NIK (Indonesian ID Number)\r\nexport const validateNIK = (nik) => {\r\n    return /^\\d{16}$/.test(nik);\r\n};\r\n\r\n// Validate Phone Number (Indonesian)\r\nexport const validatePhone = (phone) => {\r\n    return /^(\\+62|62|0)[0-9]{9,12}$/.test(phone);\r\n};\r\n\r\n// Get Status Color Class\r\nexport const getStatusColor = (status) => {\r\n    const statusLower = (status || '').toLowerCase();\r\n\r\n    const colorMap = {\r\n        'done': 'bg-green-100 text-green-700 border-green-300',\r\n        'selesai': 'bg-green-100 text-green-700 border-green-300',\r\n        'resolved': 'bg-green-100 text-green-700 border-green-300',\r\n        'in progress': 'bg-blue-100 text-blue-700 border-blue-300',\r\n        'proses': 'bg-blue-100 text-blue-700 border-blue-300',\r\n        'pending': 'bg-yellow-100 text-yellow-700 border-yellow-300',\r\n        'menunggu': 'bg-yellow-100 text-yellow-700 border-yellow-300',\r\n        'canceled': 'bg-red-100 text-red-700 border-red-300',\r\n        'dibatalkan': 'bg-red-100 text-red-700 border-red-300'\r\n    };\r\n\r\n    return colorMap[statusLower] || 'bg-gray-100 text-gray-700 border-gray-300';\r\n};\r\n\r\n// Calculate Distance between two coordinates (Haversine formula)\r\nexport const calculateDistance = (lat1, lon1, lat2, lon2) => {\r\n    const R = 6371; // Radius of the Earth in km\r\n    const dLat = (lat2 - lat1) * Math.PI / 180;\r\n    const dLon = (lon2 - lon1) * Math.PI / 180;\r\n\r\n    const a =\r\n        Math.sin(dLat / 2) * Math.sin(dLat / 2) +\r\n        Math.cos(lat1 * Math.PI / 180) * Math.cos(lat2 * Math.PI / 180) *\r\n        Math.sin(dLon / 2) * Math.sin(dLon / 2);\r\n\r\n    const c = 2 * Math.atan2(Math.sqrt(a), Math.sqrt(1 - a));\r\n    const distance = R * c; // Distance in km\r\n\r\n    return distance.toFixed(2);\r\n};\r\n\r\n// Estimate Time of Arrival based on distance\r\nexport const estimateETA = (distanceInKm) => {\r\n    const avgSpeed = 30; // km/h average speed in city\r\n    const timeInHours = distanceInKm / avgSpeed;\r\n    const timeInMinutes = Math.ceil(timeInHours * 60);\r\n\r\n    if (timeInMinutes < 60) {\r\n        return `${timeInMinutes} Menit`;\r\n    } else {\r\n        const hours = Math.floor(timeInMinutes / 60);\r\n        const minutes = timeInMinutes % 60;\r\n        return `${hours} Jam ${minutes} Menit`;\r\n    }\r\n};\r\n\r\n// Generate Random Color for Charts\r\nexport const generateChartColors = (count) => {\r\n    const colors = [\r\n        '#10b981', '#3b82f6', '#f59e0b', '#ef4444', '#8b5cf6',\r\n        '#ec4899', '#14b8a6', '#f97316', '#6366f1', '#84cc16'\r\n    ];\r\n\r\n    return Array.from({ length: count }, (_, i) => colors[i % colors.length]);\r\n};\r\n\r\n// Filter Transactions by Date Range\r\nexport const filterByDateRange = (transactions, startDate, endDate) => {\r\n    if (!startDate || !endDate) return transactions;\r\n\r\n    const start = new Date(startDate);\r\n    const end = new Date(endDate);\r\n    end.setHours(23, 59, 59, 999); // Include entire end day\r\n\r\n    return transactions.filter(t => {\r\n        const transactionDate = new Date(t.created_at);\r\n        return transactionDate >= start && transactionDate <= end;\r\n    });\r\n};\r\n\r\n// Group Transactions by Period\r\nexport const groupByPeriod = (transactions, period = 'day') => {\r\n    const groups = {};\r\n\r\n    transactions.forEach(t => {\r\n        const date = new Date(t.created_at);\r\n        let key;\r\n\r\n        switch (period) {\r\n            case 'hour':\r\n                key = `${date.getFullYear()}-${date.getMonth() + 1}-${date.getDate()} ${date.getHours()}:00`;\r\n                break;\r\n            case 'day':\r\n                key = `${date.getFullYear()}-${date.getMonth() + 1}-${date.getDate()}`;\r\n                break;\r\n            case 'week':\r\n                const weekNum = Math.ceil(date.getDate() / 7);\r\n                key = `${date.getFullYear()}-${date.getMonth() + 1} Week ${weekNum}`;\r\n                break;\r\n            case 'month':\r\n                key = `${date.getFullYear()}-${date.getMonth() + 1}`;\r\n                break;\r\n            case 'year':\r\n                key = `${date.getFullYear()}`;\r\n                break;\r\n            default:\r\n                key = date.toISOString().split('T')[0];\r\n        }\r\n\r\n        if (!groups[key]) {\r\n            groups[key] = [];\r\n        }\r\n        groups[key].push(t);\r\n    });\r\n\r\n    return groups;\r\n};\r\n\r\nexport default {\r\n    calculateRewardPoints,\r\n    getRewardBadge,\r\n    formatRupiah,\r\n    calculateDriverEarnings,\r\n    calculateEnhancedStats,\r\n    exportToExcel,\r\n    sendNotification,\r\n    validateNIK,\r\n    validatePhone,\r\n    getStatusColor,\r\n    calculateDistance,\r\n    estimateETA,\r\n    generateChartColors,\r\n    filterByDateRange,\r\n    groupByPeriod\r\n};\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 695, "column": 0}, "map": {"version":3,"sources":["C:/Users/Administrator/Downloads/RecycleYuk-revision/RecycleYuk/RecycleYuk/src/app/dashboard/driver/page.js"],"sourcesContent":["'use client';\r\n\r\nimport { useState, useEffect, useMemo } from 'react';\r\nimport { useRouter } from 'next/navigation';\r\nimport { createClient } from '@supabase/supabase-js';\r\nimport OpenLayersMap from '@/components/OpenLayersMap';\r\nimport {\r\n    LayoutDashboard, Truck, MapPin, CheckCircle, History, User,\r\n    LogOut, Menu, X, ChevronLeft, Search, Filter,\r\n    Navigation, Clock, Calendar, CheckCircle2, AlertCircle, Shield, Wallet, TrendingUp\r\n} from 'lucide-react';\r\nimport { calculateDriverEarnings, formatRupiah } from '@/utils/enhancedHelpers';\r\n\r\n// --- INISIALISASI SUPABASE ---\r\nconst supabase = createClient(\r\n    process.env.NEXT_PUBLIC_SUPABASE_URL,\r\n    process.env.NEXT_PUBLIC_SUPABASE_ANON_KEY\r\n);\r\n\r\nexport default function DriverDashboard() {\r\n    const router = useRouter();\r\n\r\n    // --- 1. STATE MANAGEMENT ---\r\n    const [mounted, setMounted] = useState(false);\r\n    const [loading, setLoading] = useState(true);\r\n    const [currentTime, setCurrentTime] = useState('');\r\n    const [isSidebarOpen, setIsSidebarOpen] = useState(true);\r\n    const [activePage, setActivePage] = useState('dashboard');\r\n\r\n    // Data States\r\n    const [currentUser, setCurrentUser] = useState(null);\r\n    const [tasks, setTasks] = useState([]);      // Tugas Pending/In Progress\r\n    const [history, setHistory] = useState([]);  // Tugas Selesai\r\n    const [driverProfile, setDriverProfile] = useState(null); // Data khusus tabel drivers\r\n\r\n    // Filter & UI States\r\n    const [searchQuery, setSearchQuery] = useState('');\r\n\r\n    // Geolocation State\r\n    const [driverLocation, setDriverLocation] = useState(null);\r\n    const [locationError, setLocationError] = useState(null);\r\n\r\n    // --- 2. STATE MANAGEMENT (Maps setup removed, now using OpenLayersMap) ---\r\n\r\n    // --- 3. MENU CONFIGURATION ---\r\n    const SIDEBAR_MENUS = [\r\n        { id: 'dashboard', label: 'Ringkasan', icon: LayoutDashboard },\r\n        { id: 'tasks', label: 'Tugas Jemput', icon: Truck },\r\n        { id: 'map', label: 'Peta Lokasi', icon: MapPin },\r\n        { id: 'history', label: 'Riwayat', icon: History },\r\n        { id: 'earnings', label: 'Pendapatan', icon: Wallet },\r\n        { id: 'profile', label: 'Profil', icon: User },\r\n    ];\r\n\r\n    // --- 4. CORE LOGIC ---\r\n    useEffect(() => {\r\n        setMounted(true);\r\n        const timer = setInterval(() => {\r\n            setCurrentTime(new Date().toLocaleTimeString('id-ID', { hour: '2-digit', minute: '2-digit' }));\r\n        }, 1000);\r\n        fetchData();\r\n        return () => clearInterval(timer);\r\n    }, []);\r\n\r\n    // --- GEOLOCATION API ---\r\n    useEffect(() => {\r\n        if (mounted && navigator.geolocation) {\r\n            navigator.geolocation.getCurrentPosition(\r\n                (position) => {\r\n                    setDriverLocation({\r\n                        lat: position.coords.latitude,\r\n                        lng: position.coords.longitude\r\n                    });\r\n                    console.log('ðŸ“ Driver location:', position.coords.latitude, position.coords.longitude);\r\n                },\r\n                (error) => {\r\n                    console.warn('âš ï¸ Geolocation error:', error.message);\r\n                    setLocationError(error.message);\r\n                    // Fallback to default Bandung coordinates\r\n                    setDriverLocation({ lat: -6.9175, lng: 107.6191 });\r\n                },\r\n                {\r\n                    enableHighAccuracy: true,\r\n                    timeout: 10000,\r\n                    maximumAge: 0\r\n                }\r\n            );\r\n        } else {\r\n            console.warn('âš ï¸ Geolocation not supported, using default location');\r\n            setDriverLocation({ lat: -6.9175, lng: 107.6191 });\r\n        }\r\n    }, [mounted]);\r\n\r\n    const fetchData = async () => {\r\n        setLoading(true);\r\n        try {\r\n            // A. Cek User Login\r\n            const { data: { user } } = await supabase.auth.getUser();\r\n            if (!user) { router.push('/login'); return; }\r\n\r\n            // B. Ambil Profil Umum\r\n            const { data: profile } = await supabase.from('profiles').select('*').eq('id', user.id).single();\r\n            setCurrentUser({ ...user, ...profile });\r\n\r\n            // C. Ambil Profil Khusus Driver\r\n            const { data: dProfile } = await supabase.from('drivers').select('*').eq('name', profile?.full_name).single();\r\n            if (dProfile) setDriverProfile(dProfile);\r\n\r\n            // D. Ambil Tugas (Pending / In Progress)\r\n            const { data: pendingData } = await supabase\r\n                .from('transactions')\r\n                .select('*, profiles(full_name, address, alamat), waste_types(name)')\r\n                .neq('status', 'done')\r\n                .order('created_at', { ascending: true });\r\n\r\n            setTasks(pendingData || []);\r\n\r\n            // E. Ambil Riwayat (Done)\r\n            const { data: historyData } = await supabase\r\n                .from('transactions')\r\n                .select('*, profiles(full_name, address), waste_types(name)')\r\n                .eq('status', 'done')\r\n                .order('updated_at', { ascending: false })\r\n                .limit(20);\r\n\r\n            setHistory(historyData || []);\r\n\r\n        } catch (err) {\r\n            console.error(\"Error:\", err);\r\n        } finally {\r\n            setLoading(false);\r\n        }\r\n    };\r\n\r\n    // --- 5. ACTIONS ---\r\n    const handleLogout = async () => { await supabase.auth.signOut(); router.push('/login'); };\r\n\r\n    const handleUpdateStatus = async (taskId, newStatus) => {\r\n        if (!confirm(`Ubah status tugas menjadi ${newStatus}?`)) return;\r\n        try {\r\n            const { error } = await supabase.from('transactions').update({\r\n                status: newStatus,\r\n                driver_name: currentUser?.full_name\r\n            }).eq('id', taskId);\r\n\r\n            if (error) throw error;\r\n            fetchData();\r\n        } catch (err) { alert(\"Gagal update: \" + err.message); }\r\n    };\r\n\r\n    const handleDriverStatusToggle = async () => {\r\n        if (!driverProfile) return alert(\"Profil driver tidak ditemukan di database.\");\r\n        const newStatus = driverProfile.status === 'On Duty' ? 'Off Duty' : 'On Duty';\r\n\r\n        try {\r\n            await supabase.from('drivers').update({ status: newStatus }).eq('id', driverProfile.id);\r\n            setDriverProfile({ ...driverProfile, status: newStatus });\r\n            alert(`Status Anda sekarang: ${newStatus}`);\r\n        } catch (err) { alert(\"Gagal update status driver.\"); }\r\n    };\r\n\r\n    const handleUpdateProfile = async (e) => {\r\n        e.preventDefault();\r\n        try {\r\n            await supabase.from('profiles').update({\r\n                full_name: currentUser.full_name,\r\n                alamat: currentUser.alamat\r\n            }).eq('id', currentUser.id);\r\n\r\n            if (driverProfile) {\r\n                await supabase.from('drivers').update({\r\n                    name: currentUser.full_name,\r\n                    vehicle: driverProfile.vehicle\r\n                }).eq('id', driverProfile.id);\r\n            }\r\n            alert(\"Profil berhasil disimpan!\");\r\n            fetchData();\r\n        } catch (err) { alert(err.message); }\r\n    };\r\n\r\n    // --- 6. RENDERERS ---\r\n\r\n    const renderDashboard = () => (\r\n        <div className=\"space-y-6 animate-in fade-in\">\r\n            {/* Welcome Banner */}\r\n            <div className=\"bg-gradient-to-r from-green-600 to-emerald-600 rounded-2xl p-8 text-white shadow-lg relative overflow-hidden\">\r\n                <div className=\"relative z-10\">\r\n                    <h2 className=\"text-3xl font-bold mb-2\">Halo, {currentUser?.full_name || 'Driver'}! ðŸ‘‹</h2>\r\n                    <p className=\"opacity-90\">Siap untuk menjemput sampah dan menjaga lingkungan hari ini?</p>\r\n                    <div className=\"mt-6 inline-flex items-center bg-white/20 backdrop-blur-sm px-4 py-2 rounded-lg border border-white/30\">\r\n                        <span className={`w-3 h-3 rounded-full mr-2 ${driverProfile?.status === 'On Duty' ? 'bg-green-400 animate-pulse' : 'bg-red-400'}`}></span>\r\n                        <span className=\"font-medium\">Status: {driverProfile?.status || 'Unknown'}</span>\r\n                        <button onClick={handleDriverStatusToggle} className=\"ml-4 text-xs bg-white text-green-700 px-2 py-1 rounded font-bold hover:bg-gray-100 transition\">\r\n                            Ubah Status\r\n                        </button>\r\n                    </div>\r\n                </div>\r\n                <Truck className=\"absolute right-4 bottom-4 opacity-10 w-32 h-32\" />\r\n            </div>\r\n\r\n            {/* Stats Cards */}\r\n            <div className=\"grid grid-cols-1 md:grid-cols-3 gap-6\">\r\n                <div className=\"bg-white p-6 rounded-xl shadow-sm border border-gray-200 flex items-center justify-between\">\r\n                    <div>\r\n                        <p className=\"text-gray-500 text-sm font-medium\">Tugas Pending</p>\r\n                        <h3 className=\"text-3xl font-bold text-gray-800\">{tasks.filter(t => t.status === 'Pending').length}</h3>\r\n                    </div>\r\n                    <div className=\"bg-yellow-100 p-3 rounded-full text-yellow-600\"><AlertCircle size={24} /></div>\r\n                </div>\r\n                <div className=\"bg-white p-6 rounded-xl shadow-sm border border-gray-200 flex items-center justify-between\">\r\n                    <div>\r\n                        <p className=\"text-gray-500 text-sm font-medium\">Dalam Proses</p>\r\n                        <h3 className=\"text-3xl font-bold text-gray-800\">{tasks.filter(t => t.status === 'In Progress').length}</h3>\r\n                    </div>\r\n                    <div className=\"bg-blue-100 p-3 rounded-full text-blue-600\"><Truck size={24} /></div>\r\n                </div>\r\n                <div className=\"bg-white p-6 rounded-xl shadow-sm border border-gray-200 flex items-center justify-between\">\r\n                    <div>\r\n                        <p className=\"text-gray-500 text-sm font-medium\">Selesai Hari Ini</p>\r\n                        <h3 className=\"text-3xl font-bold text-gray-800\">\r\n                            {history.filter(h => new Date(h.updated_at).toDateString() === new Date().toDateString()).length}\r\n                        </h3>\r\n                    </div>\r\n                    <div className=\"bg-green-100 p-3 rounded-full text-green-600\"><CheckCircle2 size={24} /></div>\r\n                </div>\r\n            </div>\r\n\r\n            {/* Quick Actions (Recent Tasks) */}\r\n            <div className=\"bg-white rounded-xl shadow-sm border border-gray-200 p-6\">\r\n                <div className=\"flex justify-between items-center mb-4\">\r\n                    <h3 className=\"font-bold text-lg text-gray-800\">Tugas Prioritas</h3>\r\n                    <button onClick={() => setActivePage('tasks')} className=\"text-green-600 text-sm font-medium hover:underline\">Lihat Semua</button>\r\n                </div>\r\n                <div className=\"space-y-3\">\r\n                    {tasks.length === 0 ? (\r\n                        <p className=\"text-gray-500 text-center py-4\">Tidak ada tugas aktif saat ini.</p>\r\n                    ) : tasks.slice(0, 3).map(task => (\r\n                        <div key={task.id} className=\"flex flex-col md:flex-row justify-between items-center p-4 bg-gray-50 rounded-xl border border-gray-100\">\r\n                            <div className=\"flex items-center gap-4 mb-3 md:mb-0\">\r\n                                <div className=\"bg-green-100 p-3 rounded-full text-green-600\"><MapPin size={20} /></div>\r\n                                <div>\r\n                                    <h4 className=\"font-bold text-gray-800\">{task.profiles?.full_name || 'User'}</h4>\r\n                                    <p className=\"text-sm text-gray-500\">{task.profiles?.address || task.profiles?.alamat || 'Alamat tidak tersedia'}</p>\r\n                                </div>\r\n                            </div>\r\n                            <div className=\"flex items-center gap-3\">\r\n                                <span className=\"bg-white px-3 py-1 rounded-full text-xs font-bold border shadow-sm\">{task.waste_types?.name} â€¢ {task.weight} kg</span>\r\n                                <button onClick={() => handleUpdateStatus(task.id, 'done')} className=\"bg-green-600 text-white px-4 py-2 rounded-lg text-sm font-bold hover:bg-green-700\">Selesai</button>\r\n                            </div>\r\n                        </div>\r\n                    ))}\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n\r\n    const renderTasks = () => (\r\n        <div className=\"space-y-6 animate-in slide-in-from-right\">\r\n            <div className=\"flex flex-col md:flex-row justify-between items-center bg-white p-4 rounded-xl shadow-sm border border-gray-200 gap-4\">\r\n                <div className=\"relative w-full md:w-96\">\r\n                    <Search className=\"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400\" size={18} />\r\n                    <input\r\n                        type=\"text\"\r\n                        placeholder=\"Cari lokasi atau nama user...\"\r\n                        className=\"w-full pl-10 pr-4 py-2 border rounded-lg outline-none focus:ring-2 ring-green-500 text-gray-700\"\r\n                        value={searchQuery}\r\n                        onChange={(e) => setSearchQuery(e.target.value)}\r\n                    />\r\n                </div>\r\n                <div className=\"flex gap-2\">\r\n                    <span className=\"px-3 py-1 bg-yellow-100 text-yellow-700 rounded-full text-xs font-bold flex items-center gap-1\"><AlertCircle size={12} /> Pending: {tasks.filter(t => t.status === 'Pending').length}</span>\r\n                    <span className=\"px-3 py-1 bg-blue-100 text-blue-700 rounded-full text-xs font-bold flex items-center gap-1\"><Truck size={12} /> Proses: {tasks.filter(t => t.status === 'In Progress').length}</span>\r\n                </div>\r\n            </div>\r\n\r\n            <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6\">\r\n                {tasks.filter(t => (t.profiles?.full_name || '').toLowerCase().includes(searchQuery.toLowerCase())).map(item => (\r\n                    <div key={item.id} className={`bg-white p-6 rounded-xl shadow-sm border-l-4 transition hover:shadow-md ${item.status === 'In Progress' ? 'border-l-blue-500' : 'border-l-yellow-400'}`}>\r\n                        <div className=\"flex justify-between items-start mb-4\">\r\n                            <div>\r\n                                <span className=\"text-xs font-bold text-gray-400\">ID: {item.id.slice(0, 8)}</span>\r\n                                <h3 className=\"font-bold text-lg text-gray-800 mt-1\">{item.profiles?.full_name}</h3>\r\n                            </div>\r\n                            <span className={`px-2 py-1 rounded text-xs uppercase font-bold ${item.status === 'In Progress' ? 'bg-blue-100 text-blue-700' : 'bg-yellow-100 text-yellow-700'}`}>\r\n                                {item.status}\r\n                            </span>\r\n                        </div>\r\n\r\n                        <div className=\"flex items-start gap-2 text-gray-600 text-sm mb-4\">\r\n                            <MapPin size={16} className=\"mt-1 flex-shrink-0 text-red-500\" />\r\n                            <p>{item.profiles?.address || item.profiles?.alamat || 'Alamat belum diisi user'}</p>\r\n                        </div>\r\n\r\n                        <div className=\"bg-gray-50 p-3 rounded-lg mb-4 text-sm grid grid-cols-2 gap-2\">\r\n                            <div><p className=\"text-gray-400 text-xs\">Jenis Sampah</p><p className=\"font-medium text-gray-800\">{item.waste_types?.name}</p></div>\r\n                            <div><p className=\"text-gray-400 text-xs\">Berat Estimasi</p><p className=\"font-medium text-gray-800\">{item.weight} Kg</p></div>\r\n                        </div>\r\n\r\n                        <div className=\"flex gap-2\">\r\n                            {item.status === 'Pending' && (\r\n                                <button\r\n                                    onClick={() => handleUpdateStatus(item.id, 'In Progress')}\r\n                                    className=\"flex-1 bg-blue-600 text-white py-2 rounded-lg font-bold hover:bg-blue-700 transition flex justify-center items-center gap-2 text-sm\"\r\n                                >\r\n                                    <Truck size={16} /> Jemput\r\n                                </button>\r\n                            )}\r\n                            <button\r\n                                onClick={() => handleUpdateStatus(item.id, 'done')}\r\n                                className=\"flex-1 bg-green-600 text-white py-2 rounded-lg font-bold hover:bg-green-700 transition flex justify-center items-center gap-2 text-sm\"\r\n                            >\r\n                                <CheckCircle size={16} /> Selesai\r\n                            </button>\r\n                        </div>\r\n                    </div>\r\n                ))}\r\n                {tasks.length === 0 && (\r\n                    <div className=\"col-span-full py-12 text-center text-gray-400 bg-white rounded-xl border border-dashed\">\r\n                        <CheckCircle2 size={48} className=\"mx-auto mb-2 text-green-200\" />\r\n                        <p>Tidak ada tugas penjemputan saat ini.</p>\r\n                    </div>\r\n                )}\r\n            </div>\r\n        </div>\r\n    );\r\n\r\n    // Memoize markers to prevent map refresh\r\n    const taskMarkers = useMemo(() => {\r\n        if (!driverLocation || !tasks.length) return [];\r\n\r\n        return tasks.map((task, idx) => {\r\n            // Use actual task coordinates if available\r\n            let lat, lng;\r\n\r\n            if (task.latitude && task.longitude) {\r\n                // Use exact coordinates from database\r\n                lat = parseFloat(task.latitude);\r\n                lng = parseFloat(task.longitude);\r\n                console.log(`âœ… Task ${idx + 1}: Using transaction GPS`);\r\n            } else if (task.profiles?.home_latitude && task.profiles?.home_longitude) {\r\n                // Use user's home coordinates from profile\r\n                lat = parseFloat(task.profiles.home_latitude);\r\n                lng = parseFloat(task.profiles.home_longitude);\r\n                console.log(`âœ… Task ${idx + 1}: Using profile home GPS`);\r\n            } else if (task.profiles?.latitude && task.profiles?.longitude) {\r\n                // Use user's coordinates from profile\r\n                lat = parseFloat(task.profiles.latitude);\r\n                lng = parseFloat(task.profiles.longitude);\r\n                console.log(`âœ… Task ${idx + 1}: Using profile GPS`);\r\n            } else {\r\n                // Fallback: Use deterministic grid pattern (NOT random!)\r\n                const offsetLat = (idx % 5) * 0.004 - 0.008; // Grid: 5 columns\r\n                const offsetLng = Math.floor(idx / 5) * 0.004 - 0.008; // Grid: rows\r\n                lat = driverLocation.lat + offsetLat;\r\n                lng = driverLocation.lng + offsetLng;\r\n                console.log(`âš ï¸ Task ${idx + 1}: Using grid fallback (no GPS in DB)`);\r\n            }\r\n\r\n            return {\r\n                lat,\r\n                lng,\r\n                label: `ðŸ“${idx + 1}`,\r\n                data: task,\r\n                popup: `\r\n                    <div class=\"min-w-[200px]\">\r\n                        <strong class=\"text-gray-800 block mb-1\">${task.profiles?.full_name || 'User'}</strong>\r\n                        <span class=\"text-xs text-gray-600 block mb-2\">${task.profiles?.address || task.profiles?.alamat || 'No address'}</span>\r\n                        <div class=\"flex items-center gap-2 text-xs\">\r\n                            <span class=\"font-bold text-green-600\">${task.weight} kg</span>\r\n                            <span class=\"text-gray-500\">â€¢</span>\r\n                            <span class=\"text-gray-700\">${task.waste_types?.name || 'Sampah'}</span>\r\n                        </div>\r\n                    </div>\r\n                `\r\n            };\r\n        });\r\n    }, [tasks, driverLocation]);\r\n\r\n    const renderMap = () => {\r\n        if (!driverLocation) {\r\n            return (\r\n                <div className=\"h-[calc(100vh-140px)] bg-white rounded-xl shadow-sm border border-gray-200 flex items-center justify-center\">\r\n                    <p className=\"text-gray-500\">Memuat lokasi...</p>\r\n                </div>\r\n            );\r\n        }\r\n\r\n        return (\r\n            <div className=\"h-[calc(100vh-140px)] bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden animate-in fade-in\">\r\n                <OpenLayersMap\r\n                    center={[driverLocation.lng, driverLocation.lat]}\r\n                    zoom={13}\r\n                    markers={taskMarkers}\r\n                    height=\"100%\"\r\n                    onMarkerClick={(data) => {\r\n                        console.log('Clicked task:', data);\r\n                        setActivePage('tasks');\r\n                    }}\r\n                />\r\n            </div>\r\n        );\r\n    };\r\n\r\n    const renderHistory = () => (\r\n        <div className=\"space-y-6 animate-in slide-in-from-right\">\r\n            <div className=\"bg-white p-6 rounded-xl shadow-sm border border-gray-200\">\r\n                <h3 className=\"font-bold text-lg mb-4 text-gray-800 flex items-center gap-2\"><History size={20} /> Riwayat Penjemputan</h3>\r\n                <div className=\"overflow-x-auto\">\r\n                    <table className=\"w-full text-left text-sm text-gray-700\">\r\n                        <thead className=\"bg-gray-50 text-gray-500 border-b\">\r\n                            <tr>\r\n                                <th className=\"p-4\">Tanggal</th>\r\n                                <th className=\"p-4\">User</th>\r\n                                <th className=\"p-4\">Sampah</th>\r\n                                <th className=\"p-4\">Status</th>\r\n                            </tr>\r\n                        </thead>\r\n                        <tbody>\r\n                            {history.map(h => (\r\n                                <tr key={h.id} className=\"border-b hover:bg-gray-50\">\r\n                                    <td className=\"p-4\">{new Date(h.updated_at).toLocaleDateString()} <span className=\"text-xs text-gray-400\">{new Date(h.updated_at).toLocaleTimeString()}</span></td>\r\n                                    <td className=\"p-4 font-medium\">{h.profiles?.full_name}<br /><span className=\"text-xs text-gray-400 font-normal\">{h.profiles?.address}</span></td>\r\n                                    <td className=\"p-4\">{h.waste_types?.name} ({h.weight}kg)</td>\r\n                                    <td className=\"p-4\"><span className=\"bg-green-100 text-green-700 px-2 py-1 rounded text-xs font-bold\">Selesai</span></td>\r\n                                </tr>\r\n                            ))}\r\n                            {history.length === 0 && <tr><td colSpan=\"4\" className=\"p-8 text-center text-gray-400\">Belum ada riwayat tugas selesai.</td></tr>}\r\n                        </tbody>\r\n                    </table>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n\r\n    const renderProfile = () => (\r\n        <div className=\"max-w-2xl mx-auto space-y-6 animate-in slide-in-from-right\">\r\n            <div className=\"bg-white p-8 rounded-xl shadow-sm border border-gray-200\">\r\n                <div className=\"flex items-center gap-6 mb-8 pb-8 border-b border-gray-100\">\r\n                    <div className=\"w-24 h-24 bg-green-100 rounded-full flex items-center justify-center text-4xl font-bold text-green-600\">\r\n                        {currentUser?.full_name?.charAt(0) || 'D'}\r\n                    </div>\r\n                    <div>\r\n                        <h2 className=\"text-2xl font-bold text-gray-800\">{currentUser?.full_name}</h2>\r\n                        <p className=\"text-gray-500\">{currentUser?.email}</p>\r\n                        <span className={`inline-block mt-2 px-3 py-1 rounded-full text-xs font-bold ${driverProfile?.status === 'On Duty' ? 'bg-green-100 text-green-700' : 'bg-red-100 text-red-700'}`}>\r\n                            {driverProfile?.status || 'Driver'}\r\n                        </span>\r\n                    </div>\r\n                </div>\r\n\r\n                <form onSubmit={handleUpdateProfile} className=\"space-y-4\">\r\n                    <div>\r\n                        <label className=\"block text-sm font-bold text-gray-700 mb-1\">Nama Lengkap</label>\r\n                        <input className=\"w-full border p-3 rounded-lg text-gray-800 bg-gray-50 focus:bg-white focus:ring-2 ring-green-500 outline-none\" value={currentUser?.full_name || ''} onChange={e => setCurrentUser({ ...currentUser, full_name: e.target.value })} />\r\n                    </div>\r\n                    <div>\r\n                        <label className=\"block text-sm font-bold text-gray-700 mb-1\">Kendaraan (Plat No)</label>\r\n                        <input className=\"w-full border p-3 rounded-lg text-gray-800 bg-gray-50 focus:bg-white focus:ring-2 ring-green-500 outline-none\" value={driverProfile?.vehicle || ''} onChange={e => setDriverProfile({ ...driverProfile, vehicle: e.target.value })} placeholder=\"Contoh: D 1234 ABC\" />\r\n                    </div>\r\n                    <div>\r\n                        <label className=\"block text-sm font-bold text-gray-700 mb-1\">Alamat Domisili</label>\r\n                        <textarea className=\"w-full border p-3 rounded-lg text-gray-800 bg-gray-50 focus:bg-white focus:ring-2 ring-green-500 outline-none h-24 resize-none\" value={currentUser?.alamat || ''} onChange={e => setCurrentUser({ ...currentUser, alamat: e.target.value })} />\r\n                    </div>\r\n\r\n                    <button type=\"submit\" className=\"w-full bg-green-600 text-white py-3 rounded-xl font-bold hover:bg-green-700 transition mt-4\">\r\n                        Simpan Perubahan\r\n                    </button>\r\n                </form>\r\n            </div>\r\n        </div>\r\n    );\r\n\r\n    const renderEarnings = () => {\r\n        const earnings = calculateDriverEarnings(history);\r\n\r\n        return (\r\n            <div className=\"space-y-6 animate-in slide-in-from-right\">\r\n                <h2 className=\"text-2xl font-bold text-gray-800\">Pendapatan Driver</h2>\r\n\r\n                {/* Earning Cards */}\r\n                <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6\">\r\n                    {/* Today */}\r\n                    <div className=\"bg-gradient-to-br from-green-500 to-emerald-600 p-6 rounded-xl text-white shadow-lg\">\r\n                        <div className=\"flex items-center justify-between mb-2\">\r\n                            <p className=\"opacity-90 font-medium\">Hari Ini</p>\r\n                            <Wallet size={20} className=\"opacity-80\" />\r\n                        </div>\r\n                        <h3 className=\"text-3xl font-bold\">{formatRupiah(earnings.today)}</h3>\r\n                        <p className=\"text-sm opacity-80\">Komisi hari ini</p>\r\n                    </div>\r\n\r\n                    {/* This Week */}\r\n                    <div className=\"bg-white p-6 rounded-xl shadow-sm border border-gray-200\">\r\n                        <div className=\"flex items-center justify-between mb-2\">\r\n                            <p className=\"text-gray-500 font-medium\">Minggu Ini</p>\r\n                            <TrendingUp size={20} className=\"text-blue-500\" />\r\n                        </div>\r\n                        <h3 className=\"text-3xl font-bold text-gray-800\">{formatRupiah(earnings.thisWeek)}</h3>\r\n                        <p className=\"text-sm text-gray-500\">7 hari terakhir</p>\r\n                    </div>\r\n\r\n                    {/* This Month */}\r\n                    <div className=\"bg-white p-6 rounded-xl shadow-sm border border-gray-200\">\r\n                        <div className=\"flex items-center justify-between mb-2\">\r\n                            <p className=\"text-gray-500 font-medium\">Bulan Ini</p>\r\n                            <Clock size={20} className=\"text-purple-500\" />\r\n                        </div>\r\n                        <h3 className=\"text-3xl font-bold text-gray-800\">{formatRupiah(earnings.thisMonth)}</h3>\r\n                        <p className=\"text-sm text-gray-500\">Periode bulan ini</p>\r\n                    </div>\r\n\r\n                    {/* Total */}\r\n                    <div className=\"bg-gradient-to-br from-amber-400 to-orange-500 p-6 rounded-xl text-white shadow-lg\">\r\n                        <div className=\"flex items-center justify-between mb-2\">\r\n                            <p className=\"opacity-90 font-medium\">Total</p>\r\n                            <CheckCircle2 size={20} className=\"opacity-80\" />\r\n                        </div>\r\n                        <h3 className=\"text-3xl font-bold\">{formatRupiah(earnings.total)}</h3>\r\n                        <p className=\"text-sm opacity-80\">{earnings.transactionCount} transaksi</p>\r\n                    </div>\r\n                </div>\r\n\r\n                {/* Transaction History */}\r\n                <div className=\"bg-white rounded-xl shadow-sm border p-6\">\r\n                    <h3 className=\"text-xl font-bold mb-4 flex items-center gap-2\">\r\n                        <TrendingUp size={22} /> Riwayat Komisi\r\n                    </h3>\r\n                    {history.length === 0 ? (\r\n                        <p className=\"text-center py-12 text-gray-400\">Belum ada transaksi</p>\r\n                    ) : (\r\n                        <div className=\"overflow-x-auto\">\r\n                            <table className=\"w-full\">\r\n                                <thead className=\"bg-gray-50 border-b\">\r\n                                    <tr>\r\n                                        <th className=\"px-4 py-3 text-left text-xs font-bold text-gray-600\">Tanggal</th>\r\n                                        <th className=\"px-4 py-3 text-left text-xs font-bold text-gray-600\">Pelanggan</th>\r\n                                        <th className=\"px-4 py-3 text-left text-xs font-bold text-gray-600\">Berat</th>\r\n                                        <th className=\"px-4 py-3 text-right text-xs font-bold text-gray-600\">Total</th>\r\n                                        <th className=\"px-4 py-3 text-right text-xs font-bold text-gray-600\">Komisi (15%)</th>\r\n                                    </tr>\r\n                                </thead>\r\n                                <tbody className=\"divide-y\">\r\n                                    {history.slice(0, 20).map(t => (\r\n                                        <tr key={t.id} className=\"hover:bg-gray-50\">\r\n                                            <td className=\"px-4 py-3 text-sm\">{new Date(t.created_at).toLocaleDateString('id-ID')}</td>\r\n                                            <td className=\"px-4 py-3 text-sm font-medium\">{t.profiles?.full_name || '-'}</td>\r\n                                            <td className=\"px-4 py-3 text-sm\">{t.weight} kg</td>\r\n                                            <td className=\"px-4 py-3 text-sm text-right font-medium\">{formatRupiah(t.total_price || 0)}</td>\r\n                                            <td className=\"px-4 py-3 text-sm text-right font-bold text-green-600\">{formatRupiah((t.total_price || 0) * 0.15)}</td>\r\n                                        </tr>\r\n                                    ))}\r\n                                </tbody>\r\n                            </table>\r\n                        </div>\r\n                    )}\r\n                </div>\r\n\r\n                <div className=\"bg-blue-50 border border-blue-200 rounded-lg p-4\">\r\n                    <p className=\"text-sm text-blue-800\">\r\n                        <span className=\"font-bold\">â„¹ï¸ Info:</span> Komisi driver 15% dari setiap transaksi selesai.\r\n                        Pembayaran dilakukan setiap akhir bulan.\r\n                    </p>\r\n                </div>\r\n            </div>\r\n        );\r\n    };\r\n\r\n    // --- 7. MAIN CONTENT SWITCH ---\r\n    const renderContent = () => {\r\n        switch (activePage) {\r\n            case 'dashboard': return renderDashboard();\r\n            case 'tasks': return renderTasks();\r\n            case 'map': return renderMap();\r\n            case 'history': return renderHistory();\r\n            case 'earnings': return renderEarnings();\r\n            case 'profile': return renderProfile();\r\n            default: return <div>Halaman tidak ditemukan</div>;\r\n        }\r\n    };\r\n\r\n    return (\r\n        <div className=\"min-h-screen bg-slate-50 flex font-sans text-gray-800\">\r\n            {/* SIDEBAR */}\r\n            <aside className={`fixed z-30 h-full bg-white border-r border-gray-200 transition-all duration-300 ${isSidebarOpen ? 'w-64' : 'w-20'} hidden md:flex flex-col`}>\r\n                <div className=\"h-20 flex items-center justify-between px-6 border-b border-gray-100\">\r\n                    {/* Logo */}\r\n                    {isSidebarOpen ? (\r\n                        <img src=\"/logo.png\" alt=\"RecycleYuk\" className=\"h-8 w-auto object-contain\" />\r\n                    ) : (\r\n                        <div className=\"w-8 h-8 bg-green-600 rounded-lg flex items-center justify-center text-white font-bold\">R</div>\r\n                    )}\r\n\r\n                    <button onClick={() => setIsSidebarOpen(!isSidebarOpen)} className=\"p-2 hover:bg-gray-100 rounded-lg text-gray-500\">\r\n                        {isSidebarOpen ? <ChevronLeft size={20} /> : <Menu size={20} />}\r\n                    </button>\r\n                </div>\r\n\r\n                <nav className=\"flex-1 p-4 space-y-2 overflow-y-auto\">\r\n                    {SIDEBAR_MENUS.map(menu => (\r\n                        <button\r\n                            key={menu.id}\r\n                            onClick={() => setActivePage(menu.id)}\r\n                            className={`w-full flex items-center gap-3 px-4 py-3 rounded-xl transition-all font-medium ${activePage === menu.id ? 'bg-green-50 text-green-700 shadow-sm' : 'text-gray-600 hover:bg-gray-50 hover:text-green-600'}`}\r\n                        >\r\n                            <menu.icon size={22} className={activePage === menu.id ? 'text-green-600' : 'text-gray-400'} />\r\n                            {isSidebarOpen && <span>{menu.label}</span>}\r\n                        </button>\r\n                    ))}\r\n                </nav>\r\n\r\n                <div className=\"p-4 border-t border-gray-100\">\r\n                    <button onClick={handleLogout} className=\"w-full flex items-center gap-3 px-4 py-3 text-red-600 hover:bg-red-50 rounded-xl transition font-bold\">\r\n                        <LogOut size={22} /> {isSidebarOpen && \"Keluar\"}\r\n                    </button>\r\n                </div>\r\n            </aside>\r\n\r\n            {/* MAIN CONTENT AREA */}\r\n            <main className={`flex-1 p-4 md:p-8 transition-all duration-300 ${isSidebarOpen ? 'md:ml-64' : 'md:ml-20'}`}>\r\n                <div className=\"max-w-6xl mx-auto\">\r\n                    {/* TOP HEADER */}\r\n                    <div className=\"flex flex-col md:flex-row justify-between items-end md:items-center mb-8 gap-4\">\r\n                        <div>\r\n                            <h2 className=\"text-2xl font-bold text-gray-800 capitalize\">{activePage === 'dashboard' ? 'Overview' : activePage}</h2>\r\n                            <p className=\"text-gray-500 text-sm\">Panel Kontrol Driver</p>\r\n                        </div>\r\n                        <div className=\"flex items-center gap-4\">\r\n                            <div className=\"hidden md:flex items-center gap-2 bg-white px-4 py-2 rounded-xl border shadow-sm text-sm font-medium text-gray-600\">\r\n                                <Clock size={16} className=\"text-green-600\" /> {mounted ? currentTime : '...'}\r\n                            </div>\r\n\r\n                            {/* TOMBOL PROFIL KANAN ATAS */}\r\n                            <button\r\n                                onClick={() => setActivePage('profile')}\r\n                                className=\"flex items-center gap-3 bg-white p-1.5 px-3 rounded-xl border shadow-sm hover:bg-gray-50 transition\"\r\n                            >\r\n                                <div className=\"w-8 h-8 rounded-full bg-green-100 flex items-center justify-center text-green-700 font-bold\">\r\n                                    {currentUser?.full_name?.charAt(0) || 'D'}\r\n                                </div>\r\n                                <div className=\"hidden md:block text-left\">\r\n                                    <p className=\"text-xs font-bold text-gray-800 line-clamp-1\">{currentUser?.full_name || 'Driver'}</p>\r\n                                    <p className=\"text-[10px] text-gray-500 uppercase\">{driverProfile?.status || 'Driver'}</p>\r\n                                </div>\r\n                            </button>\r\n                        </div>\r\n                    </div>\r\n\r\n                    {/* DYNAMIC CONTENT */}\r\n                    {loading && !mounted ? (\r\n                        <div className=\"h-96 flex flex-col items-center justify-center text-gray-400\">\r\n                            <Truck size={48} className=\"animate-bounce mb-4 text-green-200\" />\r\n                            <p>Memuat data driver...</p>\r\n                        </div>\r\n                    ) : renderContent()}\r\n                </div>\r\n            </main>\r\n        </div>\r\n    );\r\n}"],"names":["useState","useEffect","useMemo","useRouter","createClient","OpenLayersMap","LayoutDashboard","Truck","MapPin","CheckCircle","History","User","LogOut","Menu","X","ChevronLeft","Search","Filter","Navigation","Clock","Calendar","CheckCircle2","AlertCircle","Shield","Wallet","TrendingUp","calculateDriverEarnings","formatRupiah","supabase","process","env","NEXT_PUBLIC_SUPABASE_URL","NEXT_PUBLIC_SUPABASE_ANON_KEY","DriverDashboard","router","mounted","setMounted","loading","setLoading","currentTime","setCurrentTime","isSidebarOpen","setIsSidebarOpen","activePage","setActivePage","currentUser","setCurrentUser","tasks","setTasks","history","setHistory","driverProfile","setDriverProfile","searchQuery","setSearchQuery","driverLocation","setDriverLocation","locationError","setLocationError","SIDEBAR_MENUS","id","label","icon","timer","setInterval","Date","toLocaleTimeString","hour","minute","fetchData","clearInterval","navigator","geolocation","getCurrentPosition","position","lat","coords","latitude","lng","longitude","console","log","error","warn","message","enableHighAccuracy","timeout","maximumAge","data","user","auth","getUser","push","profile","from","select","eq","single","dProfile","full_name","pendingData","neq","order","ascending","historyData","limit","err","handleLogout","signOut","handleUpdateStatus","taskId","newStatus","confirm","update","status","driver_name","alert","handleDriverStatusToggle","handleUpdateProfile","e","preventDefault","alamat","name","vehicle","renderDashboard","filter","t","length","h","updated_at","toDateString","slice","map","task","profiles","address","waste_types","weight","renderTasks","target","value","toLowerCase","includes","item","taskMarkers","idx","parseFloat","home_latitude","home_longitude","offsetLat","offsetLng","Math","floor","popup","renderMap","renderHistory","toLocaleDateString","renderProfile","charAt","email","renderEarnings","earnings","today","thisWeek","thisMonth","total","transactionCount","created_at","total_price","renderContent","menu"],"mappings":"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","ignoreList":[]}}]
}