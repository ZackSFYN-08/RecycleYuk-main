module.exports=[78962,a=>{"use strict";var b=a.i(13755),c=a.i(36985),d=a.i(42755),e=a.i(88691),f=a.i(54946),g=a.i(82963),h=a.i(61964),i=a.i(53115),j=a.i(48682),k=a.i(75071),l=a.i(27075);let m=(0,l.default)("settings",[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);var n=a.i(50561),o=a.i(5978);let p=(0,l.default)("plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]),q=(0,l.default)("square-pen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);var r=a.i(54164),s=a.i(11626),t=a.i(22423),u=a.i(79408),v=a.i(32207),w=a.i(77307),x=a.i(52446),y=a.i(3895);let z=(0,l.default)("shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);var A=a.i(5564);let B=(0,l.default)("save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);var C=a.i(80587),D=a.i(51386),E=a.i(3567),F=a.i(25361),G=a.i(92161),H=a.i(58290),I=a.i(31285);let J=(0,e.createClient)("https://bvigrmajwdfpavxmxefl.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImJ2aWdybWFqd2RmcGF2eG14ZWZsIiwicm9sZSI6ImFub24iLCJpYXQiOjE3Njc2NTE2MzAsImV4cCI6MjA4MzIyNzYzMH0.Qii8jaaMgtH5Sq-C7YfpQ26AmGnMmh3aEbsTX8Ciyg0");function K(){let a=(0,d.useRouter)(),[e,l]=(0,c.useState)(!1),[K,L]=(0,c.useState)(!0),[M,N]=(0,c.useState)(""),[O,P]=(0,c.useState)(!0),[Q,R]=(0,c.useState)("dashboard"),[S,T]=(0,c.useState)(null),[U,V]=(0,c.useState)([]),[W,X]=(0,c.useState)([]),[Y,Z]=(0,c.useState)([]),[$,_]=(0,c.useState)([]),[aa,ab]=(0,c.useState)([]),[ac,ad]=(0,c.useState)([]),[ae,af]=(0,c.useState)(""),[ag,ah]=(0,c.useState)("All"),[ai,aj]=(0,c.useState)({income:0,expense:0}),[ak,al]=(0,c.useState)({date:"",status:"All"}),[am,an]=(0,c.useState)({tariff:15e3,opStart:"08:00",opEnd:"17:00",emailNotif:!0}),[ao,ap]=(0,c.useState)(!1),[aq,ar]=(0,c.useState)(""),[as,at]=(0,c.useState)(null),[au,av]=(0,c.useState)({}),aw=[{id:"dashboard",label:"Ringkasan",icon:f.LayoutDashboard},{id:"users",label:"Manajemen User",icon:g.Users},{id:"drivers",label:"Manajemen Driver",icon:h.Truck},{id:"pickups",label:"Pengangkutan",icon:r.Trash2},{id:"areas",label:"Wilayah",icon:i.MapPin},{id:"reports",label:"Laporan",icon:j.FileText},{id:"finance",label:"Keuangan",icon:k.Wallet},{id:"settings",label:"Pengaturan Sistem",icon:m}];(0,c.useEffect)(()=>{l(!0);let a=setInterval(()=>{N(new Date().toLocaleTimeString("id-ID",{hour:"2-digit",minute:"2-digit"}))},1e3),b=document.createElement("script");return b.src="https://app.sandbox.midtrans.com/snap/snap.js",b.setAttribute("data-client-key","Mid-client-zVn1_jq4GqVUHzoj"),b.async=!0,document.body.appendChild(b),ax(),()=>{clearInterval(a),document.body.removeChild(b)}},[]);let ax=async()=>{L(!0);try{let{data:{user:b}}=await J.auth.getUser();if(!b)return void a.push("/login");let{data:c}=await J.from("profiles").select("*").eq("id",b.id).single();T({...b,...c,newPassword:""});let{data:d}=await J.from("app_settings").select("*").single();d&&an({tariff:d.tariff_per_kg,opStart:d.operational_start,opEnd:d.operational_end,emailNotif:d.email_notification});let{data:e}=await J.from("notifications").select("*").order("created_at",{ascending:!1});e&&ad(e);let{data:f}=await J.from("profiles").select("*").order("created_at",{ascending:!1});f&&V(f);let{data:g}=await J.from("drivers").select("*").order("created_at",{ascending:!1});g&&X(g);let{data:h}=await J.from("areas").select("*, drivers(name)").order("created_at",{ascending:!1});h&&Z(h);let{data:i}=await J.from("transactions").select("*, profiles(full_name, address), waste_types(name)").order("created_at",{ascending:!1});if(i){_(i);let a=i.map(a=>({id:a.id,date:new Date(a.created_at).toLocaleDateString("id-ID"),user:a.profiles?.full_name||"Tanpa Nama",area:a.profiles?.address||"Belum ada alamat",type:a.waste_types?.name||"Umum",weight:a.weight,weightLabel:`${a.weight} kg`,status:a.status,driver:a.driver_name||"-",price:a.total_price}));ab(a);let b=i.reduce((a,b)=>a+(b.total_price||0),0);aj({income:b,expense:.3*b})}}catch(a){console.error("Error fetching data:",a)}finally{L(!1)}},ay=async()=>{await J.auth.signOut(),a.push("/login")},az=async a=>{if(!a||0===a.length)return void I.default.fire("Info","Tidak ada data untuk diexport","info");let b=a.map(a=>({Tanggal:a.date||"-",User:a.user||"-",Wilayah:a.area||"-",Berat:a.weightLabel||"-",Driver:a.driver||"-",Status:a.status}));await (0,H.exportToExcel)(b,"laporan_admin")?I.default.fire("Sukses","Laporan berhasil diexport ke CSV!","success"):I.default.fire("Gagal","Gagal export laporan","error")},aA=async a=>{if(!window.snap)return void I.default.fire("Loading","Sistem pembayaran sedang dimuat, coba sesaat lagi.","info");try{let b=prompt("Masukkan Snap Token (Didapat dari Backend Anda):","Masukan_Token_Disini");b&&"Masukan_Token_Disini"!==b?window.snap.pay(b,{onSuccess:async function(b){I.default.fire("Berhasil","Pembayaran Berhasil!","success"),await J.from("transactions").update({status:"Done"}).eq("id",a.id),ax()},onPending:function(a){I.default.fire("Pending","Menunggu pembayaran!","info")},onError:function(a){I.default.fire("Gagal","Pembayaran gagal!","error")},onClose:function(){I.default.fire("Tutup","Anda menutup popup pembayaran.","warning")}}):I.default.fire("Mode Sandbox","Fitur Sandbox Aktif!\n\nUntuk memunculkan Popup Pembayaran Asli, Anda perlu:\n1. Membuat API Backend untuk generate 'Snap Token'.\n2. Memasukkan token tersebut ke fungsi window.snap.pay(token).","info")}catch(a){console.error(a),I.default.fire("Error","Gagal memproses pembayaran","error")}},aB=async a=>{a.preventDefault();try{let a;if("driver"===aq){let b,c={name:au.name,vehicle:au.vehicle,shift:au.shift,status:au.status};if(as)b=J.from("drivers").update(c).eq("id",as.id);else{if(!au.userId)throw Error("Pilih user terlebih dahulu!");b=J.from("drivers").insert([{...c,id:au.userId}])}({error:a}=await b)}else if("area"===aq){let b={kelurahan:au.kelurahan,rw:au.rw,rt:au.rt,driver_id:au.driverId||null},c=as?J.from("areas").update(b).eq("id",as.id):J.from("areas").insert([b]);({error:a}=await c)}else"user"===aq?{error:a}=await J.from("profiles").update({full_name:au.name,role:au.role,alamat:au.region,rt:au.rt,rw:au.rw}).eq("id",as.id):"pickup"===aq&&({error:a}=await J.from("transactions").update({status:au.status,driver_name:au.driver}).eq("id",as.id));if(a)throw a;I.default.fire("Sukses","Data berhasil disimpan!","success"),ap(!1),ax()}catch(a){I.default.fire("Error","Gagal: "+a.message,"error")}},aC=async(a,b)=>{if((await I.default.fire({title:"Hapus data ini?",text:"Data yang dihapus tidak dapat dikembalikan!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#d33",cancelButtonColor:"#3085d6",confirmButtonText:"Ya, Hapus!"})).isConfirmed)try{let c="driver"===b?"drivers":"area"===b?"areas":"notif"===b?"notifications":"";c&&await J.from(c).delete().eq("id",a),"notif"===b?ad(b=>b.filter(b=>b.id!==a)):ax(),I.default.fire("Terhapus!","Data berhasil dihapus.","success")}catch(a){I.default.fire("Error",a.message,"error")}},aD=async()=>{try{await J.from("app_settings").update({tariff_per_kg:am.tariff,operational_start:am.opStart,operational_end:am.opEnd,email_notification:am.emailNotif}).eq("id",1),await J.from("notifications").insert([{title:"Pengaturan Diubah",message:`Tarif baru: Rp ${am.tariff}`,type:"info"}]),I.default.fire("Sukses","Pengaturan sistem berhasil disimpan!","success"),ax()}catch(a){I.default.fire("Error",a.message,"error")}},aE=async a=>{a.preventDefault();try{await J.from("profiles").update({full_name:S.full_name,alamat:S.alamat}).eq("id",S.id),S.newPassword?.length>=6&&await J.auth.updateUser({password:S.newPassword}),I.default.fire("Sukses","Profil Admin berhasil diperbarui!","success")}catch(a){I.default.fire("Error",a.message,"error")}},aF=async a=>{let b=a.target.files[0];if(b)try{I.default.fire({title:"Mengupload...",text:"Mohon tunggu sebentar",allowOutsideClick:!1,didOpen:()=>I.default.showLoading()});let a=await (0,H.uploadAvatar)(b,S.id);if(!a)throw Error("Gagal mendapatkan URL gambar.");let{error:c}=await J.from("profiles").update({avatar_url:a}).eq("id",S.id);if(c)throw c;T(b=>({...b,avatar_url:a})),I.default.fire("Sukses","Foto profil berhasil diperbarui!","success")}catch(a){console.error(a),I.default.fire("Error","Gagal upload foto: "+a.message,"error")}},aG=async a=>{await J.from("notifications").update({is_read:!0}).eq("id",a),ad(b=>b.map(b=>b.id===a?{...b,is_read:!0}:b))},aH=async(a,b)=>{try{let{error:c}=await J.from("drivers").update({verification_status:b}).eq("id",a);if(c)throw c;X(c=>c.map(c=>c.id===a?{...c,verification_status:b}:c)),I.default.fire("Sukses",`Status driver berhasil diubah menjadi ${b}`,"success")}catch(a){I.default.fire("Error","Gagal update status verifikasi: "+a.message,"error")}},aI=a=>new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0}).format(a),aJ=ac.filter(a=>!a.is_read).length,aK=(a,b=null)=>{ar(a),at(b),ap(!0),b?"area"===a?av({...b,driverId:b.driver_id}):"user"===a?av({name:b.full_name,role:b.role,region:b.alamat,...b}):av({...b}):"driver"===a?av({status:"Off Duty",shift:"Shift 1 (08:00 - 12:00)"}):av({})};return K&&!e?(0,b.jsxs)("div",{className:"min-h-screen flex justify-center items-center text-gray-800 font-bold bg-gray-50",children:[(0,b.jsx)(D.Loader2,{className:"animate-spin mr-2"})," Memuat Sistem Admin..."]}):(0,b.jsxs)("div",{className:"min-h-screen bg-gray-50 flex font-sans text-gray-800",children:[(0,b.jsxs)("aside",{className:`hidden md:flex flex-col bg-white border-r border-gray-200 fixed h-full z-20 transition-all duration-300 ${O?"w-64":"w-20"}`,children:[(0,b.jsxs)("div",{className:"h-20 flex items-center justify-between px-4 border-b border-gray-100",children:[(0,b.jsx)("div",{className:`flex items-center gap-3 transition-all duration-300 ${!O?"justify-center w-full px-0":"px-0"}`,children:O?(0,b.jsxs)("div",{className:"flex flex-col animate-in fade-in slide-in-from-left duration-300",children:[(0,b.jsx)("img",{src:"/images/logo.png",alt:"RecycleYuk",className:"w-36 h-auto object-contain mb-1"}),(0,b.jsx)("span",{className:"text-[10px] font-bold text-green-600 tracking-[0.2em] uppercase pl-1",children:"Admin Panel"})]}):(0,b.jsxs)("button",{onClick:()=>P(!0),className:"mx-auto relative group",children:[(0,b.jsx)("img",{src:"/images/mini-logo.png",alt:"RecycleYuk",className:"w-10 h-10 object-contain transition-transform group-hover:scale-110"}),(0,b.jsx)("div",{className:"absolute -right-2 -bottom-2 bg-green-100 text-green-600 rounded-full p-0.5 shadow-sm border border-white",children:(0,b.jsx)(v.ChevronRight,{size:12})})]})}),O&&(0,b.jsx)("button",{onClick:()=>P(!1),className:"p-2 rounded-lg hover:bg-gray-100 text-gray-500",children:(0,b.jsx)(u.ChevronLeft,{size:20})})]}),(0,b.jsx)("nav",{className:"flex-1 p-3 space-y-2 overflow-y-auto overflow-x-hidden",children:aw.map(a=>(0,b.jsxs)("button",{onClick:()=>R(a.id),className:`w-full flex items-center rounded-xl font-medium transition-all duration-200 h-12 ${Q===a.id?"bg-green-50 text-green-700 shadow-sm border border-green-100":"text-gray-600 hover:bg-gray-50 hover:text-green-600"} ${O?"px-4 gap-3 justify-start":"justify-center px-0"}`,children:[(0,b.jsx)(a.icon,{size:22,className:`min-w-[22px] ${Q===a.id?"text-green-600":"text-gray-400"}`})," ",O&&(0,b.jsx)("span",{className:"whitespace-nowrap overflow-hidden",children:a.label})]},a.id))}),(0,b.jsx)("div",{className:"p-4 border-t border-gray-100",children:(0,b.jsxs)("button",{onClick:ay,className:`w-full flex items-center rounded-xl font-medium text-red-600 hover:bg-red-50 transition-all h-12 ${O?"px-4 gap-3 justify-start":"justify-center px-0"}`,children:[(0,b.jsx)(y.LogOut,{size:22,className:"min-w-[22px]"})," ",O&&"Keluar"]})})]}),(0,b.jsx)("main",{className:`flex-1 p-4 md:p-8 overflow-y-auto transition-all duration-300 ${O?"md:ml-64":"md:ml-20"}`,children:(0,b.jsxs)("div",{className:"max-w-6xl mx-auto",children:[(0,b.jsxs)("header",{className:"flex flex-col md:flex-row justify-between items-start md:items-center mb-8 gap-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h2",{className:"text-2xl font-bold capitalize text-gray-800",children:"dashboard"===Q?"Ringkasan":Q.replace("-"," ")}),(0,b.jsx)("p",{className:"text-gray-500 text-sm",children:"Panel Kontrol Administrator"})]}),(0,b.jsxs)("div",{className:"flex items-center gap-4",children:[(0,b.jsxs)("div",{className:"hidden md:flex text-sm font-medium text-gray-500 bg-white px-3 py-2 rounded-lg border border-gray-200 items-center gap-2 shadow-sm",children:[(0,b.jsx)(w.Clock,{size:16,className:"text-green-600"})," ",e?M:"..."]}),(0,b.jsxs)("div",{className:"flex items-center gap-3 bg-white p-1 rounded-xl border border-gray-200 shadow-sm",children:[(0,b.jsxs)("button",{onClick:()=>R("notifikasi"),className:"p-2 rounded-lg hover:bg-gray-100 relative text-gray-600 group transition",children:[(0,b.jsx)(n.Bell,{size:20,className:"group-hover:text-green-600"}),aJ>0&&(0,b.jsx)("span",{className:"absolute top-2 right-2 w-2 h-2 bg-red-500 rounded-full border border-white animate-pulse"})]}),(0,b.jsx)("div",{className:"w-px h-6 bg-gray-200"}),(0,b.jsxs)("button",{onClick:()=>R("profile"),className:"flex items-center gap-3 pl-2 pr-3 py-1 rounded-lg hover:bg-gray-50 transition",children:[(0,b.jsx)("div",{className:"w-8 h-8 rounded-full bg-green-100 flex items-center justify-center text-green-700 font-bold border border-green-200 overflow-hidden",children:S?.avatar_url?(0,b.jsx)("img",{src:S.avatar_url,alt:"Profile",className:"w-full h-full object-cover"}):S?.full_name?.charAt(0)||"A"}),(0,b.jsxs)("div",{className:"text-left hidden md:block",children:[(0,b.jsx)("p",{className:"text-xs font-bold text-gray-800 line-clamp-1 max-w-[100px]",children:S?.full_name||"Admin"}),(0,b.jsx)("p",{className:"text-0 text-gray-500",children:"Administrator"})]})]})]})]})]}),(()=>{switch(Q){case"dashboard":return(0,b.jsxs)("div",{className:"space-y-6 animate-in fade-in text-gray-800",children:[(0,b.jsxs)("div",{className:"bg-gradient-to-r from-green-600 to-emerald-600 rounded-xl shadow-lg p-8 text-white relative overflow-hidden",children:[(0,b.jsxs)("div",{className:"relative z-10",children:[(0,b.jsx)("h2",{className:"text-3xl font-bold mb-2",children:"Dashboard Admin ðŸ‘‹"}),(0,b.jsx)("p",{children:"Ringkasan aktivitas sistem RecycleYuk hari ini."})]}),(0,b.jsx)("div",{className:"absolute right-0 top-0 h-full w-1/3 bg-white/10 skew-x-12"})]}),(0,b.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[{l:"Total User",v:U.length,i:g.Users,c:"blue"},{l:"Pickup Aktif",v:aa.filter(a=>"Done"!==a.status).length,i:h.Truck,c:"green"},{l:"Laporan Baru",v:ac.filter(a=>!a.is_read).length,i:n.Bell,c:"red"},{l:"Pendapatan",v:aI(ai.income),i:k.Wallet,c:"purple"}].map((a,c)=>(0,b.jsxs)("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-200 flex justify-between items-center hover:shadow-md transition",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-gray-500 text-sm font-medium",children:a.l}),(0,b.jsx)("h3",{className:"text-2xl font-bold text-gray-800",children:a.v})]}),(0,b.jsx)("div",{className:`bg-${a.c}-50 p-3 rounded-lg text-${a.c}-600`,children:(0,b.jsx)(a.i,{size:28})})]},c))}),(0,b.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[(0,b.jsxs)("div",{className:"lg:col-span-2 bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden",children:[(0,b.jsxs)("div",{className:"p-6 border-b border-gray-100 flex justify-between items-center",children:[(0,b.jsxs)("h3",{className:"font-bold text-gray-800 flex items-center gap-2",children:[(0,b.jsx)(w.Clock,{size:18,className:"text-blue-500"})," Aktivitas Terbaru"]}),(0,b.jsx)("button",{onClick:()=>R("reports"),className:"text-sm text-blue-600 hover:underline",children:"Lihat Semua"})]}),(0,b.jsxs)("div",{className:"divide-y divide-gray-100",children:[$.slice(0,5).map(a=>(0,b.jsxs)("div",{className:"p-4 hover:bg-gray-50 transition flex items-center gap-4",children:[(0,b.jsx)("div",{className:`p-2 rounded-full ${"Done"===a.status?"bg-green-100 text-green-600":"Process"===a.status?"bg-blue-100 text-blue-600":"bg-yellow-100 text-yellow-600"}`,children:"Done"===a.status?(0,b.jsx)(G.CheckCircle2,{size:18}):"Process"===a.status?(0,b.jsx)(h.Truck,{size:18}):(0,b.jsx)(w.Clock,{size:18})}),(0,b.jsxs)("div",{className:"flex-1",children:[(0,b.jsx)("p",{className:"text-sm font-bold text-gray-800",children:"Pending"===a.status?"Permintaan Pickup Baru":"Process"===a.status?"Sedang Dijemput":"Pickup Selesai"}),(0,b.jsxs)("p",{className:"text-xs text-gray-500",children:[a.profiles?.full_name," â€¢ ",a.waste_types?.name," (",a.weight," kg)"]})]}),(0,b.jsx)("div",{className:"text-right",children:(0,b.jsx)("span",{className:"text-xs font-medium text-gray-400",children:new Date(a.created_at).toLocaleTimeString("id-ID",{hour:"2-digit",minute:"2-digit"})})})]},a.id)),0===$.length&&(0,b.jsx)("div",{className:"p-8 text-center text-gray-400",children:"Belum ada aktivitas"})]})]}),(0,b.jsxs)("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[(0,b.jsxs)("h3",{className:"font-bold text-gray-800 mb-4 flex items-center gap-2",children:[(0,b.jsx)(E.PlayCircle,{size:18,className:"text-green-500"})," Quick Actions"]}),(0,b.jsxs)("div",{className:"space-y-3",children:[(0,b.jsxs)("button",{onClick:()=>aK("driver"),className:"w-full flex items-center gap-3 p-3 bg-gray-50 hover:bg-green-50 hover:text-green-700 rounded-xl transition border border-gray-100",children:[(0,b.jsx)("div",{className:"bg-green-100 p-2 rounded-lg text-green-700",children:(0,b.jsx)(h.Truck,{size:18})}),(0,b.jsx)("span",{className:"font-medium text-sm",children:"Tambah Driver Baru"})]}),(0,b.jsxs)("button",{onClick:()=>aK("area"),className:"w-full flex items-center gap-3 p-3 bg-gray-50 hover:bg-blue-50 hover:text-blue-700 rounded-xl transition border border-gray-100",children:[(0,b.jsx)("div",{className:"bg-blue-100 p-2 rounded-lg text-blue-700",children:(0,b.jsx)(i.MapPin,{size:18})}),(0,b.jsx)("span",{className:"font-medium text-sm",children:"Tambah Wilayah"})]}),(0,b.jsxs)("button",{onClick:()=>R("pickups"),className:"w-full flex items-center gap-3 p-3 bg-gray-50 hover:bg-orange-50 hover:text-orange-700 rounded-xl transition border border-gray-100",children:[(0,b.jsx)("div",{className:"bg-orange-100 p-2 rounded-lg text-orange-700",children:(0,b.jsx)(r.Trash2,{size:18})}),(0,b.jsx)("span",{className:"font-medium text-sm",children:"Kelola Pickup"})]}),(0,b.jsxs)("button",{onClick:()=>R("settings"),className:"w-full flex items-center gap-3 p-3 bg-gray-50 hover:bg-purple-50 hover:text-purple-700 rounded-xl transition border border-gray-100",children:[(0,b.jsx)("div",{className:"bg-purple-100 p-2 rounded-lg text-purple-700",children:(0,b.jsx)(m,{size:18})}),(0,b.jsx)("span",{className:"font-medium text-sm",children:"Pengaturan Tarif"})]})]})]})]}),(0,b.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,b.jsxs)("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-200",children:[(0,b.jsxs)("h3",{className:"font-bold text-lg mb-4 text-gray-800 flex items-center gap-2",children:[(0,b.jsx)(j.FileText,{size:20})," Aktivitas Terbaru"]}),(0,b.jsx)("div",{className:"overflow-x-auto",children:(0,b.jsxs)("table",{className:"w-full text-sm text-left",children:[(0,b.jsx)("thead",{className:"bg-gray-50 text-gray-500",children:(0,b.jsxs)("tr",{children:[(0,b.jsx)("th",{className:"p-3",children:"User"}),(0,b.jsx)("th",{className:"p-3",children:"Berat"}),(0,b.jsx)("th",{className:"p-3",children:"Status"})]})}),(0,b.jsx)("tbody",{children:aa.slice(0,5).map(a=>(0,b.jsxs)("tr",{className:"border-b hover:bg-gray-50",children:[(0,b.jsx)("td",{className:"p-3 font-medium text-gray-800",children:a.user}),(0,b.jsx)("td",{className:"p-3 text-gray-600",children:a.weightLabel}),(0,b.jsx)("td",{className:"p-3",children:(0,b.jsx)("span",{className:`px-2 py-1 rounded text-xs font-bold ${"Done"===a.status?"bg-green-100 text-green-700":"bg-yellow-100 text-yellow-700"}`,children:a.status})})]},a.id))})]})})]}),(0,b.jsxs)("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-200",children:[(0,b.jsxs)("h3",{className:"font-bold text-lg mb-4 text-gray-800 flex items-center gap-2",children:[(0,b.jsx)(i.MapPin,{size:20})," Status Driver"]}),(0,b.jsx)("div",{className:"space-y-3 max-h-[300px] overflow-y-auto pr-2",children:W.map(a=>(0,b.jsxs)("div",{className:"flex justify-between items-center p-3 bg-gray-50 rounded-lg border border-gray-100",children:[(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)("div",{className:"w-10 h-10 bg-gray-200 rounded-full flex items-center justify-center font-bold text-gray-500",children:a.name.charAt(0)}),(0,b.jsxs)("div",{children:[(0,b.jsx)("span",{className:"font-bold text-gray-800",children:a.name}),(0,b.jsx)("br",{}),(0,b.jsx)("span",{className:"text-xs text-gray-500",children:a.vehicle})]})]}),(0,b.jsx)("span",{className:`px-2 py-1 rounded text-xs font-bold ${"On Duty"===a.status?"bg-green-100 text-green-700":"bg-gray-200 text-gray-600"}`,children:a.status})]},a.id))})]})]})]});case"users":return(0,b.jsxs)("div",{className:"space-y-6 animate-in slide-in-from-right",children:[(0,b.jsx)("div",{className:"flex justify-between items-center bg-white p-4 rounded-xl shadow-sm border border-gray-200",children:(0,b.jsxs)("div",{className:"flex items-center gap-2 bg-gray-50 px-3 py-2 rounded-lg border border-gray-200 w-full max-w-md",children:[(0,b.jsx)(o.Search,{className:"text-gray-400",size:18}),(0,b.jsx)("input",{type:"text",placeholder:"Cari user...",className:"w-full outline-none text-sm bg-transparent text-gray-800",value:ae,onChange:a=>af(a.target.value)})]})}),(0,b.jsx)("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden",children:(0,b.jsxs)("table",{className:"w-full text-left text-sm text-gray-800",children:[(0,b.jsx)("thead",{className:"bg-gray-50 text-gray-600 border-b",children:(0,b.jsxs)("tr",{children:[(0,b.jsx)("th",{className:"p-4",children:"Nama User"}),(0,b.jsx)("th",{className:"p-4",children:"Role"}),(0,b.jsx)("th",{className:"p-4",children:"Alamat"}),(0,b.jsx)("th",{className:"p-4 text-right",children:"Aksi"})]})}),(0,b.jsx)("tbody",{children:U.filter(a=>(a.full_name||"").toLowerCase().includes(ae.toLowerCase())).map(a=>(0,b.jsxs)("tr",{className:"border-b hover:bg-gray-50",children:[(0,b.jsxs)("td",{className:"p-4",children:[(0,b.jsx)("div",{className:"font-bold",children:a.full_name||"Tanpa Nama"}),(0,b.jsx)("div",{className:"text-xs text-gray-500",children:a.email})]}),(0,b.jsx)("td",{className:"p-4",children:(0,b.jsx)("span",{className:"bg-gray-100 px-2 py-1 rounded uppercase text-xs font-bold text-gray-700",children:a.role})}),(0,b.jsxs)("td",{className:"p-4 text-gray-600",children:[(0,b.jsx)("div",{children:a.alamat||"-"}),(a.rt||a.rw)&&(0,b.jsxs)("div",{className:"text-xs text-green-600 font-bold mt-1",children:["RT ",a.rt," / RW ",a.rw]})]}),(0,b.jsxs)("td",{className:"p-4 text-right",children:[(0,b.jsx)("button",{onClick:()=>aK("user",a),className:"text-blue-600 hover:bg-blue-50 p-2 rounded transition",children:(0,b.jsx)(q,{size:16})}),!W.some(b=>b.id===a.id)&&(0,b.jsx)("button",{onClick:()=>{ar("driver"),at(null),ap(!0),av({userId:a.id,name:a.full_name,status:"Off Duty",shift:"Shift 1 (08:00 - 12:00)"})},className:"ml-2 text-green-600 hover:bg-green-50 p-2 rounded transition",title:"Promote to Driver",children:(0,b.jsx)(h.Truck,{size:16})})]})]},a.id))})]})})]});case"drivers":return(0,b.jsxs)("div",{className:"space-y-6 animate-in slide-in-from-right",children:[(0,b.jsxs)("div",{className:"flex justify-between items-center bg-white p-4 rounded-xl shadow-sm border border-gray-200",children:[(0,b.jsx)("h3",{className:"font-bold text-lg text-gray-800",children:"List Driver"}),(0,b.jsxs)("button",{onClick:()=>aK("driver"),className:"bg-green-600 text-white px-4 py-2 rounded-lg font-bold flex gap-2 hover:bg-green-700",children:[(0,b.jsx)(p,{size:18})," Tambah Driver"]})]}),(0,b.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:W.map(a=>(0,b.jsxs)("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-200 relative group hover:shadow-md transition",children:[(0,b.jsxs)("div",{className:"absolute top-4 right-4 flex gap-1 opacity-100 transition-opacity",children:[(0,b.jsx)("button",{onClick:()=>aK("driver",a),className:"p-2 bg-blue-50 text-blue-600 rounded-lg hover:bg-blue-100",children:(0,b.jsx)(q,{size:16})}),(0,b.jsx)("button",{onClick:()=>aC(a.id,"driver"),className:"p-2 bg-red-50 text-red-600 rounded-lg hover:bg-red-100",children:(0,b.jsx)(r.Trash2,{size:16})})]}),(0,b.jsxs)("div",{className:"flex items-center gap-4 mb-4",children:[(0,b.jsx)("div",{className:"w-14 h-14 bg-gray-100 rounded-full flex items-center justify-center text-xl font-bold text-gray-500",children:a.name.charAt(0)}),(0,b.jsxs)("div",{children:[(0,b.jsx)("h4",{className:"font-bold text-lg text-gray-800",children:a.name}),(0,b.jsx)("p",{className:"text-sm text-gray-500",children:a.vehicle}),(0,b.jsx)("div",{className:`text-xs px-2 py-0.5 rounded-full w-fit mt-1 font-bold ${"verified"===a.verification_status?"bg-green-100 text-green-700":"bg-yellow-100 text-yellow-700"}`,children:"verified"===a.verification_status?"Terverifikasi":"rejected"===a.verification_status?"Ditolak":"Menunggu Verifikasi"})]})]}),"verified"!==a.verification_status&&(0,b.jsxs)("div",{className:"flex gap-2 mb-4",children:[(0,b.jsx)("button",{onClick:()=>aH(a.id,"verified"),className:"flex-1 bg-green-600 text-white py-2 rounded-lg text-xs font-bold hover:bg-green-700",children:"Verifikasi"}),"rejected"!==a.verification_status&&(0,b.jsx)("button",{onClick:()=>aH(a.id,"rejected"),className:"flex-1 bg-red-50 text-red-600 border border-red-200 py-2 rounded-lg text-xs font-bold hover:bg-red-100",children:"Tolak"})]}),(0,b.jsxs)("div",{className:"flex justify-between items-center text-sm border-t pt-3 border-gray-100",children:[(0,b.jsx)("span",{className:"bg-gray-100 px-3 py-1 rounded-full text-gray-600 font-medium",children:a.shift}),(0,b.jsx)("span",{className:`px-3 py-1 rounded-full font-bold ${"On Duty"===a.status?"bg-green-100 text-green-700":"bg-red-50 text-red-600"}`,children:a.status})]})]},a.id))})]});case"pickups":return(0,b.jsxs)("div",{className:"space-y-6 animate-in slide-in-from-right",children:[(0,b.jsxs)("div",{className:"flex justify-between items-center bg-white p-4 rounded-xl shadow-sm border border-gray-200",children:[(0,b.jsx)("h3",{className:"font-bold text-lg text-gray-800",children:"Manajemen Pengangkutan"}),(0,b.jsx)("div",{className:"flex gap-2",children:(0,b.jsxs)("select",{className:"border p-2 rounded-lg text-sm text-gray-800 bg-gray-50 outline-none",onChange:a=>ah(a.target.value),children:[(0,b.jsx)("option",{value:"All",children:"Semua Status"}),(0,b.jsx)("option",{value:"Pending",children:"Pending"}),(0,b.jsx)("option",{value:"Done",children:"Selesai"})]})})]}),(0,b.jsx)("div",{className:"space-y-4",children:aa.filter(a=>"All"===ag||a.status===ag).map(a=>(0,b.jsxs)("div",{className:"bg-white p-5 rounded-xl shadow-sm border border-gray-200 flex flex-col md:flex-row justify-between items-center gap-4 hover:shadow-md transition",children:[(0,b.jsxs)("div",{className:"flex-1",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2 mb-1",children:[(0,b.jsx)("span",{className:"font-bold text-lg text-gray-800",children:a.area}),(0,b.jsx)("span",{className:"text-xs text-gray-500 bg-gray-100 px-2 py-0.5 rounded-full",children:a.date})]}),(0,b.jsxs)("p",{className:"text-sm text-gray-600",children:[a.user," â€¢ ",(0,b.jsx)("span",{className:"font-bold",children:a.weightLabel})," â€¢ ",aI(a.price)]}),(0,b.jsxs)("div",{className:"flex items-center gap-2 mt-2 text-sm text-green-700 bg-green-50 w-fit px-3 py-1 rounded-lg",children:[(0,b.jsx)(h.Truck,{size:14})," Driver: ",(0,b.jsx)("span",{className:"font-bold",children:a.driver})]})]}),(0,b.jsxs)("div",{className:"flex flex-col md:flex-row items-center gap-3 w-full md:w-auto",children:[(0,b.jsx)("span",{className:`px-3 py-1 rounded-full text-xs font-bold ${"Done"===a.status?"bg-green-100 text-green-700":"bg-yellow-100 text-yellow-700"}`,children:a.status}),"Done"!==a.status&&(0,b.jsxs)("button",{onClick:()=>aA(a),className:"text-sm bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 font-bold flex items-center gap-2 w-full md:w-auto",children:[(0,b.jsx)(F.CreditCard,{size:16})," Bayar (Midtrans)"]}),(0,b.jsx)("button",{onClick:()=>aK("pickup",a),className:"text-sm bg-white border border-gray-300 px-4 py-2 rounded-lg hover:bg-gray-50 font-medium w-full md:w-auto",children:"Update Status"})]})]},a.id))})]});case"areas":return(0,b.jsxs)("div",{className:"space-y-6 animate-in slide-in-from-right",children:[(0,b.jsxs)("div",{className:"flex justify-between items-center bg-white p-4 rounded-xl shadow-sm border border-gray-200",children:[(0,b.jsx)("h3",{className:"font-bold text-lg text-gray-800",children:"Data Wilayah"}),(0,b.jsxs)("button",{onClick:()=>aK("area"),className:"bg-green-600 text-white px-4 py-2 rounded-lg font-bold flex gap-2 hover:bg-green-700",children:[(0,b.jsx)(p,{size:18})," Tambah Wilayah"]})]}),(0,b.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:Y.map(a=>(0,b.jsxs)("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-200 relative group hover:shadow-md transition",children:[(0,b.jsxs)("div",{className:"absolute top-4 right-4 flex gap-1",children:[(0,b.jsx)("button",{onClick:()=>aK("area",a),className:"p-1.5 text-blue-600 hover:bg-blue-50 rounded",children:(0,b.jsx)(q,{size:16})}),(0,b.jsx)("button",{onClick:()=>aC(a.id,"area"),className:"p-1.5 text-red-600 hover:bg-red-50 rounded",children:(0,b.jsx)(r.Trash2,{size:16})})]}),(0,b.jsx)("h4",{className:"font-bold text-xl mb-1 text-gray-800",children:a.kelurahan}),(0,b.jsxs)("div",{className:"flex gap-2 text-sm text-gray-600 mb-4",children:[(0,b.jsxs)("span",{className:"bg-gray-100 px-2 py-1 rounded",children:["RW: ",a.rw]}),(0,b.jsxs)("span",{className:"bg-gray-100 px-2 py-1 rounded",children:["RT: ",a.rt]})]}),(0,b.jsxs)("div",{className:"pt-4 border-t border-gray-100 text-sm",children:[(0,b.jsx)("p",{className:"text-gray-400 text-xs uppercase font-bold mb-1",children:"Penanggung Jawab"}),(0,b.jsxs)("p",{className:"font-bold text-gray-800 flex items-center gap-2",children:[(0,b.jsx)(h.Truck,{size:16,className:"text-green-600"})," ",a.drivers?.name||(0,b.jsx)("span",{className:"text-red-500 italic",children:"Belum assign"})]})]})]},a.id))})]});case"reports":let a;return a=aa.filter(a=>{let b="All"===ak.status||a.status===ak.status,c=!ak.date||a.date.includes(new Date(ak.date).toLocaleDateString("id-ID"));return b&&c}),(0,b.jsxs)("div",{className:"space-y-6 animate-in slide-in-from-right",children:[(0,b.jsxs)("div",{className:"flex flex-col md:flex-row justify-between bg-white p-4 rounded-xl shadow-sm border border-gray-200 gap-4 items-center",children:[(0,b.jsxs)("div",{className:"flex gap-4 items-center w-full",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2 border p-2 rounded-lg bg-gray-50 w-full md:w-auto",children:[(0,b.jsx)(m,{size:18,className:"text-gray-500"}),(0,b.jsx)("input",{type:"date",className:"bg-transparent text-sm outline-none text-gray-800 w-full",value:ak.date,onChange:a=>al({...ak,date:a.target.value})})]}),(0,b.jsxs)("select",{className:"bg-gray-50 border p-2 rounded-lg text-sm text-gray-800 outline-none",value:ak.status,onChange:a=>al({...ak,status:a.target.value}),children:[(0,b.jsx)("option",{value:"All",children:"Semua Status"}),(0,b.jsx)("option",{value:"Done",children:"Selesai"}),(0,b.jsx)("option",{value:"Pending",children:"Pending"})]})]}),(0,b.jsxs)("button",{onClick:()=>az(a),className:"bg-green-600 text-white px-4 py-2 rounded-lg text-sm flex gap-2 items-center hover:bg-green-700 font-bold",children:[(0,b.jsx)(A.Download,{size:16})," Export Excel"]})]}),(0,b.jsxs)("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden",children:[(0,b.jsx)("div",{className:"p-4 border-b bg-gray-50 font-bold text-gray-700",children:"Laporan Pengangkutan"}),(0,b.jsxs)("table",{className:"w-full text-left text-sm text-gray-800",children:[(0,b.jsx)("thead",{children:(0,b.jsxs)("tr",{className:"border-b",children:[(0,b.jsx)("th",{className:"p-4",children:"Tanggal"}),(0,b.jsx)("th",{className:"p-4",children:"User / Wilayah"}),(0,b.jsx)("th",{className:"p-4",children:"Berat"}),(0,b.jsx)("th",{className:"p-4",children:"Driver"}),(0,b.jsx)("th",{className:"p-4",children:"Status"})]})}),(0,b.jsx)("tbody",{children:a.length>0?a.map(a=>(0,b.jsxs)("tr",{className:"border-b hover:bg-gray-50",children:[(0,b.jsx)("td",{className:"p-4",children:a.date}),(0,b.jsxs)("td",{className:"p-4 font-medium",children:[a.user,(0,b.jsx)("br",{}),(0,b.jsx)("span",{className:"text-xs text-gray-500 font-normal",children:a.area})]}),(0,b.jsx)("td",{className:"p-4 font-bold",children:a.weightLabel}),(0,b.jsx)("td",{className:"p-4",children:a.driver}),(0,b.jsx)("td",{className:"p-4",children:(0,b.jsx)("span",{className:`px-2 py-1 rounded text-xs font-bold ${"Done"===a.status?"bg-green-100 text-green-700":"bg-yellow-100 text-yellow-700"}`,children:a.status})})]},a.id)):(0,b.jsx)("tr",{children:(0,b.jsx)("td",{colSpan:"5",className:"p-8 text-center text-gray-400",children:"Data tidak ditemukan."})})})]})]})]});case"finance":return(0,b.jsxs)("div",{className:"space-y-6 animate-in slide-in-from-right",children:[(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,b.jsxs)("div",{className:"bg-green-50 p-6 rounded-xl border border-green-200 shadow-sm",children:[(0,b.jsx)("p",{className:"text-green-800 font-medium mb-1",children:"Total Pemasukan"}),(0,b.jsx)("h3",{className:"text-3xl font-bold text-green-900",children:aI(ai.income)}),(0,b.jsxs)("p",{className:"text-xs text-green-600 mt-2 flex items-center gap-1",children:[(0,b.jsx)(s.CheckCircle,{size:12})," Dari transaksi selesai"]})]}),(0,b.jsxs)("div",{className:"bg-red-50 p-6 rounded-xl border border-red-200 shadow-sm",children:[(0,b.jsx)("p",{className:"text-red-800 font-medium mb-1",children:"Estimasi Pengeluaran (30%)"}),(0,b.jsx)("h3",{className:"text-3xl font-bold text-red-900",children:aI(ai.expense)}),(0,b.jsxs)("p",{className:"text-xs text-red-600 mt-2 flex items-center gap-1",children:[(0,b.jsx)(C.AlertCircle,{size:12})," Biaya operasional & gaji"]})]})]}),(0,b.jsxs)("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden",children:[(0,b.jsx)("div",{className:"p-4 bg-gray-50 font-bold border-b text-gray-700",children:"Rincian Transaksi"}),(0,b.jsx)("table",{className:"w-full text-left text-sm text-gray-800",children:(0,b.jsx)("tbody",{children:$.slice(0,10).map(a=>(0,b.jsxs)("tr",{className:"border-b hover:bg-gray-50",children:[(0,b.jsxs)("td",{className:"p-4",children:[(0,b.jsx)("span",{className:"font-bold",children:"Retribusi Sampah"}),(0,b.jsx)("br",{}),(0,b.jsx)("span",{className:"text-xs text-gray-500",children:new Date(a.created_at).toLocaleDateString()})]}),(0,b.jsxs)("td",{className:"p-4 font-bold text-green-600 text-right",children:["+ ",aI(a.total_price)]})]},a.id))})})]})]});case"settings":return(0,b.jsx)("div",{className:"max-w-4xl mx-auto space-y-6 animate-in slide-in-from-right text-gray-800",children:(0,b.jsxs)("div",{className:"bg-white p-8 rounded-xl shadow-sm border border-gray-200",children:[(0,b.jsxs)("h3",{className:"font-bold text-xl mb-6 flex items-center gap-2 text-gray-800",children:[(0,b.jsx)(m,{size:22})," Konfigurasi Sistem"]}),(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6",children:[(0,b.jsxs)("div",{className:"bg-gray-50 p-4 rounded-lg border border-gray-100",children:[(0,b.jsx)("label",{className:"block text-sm font-bold mb-2 text-gray-600",children:"Tarif Retribusi (Per Kg)"}),(0,b.jsxs)("div",{className:"flex items-center",children:[(0,b.jsx)("span",{className:"bg-gray-200 border border-r-0 rounded-l px-3 py-2 text-gray-600 font-bold",children:"Rp"}),(0,b.jsx)("input",{type:"number",className:"w-full border p-2 rounded-r text-gray-800 focus:ring-2 ring-green-500 outline-none",value:am.tariff,onChange:a=>an({...am,tariff:a.target.value})})]})]}),(0,b.jsxs)("div",{className:"bg-gray-50 p-4 rounded-lg border border-gray-100",children:[(0,b.jsx)("label",{className:"block text-sm font-bold mb-2 text-gray-600",children:"Notifikasi Email"}),(0,b.jsxs)("div",{className:"flex items-center justify-between bg-white p-2 rounded border",children:[(0,b.jsx)("span",{className:"text-sm font-medium ml-2",children:"Aktifkan notifikasi?"}),(0,b.jsx)("button",{onClick:()=>an({...am,emailNotif:!am.emailNotif}),className:`w-12 h-6 rounded-full relative transition-colors ${am.emailNotif?"bg-green-500":"bg-gray-300"}`,children:(0,b.jsx)("div",{className:`w-4 h-4 bg-white rounded-full absolute top-1 transition-all ${am.emailNotif?"right-1":"left-1"}`})})]})]})]}),(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-6 mb-8",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-bold mb-1 text-gray-600",children:"Jam Buka"}),(0,b.jsx)("input",{type:"time",className:"w-full border p-2 rounded bg-white text-gray-800",value:am.opStart,onChange:a=>an({...am,opStart:a.target.value})})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-bold mb-1 text-gray-600",children:"Jam Tutup"}),(0,b.jsx)("input",{type:"time",className:"w-full border p-2 rounded bg-white text-gray-800",value:am.opEnd,onChange:a=>an({...am,opEnd:a.target.value})})]})]}),(0,b.jsxs)("button",{onClick:aD,className:"w-full bg-green-600 text-white py-3 rounded-lg font-bold hover:bg-green-700 transition flex justify-center gap-2",children:[(0,b.jsx)(B,{size:18})," Simpan Pengaturan Sistem"]})]})});case"profile":return(0,b.jsx)("div",{className:"max-w-4xl mx-auto space-y-6 animate-in slide-in-from-right text-gray-800",children:(0,b.jsxs)("div",{className:"bg-white p-8 rounded-xl shadow-sm border border-gray-200",children:[(0,b.jsxs)("h3",{className:"font-bold text-xl mb-6 flex items-center gap-2 text-gray-800",children:[(0,b.jsx)(x.User,{size:22})," Edit Profil Admin"]}),(0,b.jsxs)("div",{className:"flex flex-col items-center mb-8",children:[(0,b.jsxs)("div",{className:"relative group cursor-pointer",onClick:()=>document.getElementById("admin-avatar-upload").click(),children:[(0,b.jsx)("div",{className:"w-24 h-24 rounded-full overflow-hidden border-4 border-green-100 shadow-sm",children:S?.avatar_url?(0,b.jsx)("img",{src:S.avatar_url,alt:"Profile",className:"w-full h-full object-cover"}):(0,b.jsx)("div",{className:"w-full h-full bg-green-100 flex items-center justify-center text-3xl font-bold text-green-600",children:S?.full_name?.charAt(0)||"A"})}),(0,b.jsx)("div",{className:"absolute inset-0 bg-black/40 rounded-full flex items-center justify-center opacity-0 group-hover:opacity-100 transition",children:(0,b.jsx)(q,{className:"text-white",size:20})})]}),(0,b.jsx)("input",{type:"file",id:"admin-avatar-upload",className:"hidden",accept:"image/*",onChange:aF}),(0,b.jsx)("p",{className:"text-xs text-gray-400 mt-2",children:"Klik foto untuk mengganti"})]}),(0,b.jsxs)("form",{onSubmit:aE,className:"space-y-5 max-w-xl mx-auto",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-bold mb-1 text-gray-600",children:"Email (Read Only)"}),(0,b.jsx)("input",{disabled:!0,className:"w-full border p-2 rounded bg-gray-100 text-gray-500 cursor-not-allowed",value:S?.email||""})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-bold mb-1 text-gray-600",children:"Nama Lengkap"}),(0,b.jsx)("input",{className:"w-full border p-2 rounded bg-white text-gray-800",value:S?.full_name||"",onChange:a=>T({...S,full_name:a.target.value})})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-bold mb-1 text-gray-600",children:"Alamat"}),(0,b.jsx)("textarea",{className:"w-full border p-2 rounded bg-white text-gray-800 h-24 resize-none",value:S?.alamat||"",onChange:a=>T({...S,alamat:a.target.value})})]}),(0,b.jsxs)("div",{className:"pt-4 border-t border-gray-100 mt-4",children:[(0,b.jsxs)("h4",{className:"font-bold text-sm mb-3 flex items-center gap-2 text-orange-600",children:[(0,b.jsx)(z,{size:16})," Keamanan Akun"]}),(0,b.jsx)("input",{type:"password",className:"w-full border p-2 rounded bg-white text-gray-800",placeholder:"Password Baru (Min 6 karakter, Kosongkan jika tidak ubah)",onChange:a=>T({...S,newPassword:a.target.value})})]}),(0,b.jsx)("button",{type:"submit",className:"bg-green-600 text-white px-6 py-2 rounded-lg font-bold hover:bg-green-700 transition mt-4 w-full",children:"Simpan Perubahan Profil"})]})]})});case"notifikasi":return(0,b.jsxs)("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6 animate-in slide-in-from-right max-w-3xl mx-auto text-gray-800",children:[(0,b.jsxs)("div",{className:"flex justify-between mb-4",children:[(0,b.jsx)("h3",{className:"font-bold text-xl",children:"Pusat Notifikasi"}),(0,b.jsxs)("span",{className:"text-xs bg-red-100 text-red-600 px-2 py-1 rounded-full font-bold",children:[aJ," Baru"]})]}),(0,b.jsx)("div",{className:"space-y-1",children:0===ac.length?(0,b.jsx)("div",{className:"text-center py-8 text-gray-400",children:"Tidak ada notifikasi."}):ac.map(a=>(0,b.jsxs)("div",{onClick:()=>aG(a.id),className:`p-4 border-b flex gap-4 cursor-pointer hover:bg-gray-50 transition ${!a.is_read?"bg-green-50":""}`,children:[(0,b.jsx)("div",{className:`p-2 rounded-full h-fit ${"info"===a.type?"bg-blue-100 text-blue-600":"bg-orange-100 text-orange-600"}`,children:(0,b.jsx)(n.Bell,{size:20})}),(0,b.jsxs)("div",{className:"flex-1",children:[(0,b.jsxs)("div",{className:"flex justify-between",children:[(0,b.jsx)("h4",{className:`font-bold text-sm ${!a.is_read?"text-green-800":"text-gray-700"}`,children:a.title}),(0,b.jsx)("span",{className:"text-xs text-gray-400",children:new Date(a.created_at).toLocaleString()})]}),(0,b.jsx)("p",{className:"text-sm text-gray-600 mt-1",children:a.message})]}),(0,b.jsx)("button",{onClick:b=>{b.stopPropagation(),aC(a.id,"notif")},className:"text-gray-400 hover:text-red-500",children:(0,b.jsx)(r.Trash2,{size:16})})]},a.id))})]});default:return(0,b.jsx)("div",{children:"Halaman tidak ditemukan"})}})()]})}),ao&&(0,b.jsx)("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-50 p-4 animate-in fade-in",children:(0,b.jsxs)("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-md p-6 overflow-y-auto max-h-[90vh]",children:[(0,b.jsxs)("div",{className:"flex justify-between items-center mb-6 border-b pb-4",children:[(0,b.jsx)("h3",{className:"text-xl font-bold text-gray-800",children:as?`Edit ${aq}`:`Tambah ${aq}`}),(0,b.jsx)("button",{onClick:()=>ap(!1),children:(0,b.jsx)(t.X,{className:"text-gray-400 hover:text-red-500"})})]}),(0,b.jsxs)("form",{onSubmit:aB,className:"space-y-4",children:["driver"===aq&&(0,b.jsxs)(b.Fragment,{children:[as?(0,b.jsx)("input",{className:"w-full border p-2 rounded bg-gray-100 text-gray-500 cursor-not-allowed",value:au.name||"",readOnly:!0}):(0,b.jsxs)("select",{className:"w-full border p-2 rounded bg-white text-gray-800",value:au.userId||"",onChange:a=>{let b=U.find(b=>b.id===a.target.value);av({...au,userId:a.target.value,name:b?b.full_name:""})},required:!0,children:[(0,b.jsx)("option",{value:"",children:"-- Pilih User untuk dijadikan Driver --"}),U.filter(a=>!W.some(b=>b.id===a.id)).map(a=>(0,b.jsxs)("option",{value:a.id,children:[a.full_name," (",a.email,")"]},a.id))]}),(0,b.jsx)("input",{className:"w-full border p-2 rounded bg-white text-gray-800",placeholder:"Kendaraan",value:au.vehicle||"",onChange:a=>av({...au,vehicle:a.target.value})}),(0,b.jsxs)("select",{className:"w-full border p-2 rounded bg-white text-gray-800",value:au.shift||"",onChange:a=>av({...au,shift:a.target.value}),children:[(0,b.jsx)("option",{value:"Shift 1 (08:00 - 12:00)",children:"Shift 1"}),(0,b.jsx)("option",{value:"Shift 2 (13:00 - 17:00)",children:"Shift 2"})]}),(0,b.jsxs)("select",{className:"w-full border p-2 rounded bg-white text-gray-800",value:au.status||"Off Duty",onChange:a=>av({...au,status:a.target.value}),children:[(0,b.jsx)("option",{value:"On Duty",children:"On Duty"}),(0,b.jsx)("option",{value:"Off Duty",children:"Off Duty"})]})]}),"area"===aq&&(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("input",{className:"w-full border p-2 rounded bg-white text-gray-800",placeholder:"Kelurahan",value:au.kelurahan||"",onChange:a=>av({...au,kelurahan:a.target.value}),required:!0}),(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,b.jsx)("input",{className:"border p-2 rounded bg-white text-gray-800",placeholder:"RW",value:au.rw||"",onChange:a=>av({...au,rw:a.target.value})}),(0,b.jsx)("input",{className:"border p-2 rounded bg-white text-gray-800",placeholder:"RT",value:au.rt||"",onChange:a=>av({...au,rt:a.target.value})})]}),(0,b.jsxs)("select",{className:"w-full border p-2 rounded bg-white text-gray-800",value:au.driverId||"",onChange:a=>av({...au,driverId:a.target.value}),children:[(0,b.jsx)("option",{value:"",children:"Pilih Driver"}),W.map(a=>(0,b.jsx)("option",{value:a.id,children:a.name},a.id))]})]}),"pickup"===aq&&(0,b.jsxs)(b.Fragment,{children:[(0,b.jsxs)("div",{className:"bg-gray-100 p-3 rounded text-sm text-gray-800 font-medium",children:["User: ",au.user," (",au.weightLabel,")"]}),(0,b.jsxs)("select",{className:"w-full border p-2 rounded bg-white text-gray-800",value:au.status||"Pending",onChange:a=>av({...au,status:a.target.value}),children:[(0,b.jsx)("option",{value:"Pending",children:"Pending"}),(0,b.jsx)("option",{value:"In Progress",children:"Proses"}),(0,b.jsx)("option",{value:"Done",children:"Selesai"}),(0,b.jsx)("option",{value:"Canceled",children:"Dibatalkan"})]}),(0,b.jsxs)("select",{className:"w-full border p-2 rounded bg-white text-gray-800",value:au.driver||"",onChange:a=>av({...au,driver:a.target.value}),children:[(0,b.jsx)("option",{value:"",children:"Assign Driver"}),W.map(a=>(0,b.jsx)("option",{value:a.name,children:a.name},a.id))]})]}),"user"===aq&&(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("input",{className:"w-full border p-2 rounded bg-white text-gray-800",placeholder:"Nama",value:au.name||"",onChange:a=>av({...au,name:a.target.value})}),(0,b.jsxs)("select",{className:"w-full border p-2 rounded bg-white text-gray-800",value:au.role||"",onChange:a=>av({...au,role:a.target.value}),children:[(0,b.jsx)("option",{value:"user",children:"User"}),(0,b.jsx)("option",{value:"admin",children:"Admin"}),(0,b.jsx)("option",{value:"driver",children:"Driver (Via Menu Driver)"}),(0,b.jsx)("option",{value:"rt",children:"Ketua RT"}),(0,b.jsx)("option",{value:"rw",children:"Ketua RW"})]}),(0,b.jsx)("input",{className:"w-full border p-2 rounded bg-white text-gray-800",placeholder:"Alamat",value:au.region||"",onChange:a=>av({...au,region:a.target.value})}),(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,b.jsx)("input",{className:"border p-2 rounded bg-white text-gray-800",placeholder:"RT",value:au.rt||"",onChange:a=>av({...au,rt:a.target.value})}),(0,b.jsx)("input",{className:"border p-2 rounded bg-white text-gray-800",placeholder:"RW",value:au.rw||"",onChange:a=>av({...au,rw:a.target.value})})]})]}),(0,b.jsx)("button",{type:"submit",disabled:K,className:"w-full py-3 bg-green-600 text-white rounded-lg font-bold hover:bg-green-700 transition mt-4",children:K?"Menyimpan...":"Simpan"})]})]})})]})}a.s(["default",()=>K],78962)}];

//# sourceMappingURL=6c7f9_RecycleYuk-revision_RecycleYuk_RecycleYuk_src_app_dashboard_admin_page_f8cfe68d.js.map