module.exports=[92844,a=>{"use strict";var b=a.i(13755),c=a.i(36985),d=a.i(42755),e=a.i(88691),f=a.i(54164),g=a.i(16967),h=a.i(27075);let i=(0,h.default)("award",[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]]);var j=a.i(61964),k=a.i(53115),l=a.i(52446),m=a.i(48682),n=a.i(50561);let o=(0,h.default)("book-open",[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]]);var p=a.i(22423),q=a.i(3895),r=a.i(79408),s=a.i(32207),t=a.i(75071),u=a.i(5978),v=a.i(3567),w=a.i(88174),x=a.i(25243),y=a.i(66007);let z=(0,h.default)("megaphone",[["path",{d:"M11 6a13 13 0 0 0 8.4-2.8A1 1 0 0 1 21 4v12a1 1 0 0 1-1.6.8A13 13 0 0 0 11 14H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2z",key:"q8bfy3"}],["path",{d:"M6 14a12 12 0 0 0 2.4 7.2 2 2 0 0 0 3.2-2.4A8 8 0 0 1 10 14",key:"1853fq"}],["path",{d:"M8 6v8",key:"15ugcq"}]]),A=(0,h.default)("check-check",[["path",{d:"M18 6 7 17l-5-5",key:"116fxf"}],["path",{d:"m22 10-7.5 7.5L13 16",key:"ke71qq"}]]),B=(0,h.default)("trash",[["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]]),C=(0,h.default)("building",[["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M9 22v-3a1 1 0 0 1 1-1h4a1 1 0 0 1 1 1v3",key:"cabbwy"}],["rect",{x:"4",y:"2",width:"16",height:"20",rx:"2",key:"1uxh74"}]]);var D=a.i(51386),E=a.i(94488),F=a.i(28392),G=a.i(62320),H=a.i(11323),I=a.i(31285),J=a.i(58290),K=a.i(55167),L=a.i(35039),M=a.i(40874),N=a.i(99869),O=a.i(19510),P=a.i(35270),Q=a.i(86760),R=a.i(2953),S=a.i(51626),T=a.i(71313),U=a.i(52883),V=a.i(28681),W=a.i(10867),X=a.i(83394),Y=a.i(38176),Z=a.i(84802);let $=(0,e.createClient)("https://bvigrmajwdfpavxmxefl.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImJ2aWdybWFqd2RmcGF2eG14ZWZsIiwicm9sZSI6ImFub24iLCJpYXQiOjE3Njc2NTE2MzAsImV4cCI6MjA4MzIyNzYzMH0.Qii8jaaMgtH5Sq-C7YfpQ26AmGnMmh3aEbsTX8Ciyg0"),_=[107.6191,-6.9175],aa=[107.625,-6.925],ab=[{label:"Ringan (0 - 5 KG)",value:5},{label:"Sedang (5 - 10 KG)",value:10},{label:"Berat (10 - 20 KG)",value:20},{label:"Sangat Berat (> 20 KG)",value:30}],ac=[{label:"Pagi (08:00 - 11:00)",value:"09:00"},{label:"Sore (15:00 - 18:00)",value:"16:00"}],ad=["Sampah Menumpuk","Jadwal Terlewat","Fasilitas Rusak","Pelayanan Petugas","Lainnya"];function ae(){let a=(0,d.useRouter)(),[e,h]=(0,c.useState)(!0),[ae,af]=(0,c.useState)("dashboard"),[ag,ah]=(0,c.useState)(""),[ai,aj]=(0,c.useState)(_),[ak,al]=(0,c.useState)(!1),[am,an]=(0,c.useState)(!0),[ao,ap]=(0,c.useState)(!1),[aq,ar]=(0,c.useState)(null),[as,at]=(0,c.useState)({totalWaste:0,lastPickup:"-",points:0}),[au,av]=(0,c.useState)([]),[aw,ax]=(0,c.useState)([]),[ay,az]=(0,c.useState)(null),[aA,aB]=(0,c.useState)(aa),[aC,aD]=(0,c.useState)([]),[aE,aF]=(0,c.useState)([]),[aG,aH]=(0,c.useState)(!1),[aI,aJ]=(0,c.useState)({title:"",category:"",content:""}),[aK,aL]=(0,c.useState)({wasteTypeId:"",weight:5,date:"",time:"09:00",notes:""}),[aM,aN]=(0,c.useState)({open:!1,bill:null,step:"method"}),[aO,aP]=(0,c.useState)([{id:101,title:"Iuran Kebersihan - Feb 2026",amount:25e3,status:"Unpaid",due_date:"2026-02-10"}]),[aQ,aR]=(0,c.useState)(""),[aS,aT]=(0,c.useState)("Semua"),[aU,aV]=(0,c.useState)(null),[aW,aX]=(0,c.useState)(null),[aY,aZ]=(0,c.useState)(!1),a$=(0,c.useRef)(),a_=(0,c.useRef)(null),a0=(0,c.useRef)(new Q.default),a1=[{id:"dashboard",label:"Dashboard",icon:i},{id:"request",label:"Request Pickup",icon:j.Truck},{id:"history",label:"Riwayat",icon:m.FileText},{id:"pengaduan",label:"Pengaduan",icon:z},{id:"iuran",label:"Bayar Iuran",icon:t.Wallet},{id:"tracking",label:"Tracking",icon:k.MapPin},{id:"edukasi",label:"Edukasi",icon:o}],a2=[{id:1,type:"article",category:"Tips",title:"Cara Memilah Sampah",desc:"Panduan dasar.",content:"...",readTime:"3 min"},{id:2,type:"video",category:"Tutorial",title:"Membuat Kompos",desc:"Video tutorial.",content:"Video Placeholder",readTime:"5 min"},{id:3,type:"article",category:"Info",title:"Bahaya B3",desc:"Kenapa baterai berbahaya?",content:"...",readTime:"4 min"}];(0,c.useEffect)(()=>{let a=document.createElement("script");return a.src="https://app.sandbox.midtrans.com/snap/snap.js",a.setAttribute("data-client-key","Mid-client-zVn1_jq4GqVUHzoj"),a.async=!0,document.body.appendChild(a),()=>{document.body.contains(a)&&document.body.removeChild(a)}},[]),(0,c.useEffect)(()=>{let a=setInterval(()=>{ah(new Date().toLocaleTimeString("id-ID",{hour:"2-digit",minute:"2-digit"}))},1e3);ba(),a5();let b=$.channel("user-dashboard-realtime").on("postgres_changes",{event:"*",schema:"public",table:"transactions"},a=>{ba(),"UPDATE"===a.eventType&&"Process"===a.new.status&&(I.default.fire({title:"Pengangkutan Aktif!",text:"Driver sedang menuju lokasi Anda.",icon:"info",timer:3e3,showConfirmButton:!1,toast:!0,position:"top-end",background:"#d1fae5",color:"#065f46"}),af("tracking"))}).subscribe(),c=()=>{window.innerWidth>=768&&ap(!1)};return window.addEventListener("resize",c),()=>{clearInterval(a),window.removeEventListener("resize",c),$.removeChannel(b)}},[]);let[a3,a4]=(0,c.useState)(!1);(0,c.useEffect)(()=>{a4(!0)},[]);let a5=()=>{navigator.geolocation?navigator.geolocation.watchPosition(a=>{let{latitude:b,longitude:c}=a.coords;aj([c,b]),al(!0)},a=>{1===a.code?console.warn("GPS permission denied by user"):2===a.code?console.warn("GPS position unavailable"):3===a.code&&console.warn("GPS timeout")},{enableHighAccuracy:!0,maximumAge:0,timeout:1e4}):console.warn("Geolocation is not supported by this browser.")},a6=()=>{a_.current&&ak?a_.current.getView().animate({center:(0,U.fromLonLat)(ai),zoom:17,duration:1e3}):I.default.fire("GPS Mencari...","Pastikan izin lokasi aktif.","info")},[a7,a8]=(0,c.useState)(0);(0,c.useEffect)(()=>{if("tracking"===ae&&ay&&"Process"===ay.rawStatus){let a=setInterval(()=>{aB(a=>{let b=(ai[0]-a[0])*.05,c=(ai[1]-a[1])*.05;return 1e-5>Math.abs(b)&&1e-5>Math.abs(c)?a:(a8(Math.atan2(b,c)),[a[0]+b,a[1]+c])})},1e3);return()=>clearInterval(a)}aB(aa)},[ae,ay,ai]),(0,c.useEffect)(()=>{if("tracking"===ae&&a$.current&&!a_.current){let a=new P.default({source:a0.current,zIndex:100});a_.current=new L.default({target:a$.current,layers:[new N.default({source:new O.default}),a],view:new M.default({center:(0,U.fromLonLat)(_),zoom:13}),controls:[]}),a9()}return()=>{"tracking"!==ae&&a_.current&&(a_.current.setTarget(null),a_.current=null)}},[ae]);let a9=()=>{if(a_.current){if(a0.current.clear(),ak){let a=new R.default({geometry:new S.default((0,U.fromLonLat)(ai))});a.setStyle(new W.Style({image:new Y.Circle({radius:8,fill:new Z.Fill({color:"#3b82f6"}),stroke:new X.Stroke({color:"#fff",width:2})})})),a0.current.addFeature(a)}if(ay?.rawStatus==="Process"){let a=new R.default({geometry:new S.default((0,U.fromLonLat)(aA))});a.setStyle(new W.Style({image:new V.Icon({src:"https://cdn-icons-png.flaticon.com/512/4047/4047448.png",scale:.1,anchor:[.5,1]})})),a0.current.addFeature(a);let b=new R.default({geometry:new T.default([(0,U.fromLonLat)(aA),(0,U.fromLonLat)(ai)])});b.setStyle(new W.Style({stroke:new X.Stroke({color:"#10B981",width:4,lineDash:[10,10]})})),a0.current.addFeature(b)}}};(0,c.useEffect)(()=>{a9()},[ai,aA,ay,ae,a7]);let ba=async()=>{try{let{data:{user:b}}=await $.auth.getUser();if(!b)return void a.push("/login");let{data:c}=await $.from("profiles").select("*").eq("id",b.id).single();ar(c);let{data:d}=await $.from("waste_types").select("*");if(d&&av(d),c?.rt){let{data:a}=await $.from("notifications").select("*").or(`rt.eq.${c.rt},rt.is.null`).order("created_at",{ascending:!1});aF(a||[])}let{data:e}=await $.from("transactions").select("*, waste_types(name, price_per_kg), drivers:driver_id(full_name)").eq("profile_id",b.id).order("created_at",{ascending:!1});if(e){ax(e.map(a=>({id:`#REQ-${String(a.id).slice(0,6)}`,type:a.waste_types?.name,weight:a.weight,date:new Date(a.created_at).toLocaleDateString("id-ID"),time:new Date(a.created_at).toLocaleTimeString("id-ID",{hour:"2-digit",minute:"2-digit"}),status:a.status,fee:a.total_price||0})));let a=e.reduce((a,b)=>a+(Number(b.weight)||0),0);at({totalWaste:a,lastPickup:e[0]?new Date(e[0].created_at).toLocaleDateString("id-ID"):"-",points:Math.floor(10*a)});let b=e.find(a=>"Pending"===a.status||"Process"===a.status);b?az({id:b.id,driverId:b.driver_id,status:"Process"===b.status?"Pengangkutan Aktif":"Menunggu Konfirmasi",rawStatus:b.status,driver:b.drivers?.full_name||"Mencari Driver...",vehicle:"Pickup Layanan",rating:4.8,eta:"Process"===b.status?"Sedang Jalan":"Menunggu"}):az(null)}let{data:f}=await $.from("complaints").select("*").eq("user_id",b.id).order("created_at",{ascending:!1});aD(f||[])}catch(a){console.error("Error data:",a)}finally{h(!1)}};(0,c.useEffect)(()=>{let a;return"tracking"===ae&&ay?.driverId&&ay?.rawStatus==="Process"&&(console.log("Subscribing to driver location:",ay.driverId),a=$.channel(`driver-tracking-${ay.driverId}`).on("postgres_changes",{event:"UPDATE",schema:"public",table:"drivers",filter:`id=eq.${ay.driverId}`},a=>{let{current_latitude:b,current_longitude:c}=a.new;b&&c&&aB([c,b])}).subscribe()),()=>{a&&$.removeChannel(a)}},[ae,ay]);let bb=a=>{af(a),ap(!1)},bc=async()=>{(await I.default.fire({title:"Keluar?",text:"Sesi Anda akan berakhir.",icon:"warning",showCancelButton:!0,confirmButtonColor:"#d33",confirmButtonText:"Ya"})).isConfirmed&&(await $.auth.signOut(),a.push("/login"))},bd=async a=>{a.preventDefault();let b=new FormData(a.target),c={full_name:b.get("fullName"),email:b.get("email"),address:b.get("address"),rt:b.get("rt"),rw:b.get("rw")};try{await $.from("profiles").update(c).eq("id",aq.id),ar({...aq,...c}),aZ(!1),I.default.fire("Sukses","Profil disimpan","success"),ba()}catch(a){}},be=async a=>{let b=a.target.files[0];if(b)try{I.default.fire({title:"Mengupload...",text:"Mohon tunggu sebentar",allowOutsideClick:!1,didOpen:()=>I.default.showLoading()});let a=await (0,J.uploadAvatar)(b,aq.id);if(!a)throw Error("Gagal mendapatkan URL gambar.");let{error:c}=await $.from("profiles").update({avatar_url:a}).eq("id",aq.id);if(c)throw c;ar(b=>({...b,avatar_url:a})),I.default.fire("Sukses","Foto profil berhasil diperbarui!","success")}catch(a){console.error(a),I.default.fire("Error","Gagal upload foto: "+a.message,"error")}},bf=async a=>{if(a.preventDefault(),!aK.wasteTypeId)return void I.default.fire("Gagal","Pilih sampah","error");try{let a={profile_id:aq.id,waste_type_id:aK.wasteTypeId,weight:aK.weight,status:"Pending",pickup_time:aK.time,notes:aK.notes,latitude:ai[1],longitude:ai[0]},{error:b}=await $.from("transactions").insert(a);if(b)throw b;I.default.fire("Berhasil","Request terkirim","success"),aL({wasteTypeId:"",weight:5,date:"",time:"09:00",notes:""}),af("tracking")}catch(a){I.default.fire("Gagal",a.message,"error")}},bg=async a=>{a.preventDefault();try{await $.from("complaints").insert({user_id:aq.id,subject:aI.title,category:aI.category,content:aI.content,status:"Pending",created_at:new Date}),I.default.fire("Terkirim","Aduan dikirim","success"),aJ({title:"",category:"",content:""}),ba()}catch(a){}},bh=async()=>{if(!window.snap)return void I.default.fire("Error","Sistem pembayaran sedang memuat, mohon tunggu.","error");let a=aM.bill;aN(a=>({...a,step:"processing"}));try{let b=await fetch("/api/payment",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:a.id,amount:a.amount,firstName:aq?.full_name||"Warga",email:aq?.email||"warga@example.com",title:a.title})}),c=await b.json();if(!b.ok)throw Error(c.error||"Gagal membuat transaksi");window.snap.pay(c.token,{onSuccess:async function(b){aP(b=>b.map(b=>b.id===a.id?{...b,status:"Paid"}:b)),aN(a=>({...a,step:"success"}))},onPending:function(a){I.default.fire("Pending","Menunggu pembayaran diselesaikan","info"),aN(a=>({...a,open:!1}))},onError:function(a){I.default.fire("Gagal","Pembayaran gagal atau dibatalkan","error"),aN(a=>({...a,open:!1}))},onClose:function(){aN(a=>({...a,step:"method"}))}})}catch(a){console.error(a),I.default.fire("Error",a.message,"error"),aN(a=>({...a,step:"method"}))}},bi=()=>aF(aE.map(a=>({...a,read:!0}))),bj=aE.filter(a=>!a.read).length,bk=(0,J.getRewardBadge)(as.points);return e?(0,b.jsxs)("div",{className:"min-h-screen flex justify-center items-center text-gray-800 font-bold",children:[(0,b.jsx)(D.Loader2,{className:"animate-spin mr-2"})," Memuat Data..."]}):(0,b.jsxs)("div",{className:"min-h-screen bg-gray-50 flex font-sans text-gray-800 overflow-x-hidden",children:[ao&&(0,b.jsx)("div",{className:"fixed inset-0 bg-black/50 z-40 md:hidden",onClick:()=>ap(!1)}),(0,b.jsxs)("aside",{className:`fixed top-0 left-0 z-50 h-full bg-white border-r border-gray-200 transition-transform duration-300 md:translate-x-0 ${ao?"translate-x-0 w-64":"-translate-x-full w-64"} ${am?"md:w-64":"md:w-20"} flex flex-col`,children:[(0,b.jsxs)("div",{className:"h-16 md:h-20 flex items-center justify-between px-4 border-b border-gray-100",children:[(0,b.jsx)("div",{className:`flex items-center gap-3 transition-all duration-300 ${!am?"justify-center w-full px-0":"px-0"}`,children:am?(0,b.jsxs)("div",{className:"flex flex-col animate-in fade-in slide-in-from-left duration-300",children:[(0,b.jsx)("img",{src:"/images/logo.png",alt:"RecycleYuk",className:"w-36 h-auto object-contain mb-1"}),(0,b.jsx)("span",{className:"text-[10px] font-bold text-green-600 tracking-[0.2em] uppercase pl-1",children:"User App"})]}):(0,b.jsxs)("button",{onClick:()=>an(!0),className:"mx-auto relative group",children:[(0,b.jsx)("img",{src:"/images/mini-logo.png",alt:"RecycleYuk",className:"w-10 h-10 object-contain transition-transform group-hover:scale-110"}),(0,b.jsx)("div",{className:"absolute -right-2 -bottom-2 bg-green-100 text-green-600 rounded-full p-0.5 shadow-sm border border-white",children:(0,b.jsx)(s.ChevronRight,{size:12})})]})}),am&&(0,b.jsx)("button",{onClick:()=>an(!1),className:"hidden md:block p-2 rounded-lg hover:bg-gray-100 text-gray-500",children:(0,b.jsx)(r.ChevronLeft,{size:20})}),(0,b.jsx)("button",{onClick:()=>ap(!1),className:"md:hidden p-2 text-gray-500",children:(0,b.jsx)(p.X,{size:24})})]}),(0,b.jsx)("nav",{className:"flex-1 p-3 space-y-2 overflow-y-auto overflow-x-hidden",children:a1.map(a=>(0,b.jsxs)("button",{onClick:()=>bb(a.id),className:`w-full flex items-center rounded-xl font-medium transition-all duration-200 h-12 ${ae===a.id?"bg-green-50 text-green-700 shadow-sm border border-green-100":"text-gray-600 hover:bg-gray-50 hover:text-green-600"} ${am?"px-4 gap-3 justify-start":"justify-center px-0 md:justify-center"} ${!am&&"md:px-0"}`,children:[(0,b.jsx)(a.icon,{size:22,className:`min-w-[22px] ${ae===a.id?"text-green-600":"text-gray-400"}`})," ",(0,b.jsx)("span",{className:`${!am?"md:hidden":"block"}`,children:a.label})]},a.id))}),(0,b.jsx)("div",{className:"p-4 border-t border-gray-100",children:(0,b.jsxs)("button",{onClick:bc,className:`w-full flex items-center rounded-xl font-medium text-red-600 hover:bg-red-50 transition-all h-12 ${am?"px-4 gap-3 justify-start":"justify-center px-0 md:justify-center"}`,children:[(0,b.jsx)(q.LogOut,{size:22,className:"min-w-[22px]"})," ",(0,b.jsx)("span",{className:`${!am?"md:hidden":"block"}`,children:"Keluar"})]})})]}),(0,b.jsxs)("main",{className:`flex-1 p-4 md:p-8 overflow-y-auto transition-all duration-300 w-full ${am?"md:ml-64":"md:ml-20"}`,children:[(0,b.jsxs)("div",{className:"md:hidden flex justify-between items-center mb-6 sticky top-0 bg-gray-50 z-30 py-2",children:[(0,b.jsx)("button",{onClick:()=>ap(!0),children:(0,b.jsx)(F.Menu,{size:28})}),(0,b.jsx)("span",{className:"font-bold text-lg capitalize",children:ae}),(0,b.jsx)("div",{className:"w-9 h-9 bg-green-100 rounded-full flex items-center justify-center text-green-700 font-bold",children:aq?.full_name?.charAt(0)})]}),(0,b.jsxs)("div",{className:"max-w-5xl mx-auto",children:[(0,b.jsxs)("header",{className:"hidden md:flex justify-between items-center mb-8 gap-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h2",{className:"text-2xl font-bold capitalize text-gray-800",children:"dashboard"===ae?"Overview":ae.replace("-"," ")}),(0,b.jsx)("p",{className:"text-gray-500 text-sm",children:"Pantau aktivitas lingkunganmu."})]}),(0,b.jsxs)("div",{className:"flex items-center gap-3 bg-white p-1 rounded-xl border border-gray-200 shadow-sm",children:[(0,b.jsxs)("button",{onClick:()=>af("notifikasi"),className:"p-2 rounded-lg hover:bg-gray-100 relative text-gray-600 group transition",children:[(0,b.jsx)(n.Bell,{size:20,className:"group-hover:text-green-600"}),aE.filter(a=>!a.read).length>0&&(0,b.jsx)("span",{className:"absolute top-2 right-2 w-2 h-2 bg-red-500 rounded-full border border-white animate-pulse"})]}),(0,b.jsx)("div",{className:"w-px h-6 bg-gray-200"}),(0,b.jsxs)("button",{onClick:()=>af("profile"),className:"flex items-center gap-3 pl-2 pr-3 py-1 rounded-lg hover:bg-gray-50 transition",children:[(0,b.jsx)("div",{className:"w-8 h-8 rounded-full bg-green-100 flex items-center justify-center text-green-700 font-bold border border-green-200 overflow-hidden",children:aq?.avatar_url?(0,b.jsx)("img",{src:aq.avatar_url,alt:"Profile",className:"w-full h-full object-cover"}):aq?.full_name?.charAt(0)||"U"}),(0,b.jsxs)("div",{className:"text-left hidden md:block",children:[(0,b.jsx)("p",{className:"text-xs font-bold text-gray-800 line-clamp-1 max-w-[100px]",children:aq?.full_name}),(0,b.jsx)("p",{className:"text-0 text-gray-500",children:"Warga"})]})]})]})]}),(()=>{switch(ae){case"dashboard":return(0,b.jsxs)("div",{className:"space-y-6 animate-in fade-in text-gray-800 pb-20 md:pb-0",children:[(0,b.jsxs)("div",{className:"bg-gradient-to-r from-green-600 to-emerald-600 rounded-xl shadow-lg p-6 md:p-8 text-white relative overflow-hidden",children:[(0,b.jsxs)("div",{className:"relative z-10",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,b.jsxs)("h2",{className:"text-2xl md:text-3xl font-bold",children:["Halo, ",aq?.full_name?.split(" ")[0],"! ðŸ‘‹"]}),(0,b.jsxs)("div",{className:`${bk.color} px-3 py-1.5 rounded-full flex items-center gap-1.5 text-white font-bold text-sm shadow-md`,children:[(0,b.jsx)("span",{className:"text-lg",children:bk.icon}),(0,b.jsx)("span",{children:bk.level})]})]}),(0,b.jsx)("p",{className:"opacity-90",children:aq?.rt?`Warga RT ${aq.rt} / RW ${aq.rw}`:"Lengkapi data RT/RW di profil."}),(0,b.jsxs)("p",{className:"text-xs mt-2 opacity-75",children:["Kumpulkan poin untuk naik level! (",as.points," poin)"]})]}),(0,b.jsx)(i,{className:"absolute right-[-20px] bottom-[-20px] opacity-10 w-40 h-40 transform rotate-12"})]}),(0,b.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 md:gap-6",children:[{l:"Total Sampah",v:`${as.totalWaste} kg`,i:f.Trash2},{l:"Poin",v:as.points,i:i},{l:"Pickup Terakhir",v:as.lastPickup,i:g.Calendar}].map((a,c)=>(0,b.jsxs)("div",{className:"bg-white p-5 rounded-xl shadow-sm border border-gray-200 flex justify-between items-center",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-gray-500 text-xs md:text-sm font-medium",children:a.l}),(0,b.jsx)("h3",{className:"text-xl md:text-2xl font-bold text-gray-800",children:a.v})]}),(0,b.jsx)("div",{className:"bg-gray-100 p-3 rounded-lg text-gray-600",children:(0,b.jsx)(a.i,{size:24})})]},c))}),(0,b.jsxs)("div",{className:"bg-white rounded-xl shadow-sm p-5 md:p-6 border border-gray-200",children:[(0,b.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,b.jsx)("h3",{className:"text-lg font-bold text-gray-800",children:"Status Pickup Terbaru"}),ay?(0,b.jsx)("span",{className:`px-3 py-1 rounded-full text-xs font-bold ${"Done"===ay.status?"bg-green-100 text-green-700":"bg-blue-100 text-blue-700"}`,children:ay.status}):(0,b.jsx)("span",{className:"px-3 py-1 bg-gray-100 text-gray-500 rounded-full text-xs font-bold",children:"Standby"})]}),ay?(0,b.jsxs)("div",{className:"bg-blue-50 border border-blue-200 rounded-xl p-4 flex flex-col md:flex-row items-center justify-between gap-4",children:[(0,b.jsxs)("div",{className:"flex items-center gap-4 w-full md:w-auto",children:[(0,b.jsx)("div",{className:"bg-blue-600 text-white p-3 rounded-lg",children:(0,b.jsx)(j.Truck,{size:24})}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"font-bold text-gray-900 text-lg",children:ay.status}),(0,b.jsxs)("p",{className:"text-sm text-gray-700",children:["Driver: ",ay.driver]})]})]}),(0,b.jsx)("button",{onClick:()=>bb("tracking"),className:"w-full md:w-auto px-6 py-2 bg-blue-600 text-white rounded-lg text-sm hover:bg-blue-700 font-medium",children:"Lacak"})]}):(0,b.jsxs)("div",{className:"text-center py-8 text-gray-400 border-2 border-dashed rounded-lg bg-gray-50",children:[(0,b.jsx)(j.Truck,{size:32,className:"mx-auto mb-2 opacity-50"}),(0,b.jsx)("p",{children:"Belum ada request pickup aktif."}),(0,b.jsx)("button",{onClick:()=>bb("request"),className:"mt-2 text-green-600 font-bold hover:underline",children:"Buat Request Baru"})]})]})]});case"request":return(0,b.jsxs)("div",{className:"bg-white rounded-xl shadow-sm p-5 md:p-6 border border-gray-200 animate-in slide-in-from-right text-gray-800 pb-20 md:pb-0",children:[(0,b.jsxs)("h3",{className:"text-lg font-bold mb-6 flex items-center gap-2 text-gray-800",children:[(0,b.jsx)(j.Truck,{})," Form Request"]}),(0,b.jsxs)("form",{onSubmit:bf,className:"space-y-4",children:[(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium mb-1 text-gray-600",children:"Jenis Sampah"}),(0,b.jsxs)("select",{className:"w-full border p-3 rounded-lg bg-white text-gray-800 focus:ring-2 focus:ring-green-500 outline-none",value:aK.wasteTypeId,onChange:a=>aL({...aK,wasteTypeId:a.target.value}),required:!0,children:[(0,b.jsx)("option",{value:"",children:"Pilih Sampah"}),au.map(a=>(0,b.jsx)("option",{value:a.id,children:a.name},a.id))]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium mb-1 text-gray-600",children:"Klasifikasi Berat"}),(0,b.jsxs)("select",{className:"w-full border p-3 rounded-lg bg-white text-gray-800 focus:ring-2 focus:ring-green-500 outline-none",value:aK.weight,onChange:a=>aL({...aK,weight:a.target.value}),required:!0,children:[(0,b.jsx)("option",{value:"",children:"Pilih Kategori..."}),ab.map((a,c)=>(0,b.jsx)("option",{value:a.value,children:a.label},c))]})]})]}),(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium mb-1 text-gray-600",children:"Tanggal"}),(0,b.jsx)("input",{type:"date",className:"w-full border p-3 rounded-lg bg-white text-gray-800 focus:ring-2 focus:ring-green-500 outline-none",value:aK.date,onChange:a=>aL({...aK,date:a.target.value}),required:!0})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium mb-1 text-gray-600",children:"Waktu Pengangkutan"}),(0,b.jsxs)("select",{className:"w-full border p-3 rounded-lg bg-white text-gray-800 focus:ring-2 focus:ring-green-500 outline-none",value:aK.time,onChange:a=>aL({...aK,time:a.target.value}),required:!0,children:[(0,b.jsx)("option",{value:"",children:"Pilih Waktu..."}),ac.map((a,c)=>(0,b.jsx)("option",{value:a.value,children:a.label},c))]})]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium mb-1 text-gray-600",children:"Catatan"}),(0,b.jsx)("textarea",{className:"w-full border p-3 rounded-lg h-24 bg-white text-gray-800 focus:ring-2 focus:ring-green-500 outline-none",placeholder:"Lokasi detail...",value:aK.notes,onChange:a=>aL({...aK,notes:a.target.value})})]}),(0,b.jsx)("button",{type:"submit",className:"w-full bg-green-600 text-white py-3 rounded-lg font-bold hover:bg-green-700 transition",children:"Kirim Request"})]})]});case"history":return(0,b.jsxs)("div",{className:"bg-white rounded-xl shadow-sm p-6 border border-gray-200 animate-in slide-in-from-right pb-20 md:pb-0",children:[(0,b.jsxs)("h3",{className:"text-lg font-bold mb-6 flex items-center gap-2 text-gray-800",children:[(0,b.jsx)(m.FileText,{})," Riwayat Transaksi"]}),(0,b.jsx)("div",{className:"space-y-3",children:aw.length>0?aw.map((a,c)=>(0,b.jsxs)("div",{className:"border p-4 rounded-xl flex flex-col md:flex-row justify-between items-start md:items-center mb-3 hover:bg-gray-50 cursor-pointer transition gap-2",onClick:()=>aX(a),children:[(0,b.jsxs)("div",{className:"flex gap-4 items-center",children:[(0,b.jsx)("div",{className:"bg-green-100 p-3 rounded-lg",children:(0,b.jsx)(f.Trash2,{size:24,className:"text-green-600"})}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"font-bold text-gray-800",children:a.type}),(0,b.jsxs)("p",{className:"text-sm text-gray-500",children:[a.date," â€¢ ",a.time]})]})]}),(0,b.jsxs)("p",{className:"font-bold text-lg text-gray-800",children:["Rp ",a.fee.toLocaleString()]})]},c)):(0,b.jsx)("div",{className:"text-center py-12 text-gray-400",children:"Belum ada riwayat."})})]});case"pengaduan":return(0,b.jsx)("div",{className:"space-y-6 animate-in slide-in-from-right pb-20 md:pb-0",children:(0,b.jsxs)("div",{className:"bg-white rounded-xl shadow-sm p-5 md:p-6 border border-gray-200 text-gray-800",children:[(0,b.jsxs)("h3",{className:"text-lg font-bold mb-6 flex items-center gap-2 text-gray-800",children:[(0,b.jsx)(z,{})," Layanan Pengaduan"]}),(0,b.jsxs)("form",{onSubmit:bg,className:"space-y-4 mb-8",children:[(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium mb-1 text-gray-600",children:"Judul"}),(0,b.jsx)("input",{className:"w-full border p-3 rounded-lg bg-white text-gray-800 focus:ring-2 focus:ring-green-500 outline-none",placeholder:"Judul Masalah",value:aI.title,onChange:a=>aJ({...aI,title:a.target.value}),required:!0})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium mb-1 text-gray-600",children:"Kategori"}),(0,b.jsxs)("select",{className:"w-full border p-3 rounded-lg bg-white text-gray-800 focus:ring-2 focus:ring-green-500 outline-none",value:aI.category,onChange:a=>aJ({...aI,category:a.target.value}),required:!0,children:[(0,b.jsx)("option",{value:"",children:"Pilih..."}),ad.map((a,c)=>(0,b.jsx)("option",{value:a,children:a},c))]})]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium mb-1 text-gray-600",children:"Deskripsi"}),(0,b.jsx)("textarea",{className:"w-full border p-3 rounded-lg h-24 bg-white text-gray-800 focus:ring-2 focus:ring-green-500 outline-none resize-none",placeholder:"Jelaskan detail...",value:aI.content,onChange:a=>aJ({...aI,content:a.target.value}),required:!0})]}),(0,b.jsxs)("button",{type:"submit",className:"w-full bg-red-600 text-white py-3 rounded-lg font-bold hover:bg-red-700 transition flex items-center justify-center gap-2",children:[(0,b.jsx)(G.Send,{size:18})," Kirim Pengaduan"]})]}),(0,b.jsx)("h4",{className:"font-bold text-gray-700 mb-3 border-b pb-2",children:"Riwayat Pengaduan"}),(0,b.jsx)("div",{className:"space-y-3",children:aC.length>0?aC.map(a=>(0,b.jsxs)("div",{className:"border p-4 rounded-xl hover:bg-gray-50 transition bg-white",children:[(0,b.jsxs)("div",{className:"flex justify-between items-start mb-2",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"font-bold text-gray-800",children:a.subject}),(0,b.jsxs)("p",{className:"text-xs text-gray-500",children:[new Date(a.created_at).toLocaleDateString("id-ID")," â€¢ ",a.category]})]}),(0,b.jsx)("span",{className:`px-2 py-1 text-xs font-bold rounded ${"Resolved"===a.status?"bg-green-100 text-green-700":"bg-yellow-100 text-yellow-700"}`,children:a.status})]}),(0,b.jsxs)("p",{className:"text-sm text-gray-700 bg-gray-50 p-2 rounded mb-2 italic",children:['"',a.content,'"']}),a.response&&(0,b.jsxs)("div",{className:"mt-2 pl-3 border-l-4 border-green-500",children:[(0,b.jsx)("p",{className:"text-xs font-bold text-green-700",children:"Tanggapan RT/RW:"}),(0,b.jsx)("p",{className:"text-sm text-gray-700",children:a.response})]})]},a.id)):(0,b.jsx)("div",{className:"text-center py-6 text-gray-400 border border-dashed rounded-lg",children:"Belum ada riwayat."})})]})});case"iuran":return(0,b.jsx)("div",{className:"space-y-6 animate-in slide-in-from-right pb-20 md:pb-0",children:(0,b.jsxs)("div",{className:"bg-white rounded-xl shadow-sm p-6 border border-gray-200",children:[(0,b.jsxs)("div",{className:"flex items-center gap-3 mb-6",children:[(0,b.jsx)("div",{className:"bg-purple-100 p-3 rounded-lg text-purple-600",children:(0,b.jsx)(t.Wallet,{size:24})}),(0,b.jsxs)("div",{children:[(0,b.jsx)("h3",{className:"text-xl font-bold text-gray-800",children:"Tagihan Iuran"}),(0,b.jsx)("p",{className:"text-sm text-gray-500",children:"Kelola pembayaran bulanan Anda."})]})]}),aO.map(a=>(0,b.jsxs)("div",{className:"border p-4 rounded-xl flex justify-between items-center mb-3 hover:bg-gray-50 transition",children:[(0,b.jsxs)("div",{className:"flex items-center gap-4",children:[(0,b.jsx)("div",{className:"bg-gray-100 p-2 rounded-lg text-gray-600",children:(0,b.jsx)(C,{size:24})}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"font-bold text-gray-800",children:a.title}),(0,b.jsxs)("p",{className:"text-sm text-gray-500",children:["Status: ",(0,b.jsx)("span",{className:"Paid"===a.status?"text-green-600 font-bold":"text-red-600 font-bold",children:a.status})]})]})]}),"Unpaid"===a.status?(0,b.jsx)("button",{onClick:()=>aN({open:!0,bill:a,step:"method"}),className:"w-full md:w-auto bg-red-600 text-white px-6 py-2 rounded-lg font-bold hover:bg-red-700 transition",children:"Bayar"}):(0,b.jsxs)("span",{className:"w-full md:w-auto text-green-600 font-bold flex items-center justify-center md:justify-end gap-1",children:[(0,b.jsx)(A,{size:16})," Lunas"]})]},a.id))]})});case"tracking":return(0,b.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 animate-in slide-in-from-right pb-20 md:pb-0",children:[(0,b.jsxs)("div",{className:"lg:col-span-2 bg-gray-200 rounded-xl h-64 md:h-[450px] relative overflow-hidden border shadow-inner z-0",children:[(0,b.jsx)("div",{ref:a$,style:{width:"100%",height:"100%"}}),(0,b.jsx)("button",{onClick:a6,className:"absolute bottom-16 right-4 z-[400] bg-white p-2 rounded-full shadow-lg text-blue-600 hover:bg-blue-50 transition border border-gray-200",title:"Lokasi Saya",children:(0,b.jsx)(H.Navigation,{size:24})}),(0,b.jsxs)("div",{className:"absolute bottom-4 left-1/2 -translate-x-1/2 bg-white/90 backdrop-blur px-6 py-2 rounded-full shadow-lg flex items-center gap-2 animate-bounce w-max border border-gray-200",children:[(0,b.jsx)("div",{className:"bg-green-600 text-white p-1 rounded-full",children:(0,b.jsx)(j.Truck,{size:16})}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-xs font-bold text-gray-500",children:"Estimasi"}),(0,b.jsx)("p",{className:"font-bold text-green-700 text-sm",children:ay?.eta||"Menunggu"})]})]})]}),(0,b.jsxs)("div",{className:"bg-white p-6 rounded-xl border border-gray-200 shadow-sm",children:[(0,b.jsx)("h3",{className:"font-bold text-lg mb-4 text-gray-800",children:"Info Pengangkutan"}),ay?(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)("div",{className:"w-12 h-12 bg-gray-100 rounded-full flex items-center justify-center text-xl font-bold text-gray-500",children:"BS"}),(0,b.jsxs)("div",{children:[(0,b.jsx)("h4",{className:"font-bold text-gray-800",children:ay.driver}),(0,b.jsx)("p",{className:"text-xs text-gray-500",children:ay.vehicle})]})]}),(0,b.jsx)("div",{className:"p-3 bg-yellow-50 text-yellow-800 rounded text-sm border border-yellow-200",children:"Mohon bersiap, driver sedang menuju titik lokasi Anda."}),(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[(0,b.jsxs)("button",{className:"py-2 bg-green-50 text-green-700 rounded font-bold text-sm flex justify-center gap-1 hover:bg-green-100 transition",children:[(0,b.jsx)(x.MessageCircle,{size:16})," Chat"]}),(0,b.jsxs)("button",{className:"py-2 bg-blue-50 text-blue-700 rounded font-bold text-sm flex justify-center gap-1 hover:bg-blue-100 transition",children:[(0,b.jsx)(w.Phone,{size:16})," Call"]})]})]}):(0,b.jsx)("p",{className:"text-gray-500 text-center py-4",children:"Belum ada pickup aktif."})]})]});case"edukasi":return(0,b.jsxs)("div",{className:"space-y-6 animate-in slide-in-from-right pb-20 md:pb-0",children:[(0,b.jsxs)("div",{className:"flex flex-col md:flex-row gap-4 justify-between items-center bg-white p-4 rounded-xl shadow-sm border border-gray-200",children:[(0,b.jsx)("div",{className:"flex gap-2 w-full md:w-auto overflow-x-auto pb-2 md:pb-0 scrollbar-hide",children:["Semua","Tips","Tutorial","Info"].map(a=>(0,b.jsx)("button",{onClick:()=>aT(a),className:`px-4 py-1.5 rounded-full text-sm font-bold whitespace-nowrap transition ${aS===a?"bg-green-600 text-white":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:a},a))}),(0,b.jsxs)("div",{className:"flex items-center gap-2 w-full md:w-64 bg-gray-50 px-3 py-2 rounded-lg border border-gray-200",children:[(0,b.jsx)(u.Search,{className:"text-gray-400",size:18}),(0,b.jsx)("input",{type:"text",placeholder:"Cari artikel...",className:"w-full outline-none text-sm bg-transparent text-gray-800",value:aQ,onChange:a=>aR(a.target.value)})]})]}),(0,b.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:a2.filter(a=>("Semua"===aS||a.category===aS)&&a.title.toLowerCase().includes(aQ.toLowerCase())).map(a=>(0,b.jsxs)("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden hover:shadow-md transition group cursor-pointer",onClick:()=>aV(a),children:[(0,b.jsx)("div",{className:"h-40 bg-gray-100 flex items-center justify-center text-gray-400 group-hover:bg-green-50 transition",children:"video"===a.type?(0,b.jsx)(v.PlayCircle,{size:40,className:"group-hover:text-green-600"}):(0,b.jsx)(o,{size:40,className:"group-hover:text-green-600"})}),(0,b.jsxs)("div",{className:"p-5",children:[(0,b.jsx)("span",{className:"text-xs font-bold text-green-600 bg-green-50 px-2 py-1 rounded",children:a.category}),(0,b.jsx)("h3",{className:"font-bold text-lg mt-2 mb-2 text-gray-800 group-hover:text-green-600",children:a.title}),(0,b.jsx)("p",{className:"text-sm text-gray-500 mb-4 line-clamp-2",children:a.desc}),(0,b.jsxs)("button",{className:"text-green-600 font-bold text-sm flex items-center gap-1",children:["Baca ",(0,b.jsx)(y.ArrowRight,{size:16})]})]})]},a.id))})]});case"profile":return(0,b.jsxs)("div",{className:"bg-white rounded-xl shadow-sm p-6 border border-gray-200 animate-in slide-in-from-right pb-20 md:pb-0",children:[(0,b.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,b.jsxs)("h3",{className:"text-lg font-bold flex items-center gap-2 text-gray-800",children:[(0,b.jsx)(l.User,{})," Profil Saya"]}),(0,b.jsxs)("button",{onClick:()=>aZ(!0),className:"text-sm font-bold text-green-600 flex items-center gap-1 hover:underline",children:[(0,b.jsx)(E.Edit2,{size:16})," Edit"]})]}),(0,b.jsxs)("div",{className:"flex flex-col items-center mb-8",children:[(0,b.jsxs)("div",{className:"relative group cursor-pointer",onClick:()=>document.getElementById("avatar-upload").click(),children:[(0,b.jsx)("div",{className:"w-24 h-24 rounded-full overflow-hidden border-4 border-green-100 shadow-sm",children:aq?.avatar_url?(0,b.jsx)("img",{src:aq.avatar_url,alt:"Profile",className:"w-full h-full object-cover"}):(0,b.jsx)("div",{className:"w-full h-full bg-green-100 flex items-center justify-center text-3xl font-bold text-green-600",children:aq?.full_name?.charAt(0)||"U"})}),(0,b.jsx)("div",{className:"absolute inset-0 bg-black/40 rounded-full flex items-center justify-center opacity-0 group-hover:opacity-100 transition",children:(0,b.jsx)(E.Edit2,{className:"text-white",size:20})})]}),(0,b.jsx)("input",{type:"file",id:"avatar-upload",className:"hidden",accept:"image/*",onChange:be}),(0,b.jsx)("p",{className:"text-xs text-gray-400 mt-2",children:"Klik foto untuk mengganti"})]}),(0,b.jsxs)("div",{className:"space-y-4 text-gray-800",children:[(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,b.jsxs)("div",{className:"p-4 bg-gray-50 rounded-lg border border-gray-100",children:[(0,b.jsx)("label",{className:"text-xs font-bold text-gray-500 uppercase",children:"Nama Lengkap"}),(0,b.jsx)("p",{className:"font-medium text-lg text-gray-900",children:aq?.full_name})]}),(0,b.jsxs)("div",{className:"p-4 bg-gray-50 rounded-lg border border-gray-100",children:[(0,b.jsx)("label",{className:"text-xs font-bold text-gray-500 uppercase",children:"Email"}),(0,b.jsx)("p",{className:"font-medium text-lg text-gray-900",children:aq?.email})]}),(0,b.jsxs)("div",{className:"p-4 bg-gray-50 rounded-lg border border-gray-100",children:[(0,b.jsx)("label",{className:"text-xs font-bold text-gray-500 uppercase",children:"NIK"}),(0,b.jsx)("p",{className:"font-medium text-lg text-gray-900",children:aq?.nik||"-"})]}),(0,b.jsxs)("div",{className:"p-4 bg-green-50 rounded-lg border border-green-100",children:[(0,b.jsx)("label",{className:"text-xs font-bold text-green-700 uppercase",children:"RT / RW"}),(0,b.jsx)("p",{className:"font-medium text-lg text-green-900",children:aq?.rt?`${aq.rt} / ${aq.rw}`:(0,b.jsx)("span",{className:"text-red-500 text-sm italic",children:"Belum diisi"})})]})]}),(0,b.jsxs)("div",{className:"p-4 bg-gray-50 rounded-lg border border-gray-100",children:[(0,b.jsx)("label",{className:"text-xs font-bold text-gray-500 uppercase",children:"Alamat"}),(0,b.jsx)("p",{className:"font-medium text-lg text-gray-900",children:aq?.address})]})]})]});case"notifikasi":return(0,b.jsxs)("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6 animate-in slide-in-from-right pb-20 md:pb-0",children:[(0,b.jsxs)("div",{className:"flex justify-between mb-4",children:[(0,b.jsx)("h3",{className:"font-bold text-xl text-gray-800",children:"Notifikasi"}),bj>0&&(0,b.jsx)("button",{onClick:bi,className:"text-green-600 text-sm font-bold hover:underline",children:"Tandai dibaca"})]}),(0,b.jsx)("div",{className:"space-y-2",children:aE.length>0?aE.map(a=>(0,b.jsxs)("div",{onClick:()=>{let b;return b=a.id,aF(aE.map(a=>a.id===b?{...a,read:!0}:a))},className:`p-4 border-b flex gap-4 cursor-pointer hover:bg-gray-50 transition rounded-lg ${!a.read&&"bg-green-50"}`,children:[(0,b.jsx)("div",{className:`p-2 rounded-full h-fit flex-shrink-0 ${"payment"===a.type?"bg-green-100 text-green-600":"pickup"===a.type?"bg-blue-100 text-blue-600":"bg-gray-100 text-gray-600"}`,children:"payment"===a.type?(0,b.jsx)(t.Wallet,{size:20}):"pickup"===a.type?(0,b.jsx)(j.Truck,{size:20}):(0,b.jsx)(n.Bell,{size:20})}),(0,b.jsxs)("div",{className:"flex-1",children:[(0,b.jsxs)("div",{className:"flex justify-between items-start",children:[(0,b.jsx)("h4",{className:`font-bold text-sm ${a.read?"text-gray-600":"text-black"}`,children:a.title}),(0,b.jsx)("span",{className:"text-xs text-gray-400 whitespace-nowrap ml-2",children:a.time})]}),(0,b.jsx)("p",{className:"text-sm text-gray-600 mt-1",children:a.message})]}),(0,b.jsx)("button",{onClick:b=>{let c;b.stopPropagation(),c=a.id,aF(aE.filter(a=>a.id!==c))},className:"text-gray-400 hover:text-red-500",children:(0,b.jsx)(B,{size:16})})]},a.id)):(0,b.jsx)("div",{className:"text-center py-8 text-gray-400",children:"Belum ada notifikasi."})})]});default:return(0,b.jsx)("div",{children:"Halaman tidak ditemukan"})}})()]})]}),aY&&(0,b.jsx)("div",{className:"fixed inset-0 bg-black/60 flex items-center justify-center z-50 p-4",children:(0,b.jsxs)("div",{className:"bg-white rounded-xl p-6 w-full max-w-md shadow-2xl",children:[(0,b.jsx)("h3",{className:"font-bold text-lg mb-4 text-gray-800",children:"Edit Profil"}),(0,b.jsxs)("form",{onSubmit:bd,className:"space-y-4",children:[(0,b.jsx)("input",{name:"fullName",defaultValue:aq?.full_name,className:"w-full border p-2 rounded text-gray-800"}),(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,b.jsx)("input",{name:"rt",defaultValue:aq?.rt,className:"w-full border p-2 rounded text-gray-800",placeholder:"RT"}),(0,b.jsx)("input",{name:"rw",defaultValue:aq?.rw,className:"w-full border p-2 rounded text-gray-800",placeholder:"RW"})]}),(0,b.jsx)("input",{name:"email",defaultValue:aq?.email,className:"w-full border p-2 rounded text-gray-800"}),(0,b.jsx)("textarea",{name:"address",defaultValue:aq?.address,className:"w-full border p-2 rounded text-gray-800 h-24"}),(0,b.jsxs)("div",{className:"flex gap-2",children:[(0,b.jsx)("button",{type:"button",onClick:()=>aZ(!1),className:"flex-1 py-2 border rounded",children:"Batal"}),(0,b.jsx)("button",{type:"submit",className:"flex-1 py-2 bg-green-600 text-white rounded",children:"Simpan"})]})]})]})}),(aW||aU)&&(0,b.jsx)("div",{className:"fixed inset-0 bg-black/60 flex items-center justify-center z-50 p-4",children:(0,b.jsxs)("div",{className:"bg-white rounded-xl p-6 w-full max-w-md shadow-2xl max-h-[85vh] overflow-y-auto",children:[(0,b.jsxs)("div",{className:"flex justify-between mb-4 border-b pb-2",children:[(0,b.jsx)("h3",{className:"font-bold text-lg text-gray-800",children:"Detail"}),(0,b.jsx)("button",{onClick:()=>{aX(null),aV(null)},children:(0,b.jsx)(p.X,{})})]}),aW&&(0,b.jsxs)("div",{className:"space-y-2 text-gray-800",children:[(0,b.jsxs)("p",{children:["ID: ",aW.id]}),(0,b.jsxs)("p",{children:["Status: ",aW.status]}),(0,b.jsxs)("p",{className:"font-bold text-green-600",children:["Total: Rp ",aW.fee.toLocaleString()]})]}),aU&&(0,b.jsxs)("div",{className:"space-y-2 text-gray-800",children:[(0,b.jsx)("h4",{className:"font-bold",children:aU.title}),(0,b.jsx)("p",{className:"text-sm",children:aU.desc})]})]})}),aM.open&&(0,b.jsx)("div",{className:"fixed inset-0 bg-black/60 flex items-center justify-center z-50 p-4",children:(0,b.jsxs)("div",{className:"bg-white rounded-xl w-full max-w-md p-6 text-center shadow-xl",children:[(0,b.jsxs)("div",{className:"flex justify-between mb-4",children:[(0,b.jsx)("h3",{className:"font-bold text-lg text-gray-800",children:"Pembayaran"}),(0,b.jsx)("button",{onClick:()=>aN({...aM,open:!1}),children:(0,b.jsx)(p.X,{})})]}),"method"===aM.step&&(0,b.jsxs)("div",{children:[(0,b.jsxs)("h2",{className:"text-3xl font-bold mb-4 text-gray-800",children:["Rp ",aM.bill.amount.toLocaleString()]}),(0,b.jsx)("button",{onClick:bh,className:"w-full py-3 bg-green-600 text-white font-bold rounded hover:bg-green-700",children:"Bayar Sekarang"})]}),"processing"===aM.step&&(0,b.jsxs)("div",{children:[(0,b.jsx)(D.Loader2,{className:"animate-spin mx-auto mb-2 text-green-600"}),(0,b.jsx)("p",{className:"text-gray-600",children:"Memproses pembayaran..."})]}),"success"===aM.step&&(0,b.jsxs)("div",{children:[(0,b.jsx)(A,{className:"mx-auto mb-2 text-green-600",size:40}),(0,b.jsx)("h3",{className:"font-bold text-xl text-gray-800",children:"Berhasil!"})]})]})}),ay&&(0,b.jsx)(K.default,{isOpen:aG,onClose:()=>aH(!1),transactionId:ay.rawId,currentUserId:aq?.id,currentUserName:aq?.full_name,otherUserName:ay.driverName||"Driver",isDriver:!1}),ay?.rawStatus==="Process"&&(0,b.jsx)("button",{onClick:()=>aH(!0),className:"fixed bottom-24 right-6 md:bottom-6 bg-green-600 text-white p-4 rounded-full shadow-lg hover:bg-green-700 transition z-40 animate-bounce",title:"Chat dengan Driver",children:(0,b.jsx)(x.MessageCircle,{size:24})})]})}a.s(["default",()=>ae],92844)}];

//# sourceMappingURL=6c7f9_RecycleYuk-revision_RecycleYuk_RecycleYuk_src_app_dashboard_user_page_7327d257.js.map