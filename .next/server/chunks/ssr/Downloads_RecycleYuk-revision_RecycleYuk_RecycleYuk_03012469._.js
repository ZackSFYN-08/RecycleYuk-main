module.exports=[2426,(a,b,c)=>{"use strict";c._=function(a){return a&&a.__esModule?a:{default:a}}},72441,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),Object.defineProperty(c,"BailoutToCSR",{enumerable:!0,get:function(){return e}});let d=a.r(55885);function e({reason:a,children:b}){throw Object.defineProperty(new d.BailoutToCSRError(a),"__NEXT_ERROR_CODE",{value:"E394",enumerable:!1,configurable:!0})}},19111,(a,b,c)=>{"use strict";function d(a){return a.split("/").map(a=>encodeURIComponent(a)).join("/")}Object.defineProperty(c,"__esModule",{value:!0}),Object.defineProperty(c,"encodeURIPath",{enumerable:!0,get:function(){return d}})},10007,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0});var d={getDeploymentId:function(){return f},getDeploymentIdQueryOrEmptyString:function(){return g}};for(var e in d)Object.defineProperty(c,e,{enumerable:!0,get:d[e]});function f(){return!1}function g(){return""}},98568,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),Object.defineProperty(c,"PreloadChunks",{enumerable:!0,get:function(){return i}});let d=a.r(13755),e=a.r(77372),f=a.r(56704),g=a.r(19111),h=a.r(10007);function i({moduleIds:a}){let b=f.workAsyncStorage.getStore();if(void 0===b)return null;let c=[];if(b.reactLoadableManifest&&a){let d=b.reactLoadableManifest;for(let b of a){if(!d[b])continue;let a=d[b].files;c.push(...a)}}if(0===c.length)return null;let i=(0,h.getDeploymentIdQueryOrEmptyString)();return(0,d.jsx)(d.Fragment,{children:c.map(a=>{let c=`${b.assetPrefix}/_next/${(0,g.encodeURIPath)(a)}${i}`;return a.endsWith(".css")?(0,d.jsx)("link",{precedence:"dynamic",href:c,rel:"stylesheet",as:"style",nonce:b.nonce},a):((0,e.preload)(c,{as:"script",fetchPriority:"low",nonce:b.nonce}),null)})})}},93003,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),Object.defineProperty(c,"default",{enumerable:!0,get:function(){return j}});let d=a.r(13755),e=a.r(36985),f=a.r(72441),g=a.r(98568);function h(a){return{default:a&&"default"in a?a.default:a}}let i={loader:()=>Promise.resolve(h(()=>null)),loading:null,ssr:!0},j=function(a){let b={...i,...a},c=(0,e.lazy)(()=>b.loader().then(h)),j=b.loading;function k(a){let h=j?(0,d.jsx)(j,{isLoading:!0,pastDelay:!0,error:null}):null,i=!b.ssr||!!b.loading,k=i?e.Suspense:e.Fragment,l=b.ssr?(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(g.PreloadChunks,{moduleIds:b.modules}),(0,d.jsx)(c,{...a})]}):(0,d.jsx)(f.BailoutToCSR,{reason:"next/dynamic",children:(0,d.jsx)(c,{...a})});return(0,d.jsx)(k,{...i?{fallback:h}:{},children:l})}return k.displayName="LoadableComponent",k}},31335,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),Object.defineProperty(c,"default",{enumerable:!0,get:function(){return e}});let d=a.r(2426)._(a.r(93003));function e(a,b){let c={};"function"==typeof a&&(c.loader=a);let e={...c,...b};return(0,d.default)({...e,modules:e.loadableGenerated?.modules})}("function"==typeof c.default||"object"==typeof c.default&&null!==c.default)&&void 0===c.default.__esModule&&(Object.defineProperty(c.default,"__esModule",{value:!0}),Object.assign(c.default,c),b.exports=c.default)},81130,a=>{"use strict";var b=a.i(13755),c=a.i(36985),d=a.i(42755),e=a.i(88691);a.i(31335);var f=a.i(54946),g=a.i(82963),h=a.i(54164),i=a.i(53115),j=a.i(5978),k=a.i(5564),l=a.i(27075);let m=(0,l.default)("message-square",[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]]);var n=a.i(80587),o=a.i(22423),p=a.i(89800),q=a.i(48682),r=a.i(62320),s=a.i(3895),t=a.i(79408),u=a.i(32207);let v=(0,l.default)("chart-column",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);var w=a.i(75071),x=a.i(50561),y=a.i(94488),z=a.i(58290),A=a.i(31285);let B=(0,e.createClient)("https://bvigrmajwdfpavxmxefl.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImJ2aWdybWFqd2RmcGF2eG14ZWZsIiwicm9sZSI6ImFub24iLCJpYXQiOjE3Njc2NTE2MzAsImV4cCI6MjA4MzIyNzYzMH0.Qii8jaaMgtH5Sq-C7YfpQ26AmGnMmh3aEbsTX8Ciyg0");function C(){let a=(0,d.useRouter)(),[e,l]=(0,c.useState)("dashboard"),[C,D]=(0,c.useState)(!1),[E,F]=(0,c.useState)(""),[G,H]=(0,c.useState)(!0),[I,J]=(0,c.useState)(!0),[K,L]=(0,c.useState)(null),[M,N]=(0,c.useState)([]),[O,P]=(0,c.useState)([]),[Q,R]=(0,c.useState)(0),[S,T]=(0,c.useState)(""),[U,V]=(0,c.useState)("All"),[W,X]=(0,c.useState)(null),[Y,Z]=(0,c.useState)(null),[$,_]=(0,c.useState)(""),[aa,ab]=(0,c.useState)("monthly"),[ac,ad]=(0,c.useState)({date:new Date().toISOString().split("T")[0],month:new Date().getMonth()+1,year:new Date().getFullYear(),startDate:"",endDate:"",region:"All"}),ae=[{id:"dashboard",label:"Ringkasan",icon:f.LayoutDashboard},{id:"monitoring",label:"Monitoring Global",icon:i.MapPin},{id:"laporan",label:"Laporan & Analitik",icon:q.FileText},{id:"pengaduan",label:"Pusat Pengaduan",icon:m}];(0,c.useEffect)(()=>{D(!0);let a=setInterval(()=>{F(new Date().toLocaleTimeString("id-ID",{hour:"2-digit",minute:"2-digit"}))},1e3);return af(),()=>clearInterval(a)},[]);let af=async()=>{H(!0);try{let{data:{user:b}}=await B.auth.getUser();if(!b)return void a.push("/login");let{data:c}=await B.from("profiles").select("*").eq("id",b.id).single();if(L({...b,...c}),!c)return;let d=B.select("*, profiles!inner(full_name, address, rt, rw), waste_types(name)").order("created_at",{ascending:!1});c.rt&&(d=d.eq("profiles.rt",c.rt)),c.rw&&(d=d.eq("profiles.rw",c.rw));let{data:e,error:f}=await d;f&&console.error("Error fetching transactions:",f),N(e||[]);let g=B.from("complaints").select("*, profiles!inner(full_name, rt, rw)").order("created_at",{ascending:!1});c.rt&&(g=g.eq("profiles.rt",c.rt)),c.rw&&(g=g.eq("profiles.rw",c.rw));let{data:h,error:i}=await g;i&&console.error("Error fetching complaints:",i),P(h||[]);let j=B.from("profiles").select("*",{count:"exact",head:!0}).eq("role","user");c.rt&&(j=j.eq("rt",c.rt)),c.rw&&(j=j.eq("rw",c.rw));let{count:k}=await j;R(k||0)}catch(a){console.error("Error fetching data:",a)}finally{H(!1)}},ag=(0,c.useMemo)(()=>{let a=M.reduce((a,b)=>a+(b.weight||0),0),b=M.reduce((a,b)=>a+(b.total_price||0),0);return{totalWeight:a,totalIncome:b,pendingPickup:M.filter(a=>"done"!==a.status).length,pendingComplaint:O.filter(a=>"Pending"===a.status).length}},[M,O]),ah=a=>{let b=(a||"").toLowerCase();return"done"===b||"selesai"===b||"resolved"===b?"bg-green-100 text-green-800 border-green-200":"in progress"===b||"proses"===b?"bg-blue-100 text-blue-800 border-blue-200":"pending"===b||"menunggu"===b?"bg-yellow-100 text-yellow-800 border-yellow-200":"bg-gray-100 text-gray-800 border-gray-200"},ai=async()=>{await B.auth.signOut(),a.push("/login")},aj=async a=>{if(!a||0===a.length)return void A.default.fire("Info","Tidak ada data untuk diexport","info");let b=a.map(a=>({Tanggal:new Date(a.created_at).toLocaleDateString("id-ID"),Warga:a.profiles?.full_name||"-",Alamat:a.profiles?.address||"-","Jenis Sampah":a.waste_types?.name||"-","Berat (kg)":a.weight,Nilai:(0,z.formatRupiah)(a.total_price||0),Status:a.status}));await (0,z.exportToExcel)(b,"laporan_rtrw")?A.default.fire("Sukses","Laporan berhasil diexport ke CSV!","success"):A.default.fire("Gagal","Gagal export laporan","error")},ak=async()=>{if(!$.trim())return A.default.fire("Error","Respon tidak boleh kosong","warning");try{await B.from("complaints").update({response:$,status:"Resolved"}).eq("id",Y.id),A.default.fire("Terkirim","Tanggapan berhasil dikirim!","success"),_(""),Z(null),af()}catch(a){A.default.fire("Error",a.message,"error")}},al=async a=>{a.preventDefault();try{await B.from("profiles").update({full_name:K.full_name,alamat:K.alamat}).eq("id",K.id),A.default.fire("Sukses","Profil RT/RW berhasil diperbarui!","success")}catch(a){A.default.fire("Error",a.message,"error")}},am=async a=>{let b=a.target.files[0];if(b)try{A.default.fire({title:"Mengupload...",text:"Mohon tunggu sebentar",allowOutsideClick:!1,didOpen:()=>A.default.showLoading()});let a=await (0,z.uploadAvatar)(b,K.id);if(!a)throw Error("Gagal mendapatkan URL gambar.");let{error:c}=await B.from("profiles").update({avatar_url:a}).eq("id",K.id);if(c)throw c;L(b=>({...b,avatar_url:a})),A.default.fire("Sukses","Foto profil berhasil diperbarui!","success")}catch(a){console.error(a),A.default.fire("Error","Gagal upload foto: "+a.message,"error")}};return(0,b.jsxs)("div",{className:"min-h-screen bg-slate-50 flex font-sans text-gray-800",children:[(0,b.jsxs)("aside",{className:`fixed z-30 h-full bg-white border-r border-gray-200 transition-all duration-300 ${I?"w-64":"w-20"} hidden md:flex flex-col`,children:[(0,b.jsxs)("div",{className:"h-20 flex items-center justify-between px-6 border-b border-gray-100",children:[(0,b.jsx)("div",{className:`flex items-center gap-3 transition-all duration-300 ${!I?"justify-center w-full px-0":"px-0"}`,children:I?(0,b.jsxs)("div",{className:"flex flex-col animate-in fade-in slide-in-from-left duration-300",children:[(0,b.jsx)("img",{src:"/images/logo.png",alt:"RecycleYuk",className:"w-36 h-auto object-contain mb-1"}),(0,b.jsx)("span",{className:"text-[10px] font-bold text-green-600 tracking-[0.2em] uppercase pl-1",children:"RT/RW Panel"})]}):(0,b.jsxs)("button",{onClick:()=>J(!0),className:"mx-auto relative group",children:[(0,b.jsx)("img",{src:"/images/mini-logo.png",alt:"RecycleYuk",className:"w-10 h-10 object-contain transition-transform group-hover:scale-110"}),(0,b.jsx)("div",{className:"absolute -right-2 -bottom-2 bg-green-100 text-green-600 rounded-full p-0.5 shadow-sm border border-white",children:(0,b.jsx)(u.ChevronRight,{size:12})})]})}),I&&(0,b.jsx)("button",{onClick:()=>J(!1),className:"p-2 hover:bg-gray-100 rounded-lg text-gray-500",children:(0,b.jsx)(t.ChevronLeft,{size:20})})]}),(0,b.jsx)("nav",{className:"flex-1 p-4 space-y-2 overflow-y-auto",children:ae.map(a=>(0,b.jsxs)("button",{onClick:()=>l(a.id),className:`w-full flex items-center gap-3 px-4 py-3 rounded-xl transition-all font-medium ${e===a.id?"bg-emerald-50 text-emerald-700 shadow-sm":"text-gray-600 hover:bg-gray-50 hover:text-emerald-600"}`,children:[(0,b.jsx)(a.icon,{size:22,className:e===a.id?"text-emerald-600":"text-gray-400"}),I&&(0,b.jsx)("span",{children:a.label})]},a.id))}),(0,b.jsx)("div",{className:"p-4 border-t border-gray-100",children:(0,b.jsxs)("button",{onClick:ai,className:"w-full flex items-center gap-3 px-4 py-3 text-red-600 hover:bg-red-50 rounded-xl transition font-bold",children:[(0,b.jsx)(s.LogOut,{size:22})," ",I&&"Keluar"]})})]}),(0,b.jsx)("main",{className:`flex-1 p-4 md:p-8 transition-all duration-300 ${I?"md:ml-64":"md:ml-20"}`,children:(0,b.jsxs)("div",{className:"max-w-6xl mx-auto",children:[(0,b.jsxs)("div",{className:"flex flex-col md:flex-row justify-between items-end md:items-center mb-8 gap-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h2",{className:"text-2xl font-bold text-gray-800 capitalize",children:e}),(0,b.jsx)("p",{className:"text-gray-500 text-sm",children:"Panel Kepala RT/RW"})]}),(0,b.jsxs)("div",{className:"flex items-center gap-3 bg-white p-1 rounded-xl border border-gray-200 shadow-sm",children:[(0,b.jsxs)("button",{onClick:()=>l("pengaduan"),className:"p-2 rounded-lg hover:bg-gray-100 relative text-gray-600 group transition",children:[(0,b.jsx)(x.Bell,{size:20,className:"group-hover:text-green-600"}),O.filter(a=>"Pending"===a.status).length>0&&(0,b.jsx)("span",{className:"absolute top-2 right-2 w-2 h-2 bg-red-500 rounded-full border border-white animate-pulse"})]}),(0,b.jsx)("div",{className:"w-px h-6 bg-gray-200"}),(0,b.jsxs)("button",{onClick:()=>l("profile"),className:"flex items-center gap-3 pl-2 pr-3 py-1 rounded-lg hover:bg-gray-50 transition",children:[(0,b.jsx)("div",{className:"w-8 h-8 rounded-full bg-green-100 flex items-center justify-center text-green-700 font-bold border border-green-200 overflow-hidden",children:K?.avatar_url?(0,b.jsx)("img",{src:K.avatar_url,alt:"Profile",className:"w-full h-full object-cover"}):K?.full_name?.charAt(0)||"K"}),(0,b.jsxs)("div",{className:"text-left hidden md:block",children:[(0,b.jsx)("p",{className:"text-xs font-bold text-gray-800 line-clamp-1 max-w-[100px]",children:K?.full_name||"Kepala RT/RW"}),(0,b.jsx)("p",{className:"text-0 text-gray-500",children:"Administrator Utama"})]})]})]})]}),G&&!C?(0,b.jsxs)("div",{className:"h-96 flex flex-col items-center justify-center text-gray-400",children:[(0,b.jsx)("div",{className:"w-8 h-8 border-4 border-emerald-200 border-t-emerald-600 rounded-full animate-spin mb-4"}),(0,b.jsx)("p",{children:"Memuat Sistem..."})]}):(()=>{switch(e){case"dashboard":return(0,b.jsxs)("div",{className:"space-y-6 animate-in fade-in",children:[(0,b.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[{label:"Total Sampah",val:`${ag.totalWeight.toFixed(1)} Kg`,icon:h.Trash2,col:"emerald"},{label:"Pendapatan",val:`Rp ${ag.totalIncome.toLocaleString()}`,icon:w.Wallet,col:"blue"},{label:"Warga Terdaftar",val:Q,icon:g.Users,col:"purple"},{label:"Aduan Masuk",val:ag.pendingComplaint,icon:m,col:"orange"}].map((a,c)=>(0,b.jsxs)("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-200 flex justify-between items-center hover:shadow-md transition",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-gray-500 text-sm font-medium",children:a.label}),(0,b.jsx)("h3",{className:`text-2xl font-bold mt-1 text-${a.col}-700`,children:a.val})]}),(0,b.jsx)("div",{className:`bg-${a.col}-50 p-3 rounded-full text-${a.col}-600`,children:(0,b.jsx)(a.icon,{size:24})})]},c))}),(0,b.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[(0,b.jsxs)("div",{className:"lg:col-span-2 bg-white p-6 rounded-xl shadow-sm border border-gray-200",children:[(0,b.jsxs)("h3",{className:"font-bold text-lg text-gray-800 mb-6 flex items-center gap-2",children:[(0,b.jsx)(v,{size:20})," Grafik Sampah Bulanan"]}),(0,b.jsx)("div",{className:"h-64 flex items-end justify-between gap-2 px-2",children:[100,150,120,170,140,190,210,180,220,250,230,200].map((a,c)=>(0,b.jsxs)("div",{className:"flex-1 flex flex-col items-center group cursor-pointer",children:[(0,b.jsx)("div",{className:"w-full bg-emerald-500 rounded-t-sm hover:bg-emerald-600 transition-all relative",style:{height:`${a/300*100}%`},children:(0,b.jsxs)("div",{className:"absolute -top-8 left-1/2 -translate-x-1/2 bg-black text-white text-xs py-1 px-2 rounded opacity-0 group-hover:opacity-100 transition whitespace-nowrap z-10",children:[a," Kg"]})}),(0,b.jsx)("span",{className:"text-[10px] text-gray-500 mt-2",children:c+1})]},c))})]}),(0,b.jsxs)("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-200",children:[(0,b.jsxs)("h3",{className:"font-bold text-lg text-gray-800 mb-4 flex items-center gap-2",children:[(0,b.jsx)(n.AlertCircle,{size:20})," Perlu Perhatian"]}),(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsxs)("div",{className:"p-4 bg-orange-50 rounded-lg border border-orange-100",children:[(0,b.jsx)("p",{className:"text-orange-800 font-bold text-sm",children:"Pickup Pending"}),(0,b.jsx)("p",{className:"text-3xl font-bold text-orange-600 mt-1",children:ag.pendingPickup}),(0,b.jsx)("p",{className:"text-xs text-orange-500 mt-1",children:"Transaksi belum diselesaikan driver"})]}),(0,b.jsxs)("div",{className:"p-4 bg-red-50 rounded-lg border border-red-100",children:[(0,b.jsx)("p",{className:"text-red-800 font-bold text-sm",children:"Komplain Baru"}),(0,b.jsx)("p",{className:"text-3xl font-bold text-red-600 mt-1",children:ag.pendingComplaint}),(0,b.jsx)("p",{className:"text-xs text-red-500 mt-1",children:"Menunggu tanggapan RT/RW"})]})]})]})]})]});case"monitoring":let a;return a=M.filter(a=>("All"===U||a.status===U)&&(""===S||(a.profiles?.full_name||"").toLowerCase().includes(S.toLowerCase()))),(0,b.jsx)("div",{className:"space-y-6 animate-in slide-in-from-right",children:(0,b.jsxs)("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-200",children:[(0,b.jsxs)("div",{className:"flex flex-col md:flex-row justify-between gap-4 mb-6",children:[(0,b.jsx)("h3",{className:"text-lg font-bold text-gray-800",children:"Monitoring Transaksi Global"}),(0,b.jsxs)("div",{className:"flex gap-2",children:[(0,b.jsxs)("div",{className:"relative",children:[(0,b.jsx)(j.Search,{className:"absolute left-3 top-2.5 text-gray-400",size:18}),(0,b.jsx)("input",{className:"pl-10 pr-4 py-2 border rounded-lg text-sm bg-gray-50 outline-none text-gray-800",placeholder:"Cari nama warga...",value:S,onChange:a=>T(a.target.value)})]}),(0,b.jsxs)("select",{className:"border rounded-lg px-3 py-2 text-sm bg-gray-50 outline-none text-gray-800",value:U,onChange:a=>V(a.target.value),children:[(0,b.jsx)("option",{value:"All",children:"Semua Status"}),(0,b.jsx)("option",{value:"Pending",children:"Pending"}),(0,b.jsx)("option",{value:"In Progress",children:"Proses"}),(0,b.jsx)("option",{value:"done",children:"Selesai"})]})]})]}),(0,b.jsx)("div",{className:"overflow-x-auto",children:(0,b.jsxs)("table",{className:"w-full text-left text-sm",children:[(0,b.jsx)("thead",{className:"bg-gray-50 border-b",children:(0,b.jsxs)("tr",{children:[(0,b.jsx)("th",{className:"p-4 text-gray-600",children:"ID"}),(0,b.jsx)("th",{className:"p-4 text-gray-600",children:"Warga"}),(0,b.jsx)("th",{className:"p-4 text-gray-600",children:"Lokasi"}),(0,b.jsx)("th",{className:"p-4 text-gray-600",children:"Driver"}),(0,b.jsx)("th",{className:"p-4 text-gray-600",children:"Berat"}),(0,b.jsx)("th",{className:"p-4 text-gray-600",children:"Status"}),(0,b.jsx)("th",{className:"p-4 text-gray-600",children:"Aksi"})]})}),(0,b.jsx)("tbody",{children:a.map(a=>(0,b.jsxs)("tr",{className:"border-b hover:bg-gray-50",children:[(0,b.jsx)("td",{className:"p-4 text-gray-500 font-mono text-xs",children:a.id.slice(0,8)}),(0,b.jsx)("td",{className:"p-4 font-bold text-gray-800",children:a.profiles?.full_name}),(0,b.jsx)("td",{className:"p-4 text-gray-600",children:a.profiles?.alamat||a.profiles?.address||"-"}),(0,b.jsx)("td",{className:"p-4 text-gray-800 font-medium",children:a.driver_name||"-"}),(0,b.jsxs)("td",{className:"p-4 text-gray-800",children:[a.weight," Kg"]}),(0,b.jsx)("td",{className:"p-4",children:(0,b.jsx)("span",{className:`px-2 py-1 rounded text-xs font-bold border ${ah(a.status)}`,children:a.status})}),(0,b.jsx)("td",{className:"p-4",children:(0,b.jsx)("button",{onClick:()=>X(a),className:"text-blue-600 bg-blue-50 p-2 rounded hover:bg-blue-100",children:(0,b.jsx)(p.Eye,{size:16})})})]},a.id))})]})})]})});case"laporan":let c;return c=M.filter(a=>{let b=new Date(a.created_at),c=b.toISOString().split("T")[0];return"daily"===aa?c===ac.date:"monthly"===aa?b.getMonth()+1===parseInt(ac.month)&&b.getFullYear()===parseInt(ac.year):"yearly"===aa?b.getFullYear()===parseInt(ac.year):"custom"!==aa||!ac.startDate||!ac.endDate||c>=ac.startDate&&c<=ac.endDate}),(0,b.jsx)("div",{className:"space-y-6 animate-in slide-in-from-right",children:(0,b.jsxs)("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-200",children:[(0,b.jsxs)("div",{className:"flex justify-between items-center mb-6 border-b pb-4",children:[(0,b.jsx)("h3",{className:"font-bold text-lg text-gray-800",children:"Laporan & Analitik"}),(0,b.jsxs)("div",{className:"flex gap-2",children:[(0,b.jsxs)("button",{onClick:()=>aj(c),className:"flex items-center gap-2 border px-4 py-2 rounded-lg text-sm hover:bg-gray-50 text-gray-700 font-medium",children:[(0,b.jsx)(q.FileText,{size:16})," Excel"]}),(0,b.jsxs)("button",{onClick:()=>window.print(),className:"flex items-center gap-2 bg-emerald-600 text-white px-4 py-2 rounded-lg text-sm hover:bg-emerald-700 font-bold",children:[(0,b.jsx)(k.Download,{size:16})," PDF"]})]})]}),(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-xs font-bold text-gray-600 mb-1",children:"Tipe Laporan"}),(0,b.jsxs)("select",{className:"w-full border rounded p-2 text-sm bg-gray-50 text-gray-800",value:aa,onChange:a=>ab(a.target.value),children:[(0,b.jsx)("option",{value:"daily",children:"Harian"}),(0,b.jsx)("option",{value:"monthly",children:"Bulanan"}),(0,b.jsx)("option",{value:"yearly",children:"Tahunan"}),(0,b.jsx)("option",{value:"custom",children:"Range Tanggal"})]})]}),(0,b.jsxs)("div",{className:"md:col-span-2",children:[(0,b.jsx)("label",{className:"block text-xs font-bold text-gray-600 mb-1",children:"Periode Waktu"}),(0,b.jsxs)("div",{className:"flex gap-2",children:["daily"===aa&&(0,b.jsx)("input",{type:"date",className:"w-full border rounded p-2 text-sm bg-gray-50 text-gray-800",value:ac.date,onChange:a=>ad({...ac,date:a.target.value})}),"monthly"===aa&&(0,b.jsxs)("div",{className:"flex gap-2 w-full",children:[(0,b.jsx)("select",{className:"w-1/2 border rounded p-2 text-sm bg-gray-50 text-gray-800",value:ac.month,onChange:a=>ad({...ac,month:a.target.value}),children:[...Array(12)].map((a,c)=>(0,b.jsx)("option",{value:c+1,children:new Date(0,c).toLocaleString("id-ID",{month:"long"})},c+1))}),(0,b.jsx)("input",{type:"number",className:"w-1/2 border rounded p-2 text-sm bg-gray-50 text-gray-800",value:ac.year,onChange:a=>ad({...ac,year:a.target.value})})]}),"yearly"===aa&&(0,b.jsx)("input",{type:"number",className:"w-full border rounded p-2 text-sm bg-gray-50 text-gray-800",value:ac.year,onChange:a=>ad({...ac,year:a.target.value})}),"custom"===aa&&(0,b.jsxs)("div",{className:"flex gap-2 w-full",children:[(0,b.jsx)("input",{type:"date",className:"w-1/2 border rounded p-2 text-sm bg-gray-50 text-gray-800",value:ac.startDate,onChange:a=>ad({...ac,startDate:a.target.value})}),(0,b.jsx)("input",{type:"date",className:"w-1/2 border rounded p-2 text-sm bg-gray-50 text-gray-800",value:ac.endDate,onChange:a=>ad({...ac,endDate:a.target.value})})]})]})]})]}),(0,b.jsx)("div",{className:"overflow-x-auto border rounded-lg",children:(0,b.jsxs)("table",{className:"w-full text-left text-sm",children:[(0,b.jsx)("thead",{className:"bg-gray-50 border-b",children:(0,b.jsxs)("tr",{children:[(0,b.jsx)("th",{className:"p-4 text-gray-600",children:"Tanggal"}),(0,b.jsx)("th",{className:"p-4 text-gray-600",children:"Warga"}),(0,b.jsx)("th",{className:"p-4 text-gray-600",children:"Jenis"}),(0,b.jsx)("th",{className:"p-4 text-gray-600",children:"Berat"}),(0,b.jsx)("th",{className:"p-4 text-gray-600",children:"Nilai"}),(0,b.jsx)("th",{className:"p-4 text-gray-600",children:"Status"})]})}),(0,b.jsx)("tbody",{children:c.length>0?c.map((a,c)=>(0,b.jsxs)("tr",{className:"border-b hover:bg-gray-50",children:[(0,b.jsx)("td",{className:"p-4 text-gray-800",children:new Date(a.created_at).toLocaleDateString()}),(0,b.jsx)("td",{className:"p-4 text-gray-800 font-medium",children:a.profiles?.full_name}),(0,b.jsx)("td",{className:"p-4 text-gray-600",children:a.waste_types?.name}),(0,b.jsxs)("td",{className:"p-4 text-gray-800 font-bold",children:[a.weight," kg"]}),(0,b.jsxs)("td",{className:"p-4 text-gray-800",children:["Rp ",a.total_price?.toLocaleString()]}),(0,b.jsx)("td",{className:"p-4",children:(0,b.jsx)("span",{className:`px-2 py-1 rounded text-xs font-bold border ${ah(a.status)}`,children:a.status})})]},c)):(0,b.jsx)("tr",{children:(0,b.jsx)("td",{colSpan:"6",className:"p-8 text-center text-gray-400",children:"Data tidak ditemukan."})})})]})})]})});case"pengaduan":return(0,b.jsx)("div",{className:"space-y-6 animate-in slide-in-from-right",children:(0,b.jsxs)("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-200",children:[(0,b.jsx)("h3",{className:"font-bold text-lg text-gray-800 mb-6",children:"Pusat Pengaduan Masyarakat"}),(0,b.jsx)("div",{className:"space-y-4",children:0===O.length?(0,b.jsx)("p",{className:"text-center text-gray-400 py-8",children:"Belum ada pengaduan masuk."}):O.map(a=>(0,b.jsxs)("div",{className:"border border-gray-200 rounded-xl p-5 hover:shadow-md transition bg-white",children:[(0,b.jsxs)("div",{className:"flex justify-between items-start mb-3",children:[(0,b.jsxs)("div",{children:[(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)("span",{className:"font-bold text-gray-800 text-lg",children:a.subject}),(0,b.jsx)("span",{className:`px-2 py-0.5 rounded text-xs font-bold border ${"Resolved"===a.status?"bg-green-100 text-green-700 border-green-200":"bg-red-100 text-red-700 border-red-200"}`,children:a.status})]}),(0,b.jsxs)("p",{className:"text-xs text-gray-500 mt-1",children:["Oleh: ",(0,b.jsx)("span",{className:"font-bold",children:a.profiles?.full_name||"Anonim"})," â€¢ ",new Date(a.created_at).toLocaleDateString()]})]}),"Pending"===a.status&&(0,b.jsxs)("button",{onClick:()=>Z(a),className:"bg-blue-600 text-white px-4 py-2 rounded-lg text-sm font-bold flex items-center gap-2 hover:bg-blue-700",children:[(0,b.jsx)(r.Send,{size:14})," Tanggapi"]})]}),(0,b.jsxs)("p",{className:"text-gray-700 bg-gray-50 p-3 rounded-lg border border-gray-100 text-sm italic",children:['"',a.content,'"']}),a.response&&(0,b.jsxs)("div",{className:"mt-3 pl-4 border-l-4 border-emerald-500",children:[(0,b.jsx)("p",{className:"text-xs text-emerald-600 font-bold mb-1",children:"Tanggapan RT/RW:"}),(0,b.jsx)("p",{className:"text-sm text-gray-800",children:a.response})]})]},a.id))})]})});case"profile":return(0,b.jsx)("div",{className:"max-w-2xl mx-auto animate-in slide-in-from-right",children:(0,b.jsxs)("div",{className:"bg-white p-8 rounded-xl shadow-sm border border-gray-200",children:[(0,b.jsxs)("div",{className:"flex items-center gap-6 mb-8 pb-8 border-b border-gray-100",children:[(0,b.jsxs)("div",{className:"relative group cursor-pointer",onClick:()=>document.getElementById("rtrw-avatar-upload").click(),children:[(0,b.jsx)("div",{className:"w-24 h-24 bg-emerald-100 rounded-full flex items-center justify-center text-4xl font-bold text-emerald-600 overflow-hidden border-4 border-emerald-50",children:K?.avatar_url?(0,b.jsx)("img",{src:K.avatar_url,alt:"Profile",className:"w-full h-full object-cover"}):K?.full_name?.charAt(0)||"K"}),(0,b.jsx)("div",{className:"absolute inset-0 bg-black/40 rounded-full flex items-center justify-center opacity-0 group-hover:opacity-100 transition",children:(0,b.jsx)(y.Edit2,{className:"text-white",size:20})})]}),(0,b.jsx)("input",{type:"file",id:"rtrw-avatar-upload",className:"hidden",accept:"image/*",onChange:am}),(0,b.jsxs)("div",{children:[(0,b.jsx)("h2",{className:"text-2xl font-bold text-gray-800",children:K?.full_name}),(0,b.jsx)("p",{className:"text-gray-500",children:K?.email}),(0,b.jsx)("span",{className:"inline-block mt-2 px-3 py-1 rounded-full text-xs font-bold bg-emerald-100 text-emerald-700",children:"Kepala RT/RW"})]})]}),(0,b.jsxs)("form",{onSubmit:al,className:"space-y-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-bold text-gray-700 mb-1",children:"Nama Lengkap"}),(0,b.jsx)("input",{className:"w-full border p-3 rounded-lg text-gray-800 bg-gray-50 focus:ring-2 ring-emerald-500 outline-none",value:K?.full_name||"",onChange:a=>L({...K,full_name:a.target.value})})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-bold text-gray-700 mb-1",children:"Alamat Kantor"}),(0,b.jsx)("textarea",{className:"w-full border p-3 rounded-lg text-gray-800 bg-gray-50 focus:ring-2 ring-emerald-500 outline-none h-24 resize-none",value:K?.alamat||"",onChange:a=>L({...K,alamat:a.target.value})})]}),(0,b.jsx)("button",{type:"submit",className:"w-full bg-emerald-600 text-white py-3 rounded-xl font-bold hover:bg-emerald-700 transition mt-4",children:"Simpan Perubahan"})]})]})});default:return(0,b.jsx)("div",{children:"Halaman tidak ditemukan"})}})()]})}),Y&&(0,b.jsx)("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:(0,b.jsxs)("div",{className:"bg-white rounded-xl p-6 max-w-lg w-full shadow-2xl",children:[(0,b.jsxs)("div",{className:"flex justify-between mb-4 border-b pb-4",children:[(0,b.jsx)("h3",{className:"font-bold text-lg text-gray-800",children:"Tanggapi Pengaduan"}),(0,b.jsx)("button",{onClick:()=>Z(null),children:(0,b.jsx)(o.X,{size:20,className:"text-gray-400"})})]}),(0,b.jsxs)("div",{className:"bg-gray-50 p-3 rounded mb-4 text-sm border border-gray-200",children:[(0,b.jsx)("p",{className:"font-bold text-gray-700 mb-1",children:"Pesan Masuk:"}),(0,b.jsxs)("p",{className:"italic text-gray-600",children:['"',Y.content,'"']})]}),(0,b.jsx)("textarea",{className:"w-full border border-gray-300 rounded-lg p-3 text-sm h-32 outline-none focus:ring-2 focus:ring-emerald-500 text-gray-800 bg-white",placeholder:"Tulis instruksi atau tanggapan resmi RT/RW...",value:$,onChange:a=>_(a.target.value)}),(0,b.jsxs)("div",{className:"mt-4 flex justify-end gap-2",children:[(0,b.jsx)("button",{onClick:()=>Z(null),className:"px-4 py-2 border border-gray-300 rounded text-gray-700 font-medium hover:bg-gray-50",children:"Batal"}),(0,b.jsxs)("button",{onClick:ak,className:"px-4 py-2 bg-emerald-600 text-white rounded hover:bg-emerald-700 flex items-center gap-2 font-bold",children:[(0,b.jsx)(r.Send,{size:14})," Kirim Tanggapan"]})]})]})}),W&&(0,b.jsx)("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:(0,b.jsxs)("div",{className:"bg-white rounded-xl p-6 max-w-md w-full shadow-2xl",children:[(0,b.jsxs)("div",{className:"flex justify-between mb-4 border-b pb-4",children:[(0,b.jsx)("h3",{className:"font-bold text-lg text-gray-800",children:"Detail Transaksi"}),(0,b.jsx)("button",{onClick:()=>X(null),children:(0,b.jsx)(o.X,{size:20,className:"text-gray-400 hover:text-red-500"})})]}),(0,b.jsxs)("div",{className:"space-y-3 text-sm text-gray-700",children:[(0,b.jsxs)("div",{className:"grid grid-cols-3",children:[(0,b.jsx)("span",{className:"font-medium text-gray-500",children:"ID"}),(0,b.jsx)("span",{className:"col-span-2 font-mono text-xs bg-gray-100 p-1 rounded w-fit",children:W.id})]}),(0,b.jsxs)("div",{className:"grid grid-cols-3",children:[(0,b.jsx)("span",{className:"font-medium text-gray-500",children:"Warga"}),(0,b.jsx)("span",{className:"col-span-2 font-bold",children:W.profiles?.full_name})]}),(0,b.jsxs)("div",{className:"grid grid-cols-3",children:[(0,b.jsx)("span",{className:"font-medium text-gray-500",children:"Alamat"}),(0,b.jsx)("span",{className:"col-span-2",children:W.profiles?.address||W.profiles?.alamat})]}),(0,b.jsxs)("div",{className:"grid grid-cols-3",children:[(0,b.jsx)("span",{className:"font-medium text-gray-500",children:"Berat"}),(0,b.jsxs)("span",{className:"col-span-2 font-bold",children:[W.weight," kg"]})]}),(0,b.jsxs)("div",{className:"grid grid-cols-3",children:[(0,b.jsx)("span",{className:"font-medium text-gray-500",children:"Total Biaya"}),(0,b.jsxs)("span",{className:"col-span-2 text-emerald-600 font-bold",children:["Rp ",W.total_price?.toLocaleString()]})]}),(0,b.jsxs)("div",{className:"grid grid-cols-3",children:[(0,b.jsx)("span",{className:"font-medium text-gray-500",children:"Status"}),(0,b.jsx)("div",{className:"col-span-2",children:(0,b.jsx)("span",{className:`px-2 py-0.5 rounded text-xs border font-bold ${ah(W.status)}`,children:W.status})})]})]})]})})]})}a.s(["default",()=>C],81130)}];

//# sourceMappingURL=Downloads_RecycleYuk-revision_RecycleYuk_RecycleYuk_03012469._.js.map