module.exports=[36985,(a,b,c)=>{"use strict";b.exports=a.r(34405).vendored["react-ssr"].React},86912,(a,b,c)=>{"use strict";b.exports=a.r(34405).vendored.contexts.AppRouterContext},88354,(a,b,c)=>{"use strict";b.exports=a.r(34405).vendored.contexts.HooksClientContext},75831,(a,b,c)=>{"use strict";b.exports=a.r(34405).vendored.contexts.ServerInsertedHtml},18622,(a,b,c)=>{b.exports=a.x("next/dist/compiled/next-server/app-page-turbo.runtime.prod.js",()=>require("next/dist/compiled/next-server/app-page-turbo.runtime.prod.js"))},56704,(a,b,c)=>{b.exports=a.x("next/dist/server/app-render/work-async-storage.external.js",()=>require("next/dist/server/app-render/work-async-storage.external.js"))},32319,(a,b,c)=>{b.exports=a.x("next/dist/server/app-render/work-unit-async-storage.external.js",()=>require("next/dist/server/app-render/work-unit-async-storage.external.js"))},20635,(a,b,c)=>{b.exports=a.x("next/dist/server/app-render/action-async-storage.external.js",()=>require("next/dist/server/app-render/action-async-storage.external.js"))},34405,(a,b,c)=>{"use strict";b.exports=a.r(18622)},13755,(a,b,c)=>{"use strict";b.exports=a.r(34405).vendored["react-ssr"].ReactJsxRuntime},53115,a=>{"use strict";let b=(0,a.i(27075).default)("map-pin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);a.s(["MapPin",()=>b],53115)},52446,a=>{"use strict";let b=(0,a.i(27075).default)("user",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);a.s(["User",()=>b],52446)},61964,a=>{"use strict";let b=(0,a.i(27075).default)("truck",[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]]);a.s(["Truck",()=>b],61964)},25361,a=>{"use strict";let b=(0,a.i(27075).default)("credit-card",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);a.s(["CreditCard",()=>b],25361)},66007,a=>{"use strict";let b=(0,a.i(27075).default)("arrow-right",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);a.s(["ArrowRight",()=>b],66007)},89800,a=>{"use strict";let b=(0,a.i(27075).default)("eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);a.s(["Eye",()=>b],89800)},184,56043,20112,a=>{"use strict";var b=a.i(27075);let c=(0,b.default)("mail",[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]]);a.s(["Mail",()=>c],184);let d=(0,b.default)("lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);a.s(["Lock",()=>d],56043);let e=(0,b.default)("eye-off",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);a.s(["EyeOff",()=>e],20112)},10660,a=>{"use strict";var b=a.i(13755),c=a.i(36985),d=a.i(42755),e=a.i(88691),f=a.i(27075);let g=(0,f.default)("arrow-left",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);var h=a.i(52446),i=a.i(25361),j=a.i(53115),k=a.i(184),l=a.i(56043),m=a.i(89800),n=a.i(20112),o=a.i(66007),p=a.i(61964);let q=(0,f.default)("crown",[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]]),r=(0,f.default)("house",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]]);var s=a.i(31285);let t=(0,e.createClient)("https://bvigrmajwdfpavxmxefl.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImJ2aWdybWFqd2RmcGF2eG14ZWZsIiwicm9sZSI6ImFub24iLCJpYXQiOjE3Njc2NTE2MzAsImV4cCI6MjA4MzIyNzYzMH0.Qii8jaaMgtH5Sq-C7YfpQ26AmGnMmh3aEbsTX8Ciyg0");function u(){let[a,e]=(0,c.useState)({nama:"",nik:"",alamat:"",rt:"",rw:"",email:"",password:"",confirmPassword:"",platNomor:"",kelurahan:""}),[f,u]=(0,c.useState)("user"),[v,w]=(0,c.useState)(!1),[x,y]=(0,c.useState)(!1),[z,A]=(0,c.useState)(!1),[B,C]=(0,c.useState)(""),D=(0,d.useRouter)(),E=b=>{e({...a,[b.target.name]:b.target.value}),B&&C("")},F=async b=>{if(b.preventDefault(),w(!0),C(""),a.password!==a.confirmPassword){C("Password dan Konfirmasi tidak sama!"),w(!1);return}if(16!==a.nik.length||isNaN(a.nik)){C("NIK harus 16 digit angka!"),w(!1);return}if(("user"===f||"rt"===f||"driver"===f)&&(!a.rt||!a.rw)){C("RT dan RW wajib diisi!"),w(!1);return}try{let{data:b,error:c}=await t.auth.signUp({email:a.email,password:a.password,options:{data:{full_name:a.nama,role:f}}});if(c)throw Error(c.message);if(b?.user){let{error:c}=await t.from("profiles").upsert({id:b.user.id,full_name:a.nama,nik:a.nik,address:a.alamat,email:a.email,role:f,rt:a.rt,rw:a.rw,kelurahan:a.kelurahan,updated_at:new Date().toISOString()},{onConflict:"id"});if(c)throw Error("Gagal simpan profil: "+c.message);"driver"===f&&await t.from("drivers").insert({id:b.user.id,name:a.nama,status:"Off Duty",vehicle:"-",plat_nomor:a.platNomor,verification_status:"pending"}),s.default.fire({title:"Registrasi Berhasil!",text:`Akun ${"rt"===f?"Ketua RT":"driver"===f?"Driver":"Warga"} berhasil dibuat.`,icon:"success",confirmButtonColor:"#10B981"}).then(a=>{a.isConfirmed&&D.push("/login")})}}catch(b){let a=b.message;a.includes("already registered")&&(a="Email sudah terdaftar. Silakan login."),C(a),s.default.fire({title:"Gagal",text:a,icon:"error",confirmButtonColor:"#EF4444"})}finally{w(!1)}};return(0,b.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-green-50 via-emerald-50 to-teal-50 flex items-center justify-center p-4 relative",children:[(0,b.jsxs)("div",{className:"absolute inset-0 overflow-hidden pointer-events-none z-0",children:[(0,b.jsx)("div",{className:"absolute top-20 left-10 w-20 h-20 bg-green-200 rounded-full opacity-20 animate-bounce",style:{animationDuration:"3s"}}),(0,b.jsx)("div",{className:"absolute bottom-20 left-1/4 w-24 h-24 bg-teal-200 rounded-full opacity-20 animate-bounce",style:{animationDuration:"5s",animationDelay:"2s"}})]}),(0,b.jsx)("div",{className:"w-full max-w-2xl relative z-10",children:(0,b.jsxs)("div",{className:"bg-white rounded-2xl shadow-2xl overflow-hidden animate-fadeIn",children:[(0,b.jsxs)("div",{className:"bg-gradient-to-r from-green-500 to-emerald-600 p-8 text-white text-center flex flex-col items-center",children:[(0,b.jsx)("div",{className:"mb-4 bg-white/20 p-3 rounded-2xl backdrop-blur-sm shadow-inner inline-block",children:(0,b.jsx)("img",{src:"/images/logo.png",alt:"RecycleYuk Logo",className:"h-20 w-auto object-contain brightness-0 invert"})}),(0,b.jsx)("p",{className:"text-green-50 text-sm font-medium tracking-wide",children:"Daftar Akun Baru"})]}),(0,b.jsxs)("div",{className:"p-8",children:[(0,b.jsxs)("button",{onClick:()=>D.push("/login"),className:"flex items-center gap-2 text-green-600 hover:text-green-700 mb-6 font-bold",children:[(0,b.jsx)(g,{size:16})," Kembali ke Login"]}),(0,b.jsx)("h2",{className:"text-2xl font-bold text-gray-800 mb-2",children:"Pilih Peran"}),(0,b.jsx)("p",{className:"text-gray-600 mb-6 text-sm",children:"Daftar sesuai peran Anda di lingkungan."}),(0,b.jsx)("div",{className:"flex flex-col sm:flex-row gap-4 mb-8",children:[{id:"user",label:"Warga",icon:h.User},{id:"driver",label:"Driver",icon:p.Truck},{id:"rt",label:"Ketua RT",icon:q}].map(a=>(0,b.jsxs)("button",{type:"button",onClick:()=>u(a.id),className:`flex-1 flex flex-col items-center justify-center p-4 rounded-xl border-2 transition-all ${f===a.id?"border-green-500 bg-green-50 text-green-700 shadow-md transform scale-105":"border-gray-200 text-gray-500 hover:bg-gray-50"}`,children:[(0,b.jsx)(a.icon,{className:`w-6 h-6 mb-2 ${f===a.id?"text-green-600":"text-gray-400"}`}),(0,b.jsx)("span",{className:"text-sm font-bold",children:a.label})]},a.id))}),B&&(0,b.jsxs)("div",{className:"mb-6 p-4 bg-red-50 border border-red-200 rounded-lg text-red-700 text-sm flex items-center gap-2",children:[(0,b.jsx)("span",{className:"font-bold",children:"!"})," ",B]}),(0,b.jsxs)("form",{onSubmit:F,className:"space-y-5",children:[(0,b.jsxs)("div",{className:"relative group",children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nama Lengkap"}),(0,b.jsxs)("div",{className:"relative",children:[(0,b.jsx)(h.User,{className:"absolute left-3 top-3 text-gray-400",size:20}),(0,b.jsx)("input",{type:"text",name:"nama",value:a.nama,onChange:E,className:"w-full pl-11 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 outline-none text-gray-800",placeholder:"Nama Lengkap",required:!0})]})]}),(0,b.jsxs)("div",{className:"relative group",children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"NIK"}),(0,b.jsxs)("div",{className:"relative",children:[(0,b.jsx)(i.CreditCard,{className:"absolute left-3 top-3 text-gray-400",size:20}),(0,b.jsx)("input",{type:"text",name:"nik",value:a.nik,onChange:a=>{/^\d*$/.test(a.target.value)&&a.target.value.length<=16&&E(a)},className:"w-full pl-11 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 outline-none text-gray-800",placeholder:"16 Digit NIK",required:!0})]})]}),(0,b.jsxs)("div",{className:"relative group",children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Alamat Lengkap"}),(0,b.jsxs)("div",{className:"relative",children:[(0,b.jsx)(j.MapPin,{className:"absolute left-3 top-4 text-gray-400",size:20}),(0,b.jsx)("textarea",{name:"alamat",value:a.alamat,onChange:E,rows:"2",className:"w-full pl-11 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 outline-none resize-none text-gray-800",placeholder:"Jalan, No Rumah",required:!0})]})]}),(0,b.jsxs)("div",{className:"relative group",children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Kelurahan"}),(0,b.jsxs)("div",{className:"relative",children:[(0,b.jsx)(j.MapPin,{className:"absolute left-3 top-3 text-gray-400",size:20}),(0,b.jsx)("input",{type:"text",name:"kelurahan",value:a.kelurahan,onChange:E,className:"w-full pl-11 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 outline-none text-gray-800",placeholder:"Nama Kelurahan",required:!0})]})]}),("user"===f||"rt"===f||"driver"===f)&&(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-4 bg-green-50 p-4 rounded-xl border border-green-100",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-bold text-green-800 mb-1",children:"RT"}),(0,b.jsxs)("div",{className:"relative",children:[(0,b.jsx)(r,{className:"absolute left-3 top-3 text-green-600",size:18}),(0,b.jsx)("input",{type:"text",name:"rt",value:a.rt,onChange:E,className:"w-full pl-10 pr-4 py-3 border border-green-300 rounded-lg focus:ring-2 focus:ring-green-500 outline-none text-gray-800",placeholder:"001"})]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-bold text-green-800 mb-1",children:"RW"}),(0,b.jsxs)("div",{className:"relative",children:[(0,b.jsx)(r,{className:"absolute left-3 top-3 text-green-600",size:18}),(0,b.jsx)("input",{type:"text",name:"rw",value:a.rw,onChange:E,className:"w-full pl-10 pr-4 py-3 border border-green-300 rounded-lg focus:ring-2 focus:ring-green-500 outline-none text-gray-800",placeholder:"005"})]})]})]}),"driver"===f&&(0,b.jsxs)("div",{className:"relative group",children:[(0,b.jsx)("label",{className:"block text-sm font-bold text-gray-700 mb-1",children:"Plat Nomor Kendaraan"}),(0,b.jsxs)("div",{className:"relative",children:[(0,b.jsx)(p.Truck,{className:"absolute left-3 top-3 text-gray-400",size:20}),(0,b.jsx)("input",{type:"text",name:"platNomor",value:a.platNomor,onChange:E,className:"w-full pl-11 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 outline-none text-gray-800 uppercase",placeholder:"D 1234 ABC",required:!0})]})]}),(0,b.jsxs)("div",{className:"relative group",children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),(0,b.jsxs)("div",{className:"relative",children:[(0,b.jsx)(k.Mail,{className:"absolute left-3 top-3 text-gray-400",size:20}),(0,b.jsx)("input",{type:"email",name:"email",value:a.email,onChange:E,className:"w-full pl-11 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 outline-none text-gray-800",placeholder:"email@contoh.com",required:!0})]})]}),(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,b.jsxs)("div",{className:"relative group",children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Password"}),(0,b.jsxs)("div",{className:"relative",children:[(0,b.jsx)(l.Lock,{className:"absolute left-3 top-3 text-gray-400",size:20}),(0,b.jsx)("input",{type:x?"text":"password",name:"password",value:a.password,onChange:E,className:"w-full pl-11 pr-10 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 outline-none text-gray-800",placeholder:"Min 8 karakter",required:!0}),(0,b.jsx)("button",{type:"button",onClick:()=>y(!x),className:"absolute right-3 top-3 text-gray-400",children:x?(0,b.jsx)(n.EyeOff,{size:20}):(0,b.jsx)(m.Eye,{size:20})})]})]}),(0,b.jsxs)("div",{className:"relative group",children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Konfirmasi"}),(0,b.jsxs)("div",{className:"relative",children:[(0,b.jsx)(l.Lock,{className:"absolute left-3 top-3 text-gray-400",size:20}),(0,b.jsx)("input",{type:z?"text":"password",name:"confirmPassword",value:a.confirmPassword,onChange:E,className:"w-full pl-11 pr-10 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 outline-none text-gray-800",placeholder:"Ulangi password",required:!0}),(0,b.jsx)("button",{type:"button",onClick:()=>A(!z),className:"absolute right-3 top-3 text-gray-400",children:z?(0,b.jsx)(n.EyeOff,{size:20}):(0,b.jsx)(m.Eye,{size:20})})]})]})]}),(0,b.jsx)("button",{type:"submit",disabled:v,className:"w-full bg-gradient-to-r from-green-500 to-emerald-600 text-white py-3.5 rounded-lg font-bold text-lg hover:from-green-600 hover:to-emerald-700 transition-all shadow-lg flex items-center justify-center gap-2 mt-4 disabled:opacity-70",children:v?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"}),(0,b.jsx)("span",{children:"Memproses..."})]}):(0,b.jsxs)(b.Fragment,{children:["Daftar Sekarang ",(0,b.jsx)(o.ArrowRight,{size:20})]})})]})]})]})})]})}a.s(["default",()=>u],10660)}];

//# sourceMappingURL=%5Broot-of-the-server%5D__e8db0b36._.js.map