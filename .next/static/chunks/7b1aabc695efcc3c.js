(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,97487,e=>{"use strict";e.i(6181);var a=e.i(37936),s=e.i(58413),t=e.i(53625),r=e.i(65455),l=e.i(43610),i=e.i(58719),n=e.i(12033),d=e.i(20473),o=e.i(89199),c=e.i(94156),x=e.i(24784);let m=(0,x.default)("settings",[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);var u=e.i(77269),g=e.i(35153);let h=(0,x.default)("plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]),p=(0,x.default)("square-pen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);var b=e.i(85416),f=e.i(10674),j=e.i(60681),v=e.i(69270),y=e.i(65658),N=e.i(80638),w=e.i(57933),k=e.i(95827);let C=(0,x.default)("shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);var S=e.i(90085);let _=(0,x.default)("save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);var D=e.i(74722),P=e.i(74474),z=e.i(70334),T=e.i(10843),A=e.i(1373),I=e.i(88781),M=e.i(72915);let R=(0,r.createClient)("https://bvigrmajwdfpavxmxefl.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImJ2aWdybWFqd2RmcGF2eG14ZWZsIiwicm9sZSI6ImFub24iLCJpYXQiOjE3Njc2NTE2MzAsImV4cCI6MjA4MzIyNzYzMH0.Qii8jaaMgtH5Sq-C7YfpQ26AmGnMmh3aEbsTX8Ciyg0");function E(){let e=(0,t.useRouter)(),[r,x]=(0,s.useState)(!1),[E,B]=(0,s.useState)(!0),[L,$]=(0,s.useState)(""),[U,O]=(0,s.useState)(!0),[q,W]=(0,s.useState)("dashboard"),[K,F]=(0,s.useState)(null),[G,J]=(0,s.useState)([]),[V,H]=(0,s.useState)([]),[Y,X]=(0,s.useState)([]),[Z,Q]=(0,s.useState)([]),[ee,ea]=(0,s.useState)([]),[es,et]=(0,s.useState)([]),[er,el]=(0,s.useState)(""),[ei,en]=(0,s.useState)("All"),[ed,eo]=(0,s.useState)({income:0,expense:0}),[ec,ex]=(0,s.useState)({date:"",status:"All"}),[em,eu]=(0,s.useState)({tariff:15e3,opStart:"08:00",opEnd:"17:00",emailNotif:!0}),[eg,eh]=(0,s.useState)(!1),[ep,eb]=(0,s.useState)(""),[ef,ej]=(0,s.useState)(null),[ev,ey]=(0,s.useState)({}),eN=[{id:"dashboard",label:"Ringkasan",icon:l.LayoutDashboard},{id:"users",label:"Manajemen User",icon:i.Users},{id:"drivers",label:"Manajemen Driver",icon:n.Truck},{id:"pickups",label:"Pengangkutan",icon:b.Trash2},{id:"areas",label:"Wilayah",icon:d.MapPin},{id:"reports",label:"Laporan",icon:o.FileText},{id:"finance",label:"Keuangan",icon:c.Wallet},{id:"settings",label:"Pengaturan Sistem",icon:m}];(0,s.useEffect)(()=>{x(!0);let e=setInterval(()=>{$(new Date().toLocaleTimeString("id-ID",{hour:"2-digit",minute:"2-digit"}))},1e3),a=document.createElement("script");return a.src="https://app.sandbox.midtrans.com/snap/snap.js",a.setAttribute("data-client-key","Mid-client-zVn1_jq4GqVUHzoj"),a.async=!0,document.body.appendChild(a),ew(),()=>{clearInterval(e),document.body.removeChild(a)}},[]);let ew=async()=>{B(!0);try{let{data:{user:a}}=await R.auth.getUser();if(!a)return void e.push("/login");let{data:s}=await R.from("profiles").select("*").eq("id",a.id).single();F({...a,...s,newPassword:""});let{data:t}=await R.from("app_settings").select("*").single();t&&eu({tariff:t.tariff_per_kg,opStart:t.operational_start,opEnd:t.operational_end,emailNotif:t.email_notification});let{data:r}=await R.from("notifications").select("*").order("created_at",{ascending:!1});r&&et(r);let{data:l}=await R.from("profiles").select("*").order("created_at",{ascending:!1});l&&J(l);let{data:i}=await R.from("drivers").select("*").order("created_at",{ascending:!1});i&&H(i);let{data:n}=await R.from("areas").select("*, drivers(name)").order("created_at",{ascending:!1});n&&X(n);let{data:d}=await R.from("transactions").select("*, profiles(full_name, address), waste_types(name)").order("created_at",{ascending:!1});if(d){Q(d);let e=d.map(e=>({id:e.id,date:new Date(e.created_at).toLocaleDateString("id-ID"),user:e.profiles?.full_name||"Tanpa Nama",area:e.profiles?.address||"Belum ada alamat",type:e.waste_types?.name||"Umum",weight:e.weight,weightLabel:`${e.weight} kg`,status:e.status,driver:e.driver_name||"-",price:e.total_price}));ea(e);let a=d.reduce((e,a)=>e+(a.total_price||0),0);eo({income:a,expense:.3*a})}}catch(e){console.error("Error fetching data:",e)}finally{B(!1)}},ek=async()=>{await R.auth.signOut(),e.push("/login")},eC=async e=>{if(!e||0===e.length)return void M.default.fire("Info","Tidak ada data untuk diexport","info");let a=e.map(e=>({Tanggal:e.date||"-",User:e.user||"-",Wilayah:e.area||"-",Berat:e.weightLabel||"-",Driver:e.driver||"-",Status:e.status}));await (0,I.exportToExcel)(a,"laporan_admin")?M.default.fire("Sukses","Laporan berhasil diexport ke CSV!","success"):M.default.fire("Gagal","Gagal export laporan","error")},eS=async e=>{if(!window.snap)return void M.default.fire("Loading","Sistem pembayaran sedang dimuat, coba sesaat lagi.","info");try{let a=prompt("Masukkan Snap Token (Didapat dari Backend Anda):","Masukan_Token_Disini");a&&"Masukan_Token_Disini"!==a?window.snap.pay(a,{onSuccess:async function(a){M.default.fire("Berhasil","Pembayaran Berhasil!","success"),await R.from("transactions").update({status:"Done"}).eq("id",e.id),ew()},onPending:function(e){M.default.fire("Pending","Menunggu pembayaran!","info")},onError:function(e){M.default.fire("Gagal","Pembayaran gagal!","error")},onClose:function(){M.default.fire("Tutup","Anda menutup popup pembayaran.","warning")}}):M.default.fire("Mode Sandbox","Fitur Sandbox Aktif!\n\nUntuk memunculkan Popup Pembayaran Asli, Anda perlu:\n1. Membuat API Backend untuk generate 'Snap Token'.\n2. Memasukkan token tersebut ke fungsi window.snap.pay(token).","info")}catch(e){console.error(e),M.default.fire("Error","Gagal memproses pembayaran","error")}},e_=async e=>{e.preventDefault();try{let e;if("driver"===ep){let a,s={name:ev.name,vehicle:ev.vehicle,shift:ev.shift,status:ev.status};if(ef)a=R.from("drivers").update(s).eq("id",ef.id);else{if(!ev.userId)throw Error("Pilih user terlebih dahulu!");a=R.from("drivers").insert([{...s,id:ev.userId}])}({error:e}=await a)}else if("area"===ep){let a={kelurahan:ev.kelurahan,rw:ev.rw,rt:ev.rt,driver_id:ev.driverId||null},s=ef?R.from("areas").update(a).eq("id",ef.id):R.from("areas").insert([a]);({error:e}=await s)}else"user"===ep?{error:e}=await R.from("profiles").update({full_name:ev.name,role:ev.role,alamat:ev.region,rt:ev.rt,rw:ev.rw}).eq("id",ef.id):"pickup"===ep&&({error:e}=await R.from("transactions").update({status:ev.status,driver_name:ev.driver}).eq("id",ef.id));if(e)throw e;M.default.fire("Sukses","Data berhasil disimpan!","success"),eh(!1),ew()}catch(e){M.default.fire("Error","Gagal: "+e.message,"error")}},eD=async(e,a)=>{if((await M.default.fire({title:"Hapus data ini?",text:"Data yang dihapus tidak dapat dikembalikan!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#d33",cancelButtonColor:"#3085d6",confirmButtonText:"Ya, Hapus!"})).isConfirmed)try{let s="driver"===a?"drivers":"area"===a?"areas":"notif"===a?"notifications":"";s&&await R.from(s).delete().eq("id",e),"notif"===a?et(a=>a.filter(a=>a.id!==e)):ew(),M.default.fire("Terhapus!","Data berhasil dihapus.","success")}catch(e){M.default.fire("Error",e.message,"error")}},eP=async()=>{try{await R.from("app_settings").update({tariff_per_kg:em.tariff,operational_start:em.opStart,operational_end:em.opEnd,email_notification:em.emailNotif}).eq("id",1),await R.from("notifications").insert([{title:"Pengaturan Diubah",message:`Tarif baru: Rp ${em.tariff}`,type:"info"}]),M.default.fire("Sukses","Pengaturan sistem berhasil disimpan!","success"),ew()}catch(e){M.default.fire("Error",e.message,"error")}},ez=async e=>{e.preventDefault();try{await R.from("profiles").update({full_name:K.full_name,alamat:K.alamat}).eq("id",K.id),K.newPassword?.length>=6&&await R.auth.updateUser({password:K.newPassword}),M.default.fire("Sukses","Profil Admin berhasil diperbarui!","success")}catch(e){M.default.fire("Error",e.message,"error")}},eT=async e=>{let a=e.target.files[0];if(a)try{M.default.fire({title:"Mengupload...",text:"Mohon tunggu sebentar",allowOutsideClick:!1,didOpen:()=>M.default.showLoading()});let e=await (0,I.uploadAvatar)(a,K.id);if(!e)throw Error("Gagal mendapatkan URL gambar.");let{error:s}=await R.from("profiles").update({avatar_url:e}).eq("id",K.id);if(s)throw s;F(a=>({...a,avatar_url:e})),M.default.fire("Sukses","Foto profil berhasil diperbarui!","success")}catch(e){console.error(e),M.default.fire("Error","Gagal upload foto: "+e.message,"error")}},eA=async e=>{await R.from("notifications").update({is_read:!0}).eq("id",e),et(a=>a.map(a=>a.id===e?{...a,is_read:!0}:a))},eI=async(e,a)=>{try{let{error:s}=await R.from("drivers").update({verification_status:a}).eq("id",e);if(s)throw s;H(s=>s.map(s=>s.id===e?{...s,verification_status:a}:s)),M.default.fire("Sukses",`Status driver berhasil diubah menjadi ${a}`,"success")}catch(e){M.default.fire("Error","Gagal update status verifikasi: "+e.message,"error")}},eM=e=>new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0}).format(e),eR=es.filter(e=>!e.is_read).length,eE=(e,a=null)=>{eb(e),ej(a),eh(!0),a?"area"===e?ey({...a,driverId:a.driver_id}):"user"===e?ey({name:a.full_name,role:a.role,region:a.alamat,...a}):ey({...a}):"driver"===e?ey({status:"Off Duty",shift:"Shift 1 (08:00 - 12:00)"}):ey({})};return E&&!r?(0,a.jsxs)("div",{className:"min-h-screen flex justify-center items-center text-gray-800 font-bold bg-gray-50",children:[(0,a.jsx)(P.Loader2,{className:"animate-spin mr-2"})," Memuat Sistem Admin..."]}):(0,a.jsxs)("div",{className:"min-h-screen bg-gray-50 flex font-sans text-gray-800",children:[(0,a.jsxs)("aside",{className:`hidden md:flex flex-col bg-white border-r border-gray-200 fixed h-full z-20 transition-all duration-300 ${U?"w-64":"w-20"}`,children:[(0,a.jsxs)("div",{className:"h-20 flex items-center justify-between px-4 border-b border-gray-100",children:[(0,a.jsx)("div",{className:`flex items-center gap-3 transition-all duration-300 ${!U?"justify-center w-full px-0":"px-0"}`,children:U?(0,a.jsxs)("div",{className:"flex flex-col animate-in fade-in slide-in-from-left duration-300",children:[(0,a.jsx)("img",{src:"/images/logo.png",alt:"RecycleYuk",className:"w-36 h-auto object-contain mb-1"}),(0,a.jsx)("span",{className:"text-[10px] font-bold text-green-600 tracking-[0.2em] uppercase pl-1",children:"Admin Panel"})]}):(0,a.jsxs)("button",{onClick:()=>O(!0),className:"mx-auto relative group",children:[(0,a.jsx)("img",{src:"/images/mini-logo.png",alt:"RecycleYuk",className:"w-10 h-10 object-contain transition-transform group-hover:scale-110"}),(0,a.jsx)("div",{className:"absolute -right-2 -bottom-2 bg-green-100 text-green-600 rounded-full p-0.5 shadow-sm border border-white",children:(0,a.jsx)(y.ChevronRight,{size:12})})]})}),U&&(0,a.jsx)("button",{onClick:()=>O(!1),className:"p-2 rounded-lg hover:bg-gray-100 text-gray-500",children:(0,a.jsx)(v.ChevronLeft,{size:20})})]}),(0,a.jsx)("nav",{className:"flex-1 p-3 space-y-2 overflow-y-auto overflow-x-hidden",children:eN.map(e=>(0,a.jsxs)("button",{onClick:()=>W(e.id),className:`w-full flex items-center rounded-xl font-medium transition-all duration-200 h-12 ${q===e.id?"bg-green-50 text-green-700 shadow-sm border border-green-100":"text-gray-600 hover:bg-gray-50 hover:text-green-600"} ${U?"px-4 gap-3 justify-start":"justify-center px-0"}`,children:[(0,a.jsx)(e.icon,{size:22,className:`min-w-[22px] ${q===e.id?"text-green-600":"text-gray-400"}`})," ",U&&(0,a.jsx)("span",{className:"whitespace-nowrap overflow-hidden",children:e.label})]},e.id))}),(0,a.jsx)("div",{className:"p-4 border-t border-gray-100",children:(0,a.jsxs)("button",{onClick:ek,className:`w-full flex items-center rounded-xl font-medium text-red-600 hover:bg-red-50 transition-all h-12 ${U?"px-4 gap-3 justify-start":"justify-center px-0"}`,children:[(0,a.jsx)(k.LogOut,{size:22,className:"min-w-[22px]"})," ",U&&"Keluar"]})})]}),(0,a.jsx)("main",{className:`flex-1 p-4 md:p-8 overflow-y-auto transition-all duration-300 ${U?"md:ml-64":"md:ml-20"}`,children:(0,a.jsxs)("div",{className:"max-w-6xl mx-auto",children:[(0,a.jsxs)("header",{className:"flex flex-col md:flex-row justify-between items-start md:items-center mb-8 gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h2",{className:"text-2xl font-bold capitalize text-gray-800",children:"dashboard"===q?"Ringkasan":q.replace("-"," ")}),(0,a.jsx)("p",{className:"text-gray-500 text-sm",children:"Panel Kontrol Administrator"})]}),(0,a.jsxs)("div",{className:"flex items-center gap-4",children:[(0,a.jsxs)("div",{className:"hidden md:flex text-sm font-medium text-gray-500 bg-white px-3 py-2 rounded-lg border border-gray-200 items-center gap-2 shadow-sm",children:[(0,a.jsx)(N.Clock,{size:16,className:"text-green-600"})," ",r?L:"..."]}),(0,a.jsxs)("div",{className:"flex items-center gap-3 bg-white p-1 rounded-xl border border-gray-200 shadow-sm",children:[(0,a.jsxs)("button",{onClick:()=>W("notifikasi"),className:"p-2 rounded-lg hover:bg-gray-100 relative text-gray-600 group transition",children:[(0,a.jsx)(u.Bell,{size:20,className:"group-hover:text-green-600"}),eR>0&&(0,a.jsx)("span",{className:"absolute top-2 right-2 w-2 h-2 bg-red-500 rounded-full border border-white animate-pulse"})]}),(0,a.jsx)("div",{className:"w-px h-6 bg-gray-200"}),(0,a.jsxs)("button",{onClick:()=>W("profile"),className:"flex items-center gap-3 pl-2 pr-3 py-1 rounded-lg hover:bg-gray-50 transition",children:[(0,a.jsx)("div",{className:"w-8 h-8 rounded-full bg-green-100 flex items-center justify-center text-green-700 font-bold border border-green-200 overflow-hidden",children:K?.avatar_url?(0,a.jsx)("img",{src:K.avatar_url,alt:"Profile",className:"w-full h-full object-cover"}):K?.full_name?.charAt(0)||"A"}),(0,a.jsxs)("div",{className:"text-left hidden md:block",children:[(0,a.jsx)("p",{className:"text-xs font-bold text-gray-800 line-clamp-1 max-w-[100px]",children:K?.full_name||"Admin"}),(0,a.jsx)("p",{className:"text-0 text-gray-500",children:"Administrator"})]})]})]})]})]}),(()=>{switch(q){case"dashboard":return(0,a.jsxs)("div",{className:"space-y-6 animate-in fade-in text-gray-800",children:[(0,a.jsxs)("div",{className:"bg-gradient-to-r from-green-600 to-emerald-600 rounded-xl shadow-lg p-8 text-white relative overflow-hidden",children:[(0,a.jsxs)("div",{className:"relative z-10",children:[(0,a.jsx)("h2",{className:"text-3xl font-bold mb-2",children:"Dashboard Admin ðŸ‘‹"}),(0,a.jsx)("p",{children:"Ringkasan aktivitas sistem RecycleYuk hari ini."})]}),(0,a.jsx)("div",{className:"absolute right-0 top-0 h-full w-1/3 bg-white/10 skew-x-12"})]}),(0,a.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[{l:"Total User",v:G.length,i:i.Users,c:"blue"},{l:"Pickup Aktif",v:ee.filter(e=>"Done"!==e.status).length,i:n.Truck,c:"green"},{l:"Laporan Baru",v:es.filter(e=>!e.is_read).length,i:u.Bell,c:"red"},{l:"Pendapatan",v:eM(ed.income),i:c.Wallet,c:"purple"}].map((e,s)=>(0,a.jsxs)("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-200 flex justify-between items-center hover:shadow-md transition",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-gray-500 text-sm font-medium",children:e.l}),(0,a.jsx)("h3",{className:"text-2xl font-bold text-gray-800",children:e.v})]}),(0,a.jsx)("div",{className:`bg-${e.c}-50 p-3 rounded-lg text-${e.c}-600`,children:(0,a.jsx)(e.i,{size:28})})]},s))}),(0,a.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[(0,a.jsxs)("div",{className:"lg:col-span-2 bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden",children:[(0,a.jsxs)("div",{className:"p-6 border-b border-gray-100 flex justify-between items-center",children:[(0,a.jsxs)("h3",{className:"font-bold text-gray-800 flex items-center gap-2",children:[(0,a.jsx)(N.Clock,{size:18,className:"text-blue-500"})," Aktivitas Terbaru"]}),(0,a.jsx)("button",{onClick:()=>W("reports"),className:"text-sm text-blue-600 hover:underline",children:"Lihat Semua"})]}),(0,a.jsxs)("div",{className:"divide-y divide-gray-100",children:[Z.slice(0,5).map(e=>(0,a.jsxs)("div",{className:"p-4 hover:bg-gray-50 transition flex items-center gap-4",children:[(0,a.jsx)("div",{className:`p-2 rounded-full ${"Done"===e.status?"bg-green-100 text-green-600":"Process"===e.status?"bg-blue-100 text-blue-600":"bg-yellow-100 text-yellow-600"}`,children:"Done"===e.status?(0,a.jsx)(A.CheckCircle2,{size:18}):"Process"===e.status?(0,a.jsx)(n.Truck,{size:18}):(0,a.jsx)(N.Clock,{size:18})}),(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsx)("p",{className:"text-sm font-bold text-gray-800",children:"Pending"===e.status?"Permintaan Pickup Baru":"Process"===e.status?"Sedang Dijemput":"Pickup Selesai"}),(0,a.jsxs)("p",{className:"text-xs text-gray-500",children:[e.profiles?.full_name," â€¢ ",e.waste_types?.name," (",e.weight," kg)"]})]}),(0,a.jsx)("div",{className:"text-right",children:(0,a.jsx)("span",{className:"text-xs font-medium text-gray-400",children:new Date(e.created_at).toLocaleTimeString("id-ID",{hour:"2-digit",minute:"2-digit"})})})]},e.id)),0===Z.length&&(0,a.jsx)("div",{className:"p-8 text-center text-gray-400",children:"Belum ada aktivitas"})]})]}),(0,a.jsxs)("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[(0,a.jsxs)("h3",{className:"font-bold text-gray-800 mb-4 flex items-center gap-2",children:[(0,a.jsx)(z.PlayCircle,{size:18,className:"text-green-500"})," Quick Actions"]}),(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsxs)("button",{onClick:()=>eE("driver"),className:"w-full flex items-center gap-3 p-3 bg-gray-50 hover:bg-green-50 hover:text-green-700 rounded-xl transition border border-gray-100",children:[(0,a.jsx)("div",{className:"bg-green-100 p-2 rounded-lg text-green-700",children:(0,a.jsx)(n.Truck,{size:18})}),(0,a.jsx)("span",{className:"font-medium text-sm",children:"Tambah Driver Baru"})]}),(0,a.jsxs)("button",{onClick:()=>eE("area"),className:"w-full flex items-center gap-3 p-3 bg-gray-50 hover:bg-blue-50 hover:text-blue-700 rounded-xl transition border border-gray-100",children:[(0,a.jsx)("div",{className:"bg-blue-100 p-2 rounded-lg text-blue-700",children:(0,a.jsx)(d.MapPin,{size:18})}),(0,a.jsx)("span",{className:"font-medium text-sm",children:"Tambah Wilayah"})]}),(0,a.jsxs)("button",{onClick:()=>W("pickups"),className:"w-full flex items-center gap-3 p-3 bg-gray-50 hover:bg-orange-50 hover:text-orange-700 rounded-xl transition border border-gray-100",children:[(0,a.jsx)("div",{className:"bg-orange-100 p-2 rounded-lg text-orange-700",children:(0,a.jsx)(b.Trash2,{size:18})}),(0,a.jsx)("span",{className:"font-medium text-sm",children:"Kelola Pickup"})]}),(0,a.jsxs)("button",{onClick:()=>W("settings"),className:"w-full flex items-center gap-3 p-3 bg-gray-50 hover:bg-purple-50 hover:text-purple-700 rounded-xl transition border border-gray-100",children:[(0,a.jsx)("div",{className:"bg-purple-100 p-2 rounded-lg text-purple-700",children:(0,a.jsx)(m,{size:18})}),(0,a.jsx)("span",{className:"font-medium text-sm",children:"Pengaturan Tarif"})]})]})]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,a.jsxs)("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-200",children:[(0,a.jsxs)("h3",{className:"font-bold text-lg mb-4 text-gray-800 flex items-center gap-2",children:[(0,a.jsx)(o.FileText,{size:20})," Aktivitas Terbaru"]}),(0,a.jsx)("div",{className:"overflow-x-auto",children:(0,a.jsxs)("table",{className:"w-full text-sm text-left",children:[(0,a.jsx)("thead",{className:"bg-gray-50 text-gray-500",children:(0,a.jsxs)("tr",{children:[(0,a.jsx)("th",{className:"p-3",children:"User"}),(0,a.jsx)("th",{className:"p-3",children:"Berat"}),(0,a.jsx)("th",{className:"p-3",children:"Status"})]})}),(0,a.jsx)("tbody",{children:ee.slice(0,5).map(e=>(0,a.jsxs)("tr",{className:"border-b hover:bg-gray-50",children:[(0,a.jsx)("td",{className:"p-3 font-medium text-gray-800",children:e.user}),(0,a.jsx)("td",{className:"p-3 text-gray-600",children:e.weightLabel}),(0,a.jsx)("td",{className:"p-3",children:(0,a.jsx)("span",{className:`px-2 py-1 rounded text-xs font-bold ${"Done"===e.status?"bg-green-100 text-green-700":"bg-yellow-100 text-yellow-700"}`,children:e.status})})]},e.id))})]})})]}),(0,a.jsxs)("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-200",children:[(0,a.jsxs)("h3",{className:"font-bold text-lg mb-4 text-gray-800 flex items-center gap-2",children:[(0,a.jsx)(d.MapPin,{size:20})," Status Driver"]}),(0,a.jsx)("div",{className:"space-y-3 max-h-[300px] overflow-y-auto pr-2",children:V.map(e=>(0,a.jsxs)("div",{className:"flex justify-between items-center p-3 bg-gray-50 rounded-lg border border-gray-100",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)("div",{className:"w-10 h-10 bg-gray-200 rounded-full flex items-center justify-center font-bold text-gray-500",children:e.name.charAt(0)}),(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{className:"font-bold text-gray-800",children:e.name}),(0,a.jsx)("br",{}),(0,a.jsx)("span",{className:"text-xs text-gray-500",children:e.vehicle})]})]}),(0,a.jsx)("span",{className:`px-2 py-1 rounded text-xs font-bold ${"On Duty"===e.status?"bg-green-100 text-green-700":"bg-gray-200 text-gray-600"}`,children:e.status})]},e.id))})]})]})]});case"users":return(0,a.jsxs)("div",{className:"space-y-6 animate-in slide-in-from-right",children:[(0,a.jsx)("div",{className:"flex justify-between items-center bg-white p-4 rounded-xl shadow-sm border border-gray-200",children:(0,a.jsxs)("div",{className:"flex items-center gap-2 bg-gray-50 px-3 py-2 rounded-lg border border-gray-200 w-full max-w-md",children:[(0,a.jsx)(g.Search,{className:"text-gray-400",size:18}),(0,a.jsx)("input",{type:"text",placeholder:"Cari user...",className:"w-full outline-none text-sm bg-transparent text-gray-800",value:er,onChange:e=>el(e.target.value)})]})}),(0,a.jsx)("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden",children:(0,a.jsxs)("table",{className:"w-full text-left text-sm text-gray-800",children:[(0,a.jsx)("thead",{className:"bg-gray-50 text-gray-600 border-b",children:(0,a.jsxs)("tr",{children:[(0,a.jsx)("th",{className:"p-4",children:"Nama User"}),(0,a.jsx)("th",{className:"p-4",children:"Role"}),(0,a.jsx)("th",{className:"p-4",children:"Alamat"}),(0,a.jsx)("th",{className:"p-4 text-right",children:"Aksi"})]})}),(0,a.jsx)("tbody",{children:G.filter(e=>(e.full_name||"").toLowerCase().includes(er.toLowerCase())).map(e=>(0,a.jsxs)("tr",{className:"border-b hover:bg-gray-50",children:[(0,a.jsxs)("td",{className:"p-4",children:[(0,a.jsx)("div",{className:"font-bold",children:e.full_name||"Tanpa Nama"}),(0,a.jsx)("div",{className:"text-xs text-gray-500",children:e.email})]}),(0,a.jsx)("td",{className:"p-4",children:(0,a.jsx)("span",{className:"bg-gray-100 px-2 py-1 rounded uppercase text-xs font-bold text-gray-700",children:e.role})}),(0,a.jsxs)("td",{className:"p-4 text-gray-600",children:[(0,a.jsx)("div",{children:e.alamat||"-"}),(e.rt||e.rw)&&(0,a.jsxs)("div",{className:"text-xs text-green-600 font-bold mt-1",children:["RT ",e.rt," / RW ",e.rw]})]}),(0,a.jsxs)("td",{className:"p-4 text-right",children:[(0,a.jsx)("button",{onClick:()=>eE("user",e),className:"text-blue-600 hover:bg-blue-50 p-2 rounded transition",children:(0,a.jsx)(p,{size:16})}),!V.some(a=>a.id===e.id)&&(0,a.jsx)("button",{onClick:()=>{eb("driver"),ej(null),eh(!0),ey({userId:e.id,name:e.full_name,status:"Off Duty",shift:"Shift 1 (08:00 - 12:00)"})},className:"ml-2 text-green-600 hover:bg-green-50 p-2 rounded transition",title:"Promote to Driver",children:(0,a.jsx)(n.Truck,{size:16})})]})]},e.id))})]})})]});case"drivers":return(0,a.jsxs)("div",{className:"space-y-6 animate-in slide-in-from-right",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center bg-white p-4 rounded-xl shadow-sm border border-gray-200",children:[(0,a.jsx)("h3",{className:"font-bold text-lg text-gray-800",children:"List Driver"}),(0,a.jsxs)("button",{onClick:()=>eE("driver"),className:"bg-green-600 text-white px-4 py-2 rounded-lg font-bold flex gap-2 hover:bg-green-700",children:[(0,a.jsx)(h,{size:18})," Tambah Driver"]})]}),(0,a.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:V.map(e=>(0,a.jsxs)("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-200 relative group hover:shadow-md transition",children:[(0,a.jsxs)("div",{className:"absolute top-4 right-4 flex gap-1 opacity-100 transition-opacity",children:[(0,a.jsx)("button",{onClick:()=>eE("driver",e),className:"p-2 bg-blue-50 text-blue-600 rounded-lg hover:bg-blue-100",children:(0,a.jsx)(p,{size:16})}),(0,a.jsx)("button",{onClick:()=>eD(e.id,"driver"),className:"p-2 bg-red-50 text-red-600 rounded-lg hover:bg-red-100",children:(0,a.jsx)(b.Trash2,{size:16})})]}),(0,a.jsxs)("div",{className:"flex items-center gap-4 mb-4",children:[(0,a.jsx)("div",{className:"w-14 h-14 bg-gray-100 rounded-full flex items-center justify-center text-xl font-bold text-gray-500",children:e.name.charAt(0)}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h4",{className:"font-bold text-lg text-gray-800",children:e.name}),(0,a.jsx)("p",{className:"text-sm text-gray-500",children:e.vehicle}),(0,a.jsx)("div",{className:`text-xs px-2 py-0.5 rounded-full w-fit mt-1 font-bold ${"verified"===e.verification_status?"bg-green-100 text-green-700":"bg-yellow-100 text-yellow-700"}`,children:"verified"===e.verification_status?"Terverifikasi":"rejected"===e.verification_status?"Ditolak":"Menunggu Verifikasi"})]})]}),"verified"!==e.verification_status&&(0,a.jsxs)("div",{className:"flex gap-2 mb-4",children:[(0,a.jsx)("button",{onClick:()=>eI(e.id,"verified"),className:"flex-1 bg-green-600 text-white py-2 rounded-lg text-xs font-bold hover:bg-green-700",children:"Verifikasi"}),"rejected"!==e.verification_status&&(0,a.jsx)("button",{onClick:()=>eI(e.id,"rejected"),className:"flex-1 bg-red-50 text-red-600 border border-red-200 py-2 rounded-lg text-xs font-bold hover:bg-red-100",children:"Tolak"})]}),(0,a.jsxs)("div",{className:"flex justify-between items-center text-sm border-t pt-3 border-gray-100",children:[(0,a.jsx)("span",{className:"bg-gray-100 px-3 py-1 rounded-full text-gray-600 font-medium",children:e.shift}),(0,a.jsx)("span",{className:`px-3 py-1 rounded-full font-bold ${"On Duty"===e.status?"bg-green-100 text-green-700":"bg-red-50 text-red-600"}`,children:e.status})]})]},e.id))})]});case"pickups":return(0,a.jsxs)("div",{className:"space-y-6 animate-in slide-in-from-right",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center bg-white p-4 rounded-xl shadow-sm border border-gray-200",children:[(0,a.jsx)("h3",{className:"font-bold text-lg text-gray-800",children:"Manajemen Pengangkutan"}),(0,a.jsx)("div",{className:"flex gap-2",children:(0,a.jsxs)("select",{className:"border p-2 rounded-lg text-sm text-gray-800 bg-gray-50 outline-none",onChange:e=>en(e.target.value),children:[(0,a.jsx)("option",{value:"All",children:"Semua Status"}),(0,a.jsx)("option",{value:"Pending",children:"Pending"}),(0,a.jsx)("option",{value:"Done",children:"Selesai"})]})})]}),(0,a.jsx)("div",{className:"space-y-4",children:ee.filter(e=>"All"===ei||e.status===ei).map(e=>(0,a.jsxs)("div",{className:"bg-white p-5 rounded-xl shadow-sm border border-gray-200 flex flex-col md:flex-row justify-between items-center gap-4 hover:shadow-md transition",children:[(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 mb-1",children:[(0,a.jsx)("span",{className:"font-bold text-lg text-gray-800",children:e.area}),(0,a.jsx)("span",{className:"text-xs text-gray-500 bg-gray-100 px-2 py-0.5 rounded-full",children:e.date})]}),(0,a.jsxs)("p",{className:"text-sm text-gray-600",children:[e.user," â€¢ ",(0,a.jsx)("span",{className:"font-bold",children:e.weightLabel})," â€¢ ",eM(e.price)]}),(0,a.jsxs)("div",{className:"flex items-center gap-2 mt-2 text-sm text-green-700 bg-green-50 w-fit px-3 py-1 rounded-lg",children:[(0,a.jsx)(n.Truck,{size:14})," Driver: ",(0,a.jsx)("span",{className:"font-bold",children:e.driver})]})]}),(0,a.jsxs)("div",{className:"flex flex-col md:flex-row items-center gap-3 w-full md:w-auto",children:[(0,a.jsx)("span",{className:`px-3 py-1 rounded-full text-xs font-bold ${"Done"===e.status?"bg-green-100 text-green-700":"bg-yellow-100 text-yellow-700"}`,children:e.status}),"Done"!==e.status&&(0,a.jsxs)("button",{onClick:()=>eS(e),className:"text-sm bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 font-bold flex items-center gap-2 w-full md:w-auto",children:[(0,a.jsx)(T.CreditCard,{size:16})," Bayar (Midtrans)"]}),(0,a.jsx)("button",{onClick:()=>eE("pickup",e),className:"text-sm bg-white border border-gray-300 px-4 py-2 rounded-lg hover:bg-gray-50 font-medium w-full md:w-auto",children:"Update Status"})]})]},e.id))})]});case"areas":return(0,a.jsxs)("div",{className:"space-y-6 animate-in slide-in-from-right",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center bg-white p-4 rounded-xl shadow-sm border border-gray-200",children:[(0,a.jsx)("h3",{className:"font-bold text-lg text-gray-800",children:"Data Wilayah"}),(0,a.jsxs)("button",{onClick:()=>eE("area"),className:"bg-green-600 text-white px-4 py-2 rounded-lg font-bold flex gap-2 hover:bg-green-700",children:[(0,a.jsx)(h,{size:18})," Tambah Wilayah"]})]}),(0,a.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:Y.map(e=>(0,a.jsxs)("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-200 relative group hover:shadow-md transition",children:[(0,a.jsxs)("div",{className:"absolute top-4 right-4 flex gap-1",children:[(0,a.jsx)("button",{onClick:()=>eE("area",e),className:"p-1.5 text-blue-600 hover:bg-blue-50 rounded",children:(0,a.jsx)(p,{size:16})}),(0,a.jsx)("button",{onClick:()=>eD(e.id,"area"),className:"p-1.5 text-red-600 hover:bg-red-50 rounded",children:(0,a.jsx)(b.Trash2,{size:16})})]}),(0,a.jsx)("h4",{className:"font-bold text-xl mb-1 text-gray-800",children:e.kelurahan}),(0,a.jsxs)("div",{className:"flex gap-2 text-sm text-gray-600 mb-4",children:[(0,a.jsxs)("span",{className:"bg-gray-100 px-2 py-1 rounded",children:["RW: ",e.rw]}),(0,a.jsxs)("span",{className:"bg-gray-100 px-2 py-1 rounded",children:["RT: ",e.rt]})]}),(0,a.jsxs)("div",{className:"pt-4 border-t border-gray-100 text-sm",children:[(0,a.jsx)("p",{className:"text-gray-400 text-xs uppercase font-bold mb-1",children:"Penanggung Jawab"}),(0,a.jsxs)("p",{className:"font-bold text-gray-800 flex items-center gap-2",children:[(0,a.jsx)(n.Truck,{size:16,className:"text-green-600"})," ",e.drivers?.name||(0,a.jsx)("span",{className:"text-red-500 italic",children:"Belum assign"})]})]})]},e.id))})]});case"reports":let e;return e=ee.filter(e=>{let a="All"===ec.status||e.status===ec.status,s=!ec.date||e.date.includes(new Date(ec.date).toLocaleDateString("id-ID"));return a&&s}),(0,a.jsxs)("div",{className:"space-y-6 animate-in slide-in-from-right",children:[(0,a.jsxs)("div",{className:"flex flex-col md:flex-row justify-between bg-white p-4 rounded-xl shadow-sm border border-gray-200 gap-4 items-center",children:[(0,a.jsxs)("div",{className:"flex gap-4 items-center w-full",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 border p-2 rounded-lg bg-gray-50 w-full md:w-auto",children:[(0,a.jsx)(m,{size:18,className:"text-gray-500"}),(0,a.jsx)("input",{type:"date",className:"bg-transparent text-sm outline-none text-gray-800 w-full",value:ec.date,onChange:e=>ex({...ec,date:e.target.value})})]}),(0,a.jsxs)("select",{className:"bg-gray-50 border p-2 rounded-lg text-sm text-gray-800 outline-none",value:ec.status,onChange:e=>ex({...ec,status:e.target.value}),children:[(0,a.jsx)("option",{value:"All",children:"Semua Status"}),(0,a.jsx)("option",{value:"Done",children:"Selesai"}),(0,a.jsx)("option",{value:"Pending",children:"Pending"})]})]}),(0,a.jsxs)("button",{onClick:()=>eC(e),className:"bg-green-600 text-white px-4 py-2 rounded-lg text-sm flex gap-2 items-center hover:bg-green-700 font-bold",children:[(0,a.jsx)(S.Download,{size:16})," Export Excel"]})]}),(0,a.jsxs)("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden",children:[(0,a.jsx)("div",{className:"p-4 border-b bg-gray-50 font-bold text-gray-700",children:"Laporan Pengangkutan"}),(0,a.jsxs)("table",{className:"w-full text-left text-sm text-gray-800",children:[(0,a.jsx)("thead",{children:(0,a.jsxs)("tr",{className:"border-b",children:[(0,a.jsx)("th",{className:"p-4",children:"Tanggal"}),(0,a.jsx)("th",{className:"p-4",children:"User / Wilayah"}),(0,a.jsx)("th",{className:"p-4",children:"Berat"}),(0,a.jsx)("th",{className:"p-4",children:"Driver"}),(0,a.jsx)("th",{className:"p-4",children:"Status"})]})}),(0,a.jsx)("tbody",{children:e.length>0?e.map(e=>(0,a.jsxs)("tr",{className:"border-b hover:bg-gray-50",children:[(0,a.jsx)("td",{className:"p-4",children:e.date}),(0,a.jsxs)("td",{className:"p-4 font-medium",children:[e.user,(0,a.jsx)("br",{}),(0,a.jsx)("span",{className:"text-xs text-gray-500 font-normal",children:e.area})]}),(0,a.jsx)("td",{className:"p-4 font-bold",children:e.weightLabel}),(0,a.jsx)("td",{className:"p-4",children:e.driver}),(0,a.jsx)("td",{className:"p-4",children:(0,a.jsx)("span",{className:`px-2 py-1 rounded text-xs font-bold ${"Done"===e.status?"bg-green-100 text-green-700":"bg-yellow-100 text-yellow-700"}`,children:e.status})})]},e.id)):(0,a.jsx)("tr",{children:(0,a.jsx)("td",{colSpan:"5",className:"p-8 text-center text-gray-400",children:"Data tidak ditemukan."})})})]})]})]});case"finance":return(0,a.jsxs)("div",{className:"space-y-6 animate-in slide-in-from-right",children:[(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,a.jsxs)("div",{className:"bg-green-50 p-6 rounded-xl border border-green-200 shadow-sm",children:[(0,a.jsx)("p",{className:"text-green-800 font-medium mb-1",children:"Total Pemasukan"}),(0,a.jsx)("h3",{className:"text-3xl font-bold text-green-900",children:eM(ed.income)}),(0,a.jsxs)("p",{className:"text-xs text-green-600 mt-2 flex items-center gap-1",children:[(0,a.jsx)(f.CheckCircle,{size:12})," Dari transaksi selesai"]})]}),(0,a.jsxs)("div",{className:"bg-red-50 p-6 rounded-xl border border-red-200 shadow-sm",children:[(0,a.jsx)("p",{className:"text-red-800 font-medium mb-1",children:"Estimasi Pengeluaran (30%)"}),(0,a.jsx)("h3",{className:"text-3xl font-bold text-red-900",children:eM(ed.expense)}),(0,a.jsxs)("p",{className:"text-xs text-red-600 mt-2 flex items-center gap-1",children:[(0,a.jsx)(D.AlertCircle,{size:12})," Biaya operasional & gaji"]})]})]}),(0,a.jsxs)("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden",children:[(0,a.jsx)("div",{className:"p-4 bg-gray-50 font-bold border-b text-gray-700",children:"Rincian Transaksi"}),(0,a.jsx)("table",{className:"w-full text-left text-sm text-gray-800",children:(0,a.jsx)("tbody",{children:Z.slice(0,10).map(e=>(0,a.jsxs)("tr",{className:"border-b hover:bg-gray-50",children:[(0,a.jsxs)("td",{className:"p-4",children:[(0,a.jsx)("span",{className:"font-bold",children:"Retribusi Sampah"}),(0,a.jsx)("br",{}),(0,a.jsx)("span",{className:"text-xs text-gray-500",children:new Date(e.created_at).toLocaleDateString()})]}),(0,a.jsxs)("td",{className:"p-4 font-bold text-green-600 text-right",children:["+ ",eM(e.total_price)]})]},e.id))})})]})]});case"settings":return(0,a.jsx)("div",{className:"max-w-4xl mx-auto space-y-6 animate-in slide-in-from-right text-gray-800",children:(0,a.jsxs)("div",{className:"bg-white p-8 rounded-xl shadow-sm border border-gray-200",children:[(0,a.jsxs)("h3",{className:"font-bold text-xl mb-6 flex items-center gap-2 text-gray-800",children:[(0,a.jsx)(m,{size:22})," Konfigurasi Sistem"]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6",children:[(0,a.jsxs)("div",{className:"bg-gray-50 p-4 rounded-lg border border-gray-100",children:[(0,a.jsx)("label",{className:"block text-sm font-bold mb-2 text-gray-600",children:"Tarif Retribusi (Per Kg)"}),(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("span",{className:"bg-gray-200 border border-r-0 rounded-l px-3 py-2 text-gray-600 font-bold",children:"Rp"}),(0,a.jsx)("input",{type:"number",className:"w-full border p-2 rounded-r text-gray-800 focus:ring-2 ring-green-500 outline-none",value:em.tariff,onChange:e=>eu({...em,tariff:e.target.value})})]})]}),(0,a.jsxs)("div",{className:"bg-gray-50 p-4 rounded-lg border border-gray-100",children:[(0,a.jsx)("label",{className:"block text-sm font-bold mb-2 text-gray-600",children:"Notifikasi Email"}),(0,a.jsxs)("div",{className:"flex items-center justify-between bg-white p-2 rounded border",children:[(0,a.jsx)("span",{className:"text-sm font-medium ml-2",children:"Aktifkan notifikasi?"}),(0,a.jsx)("button",{onClick:()=>eu({...em,emailNotif:!em.emailNotif}),className:`w-12 h-6 rounded-full relative transition-colors ${em.emailNotif?"bg-green-500":"bg-gray-300"}`,children:(0,a.jsx)("div",{className:`w-4 h-4 bg-white rounded-full absolute top-1 transition-all ${em.emailNotif?"right-1":"left-1"}`})})]})]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-6 mb-8",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-bold mb-1 text-gray-600",children:"Jam Buka"}),(0,a.jsx)("input",{type:"time",className:"w-full border p-2 rounded bg-white text-gray-800",value:em.opStart,onChange:e=>eu({...em,opStart:e.target.value})})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-bold mb-1 text-gray-600",children:"Jam Tutup"}),(0,a.jsx)("input",{type:"time",className:"w-full border p-2 rounded bg-white text-gray-800",value:em.opEnd,onChange:e=>eu({...em,opEnd:e.target.value})})]})]}),(0,a.jsxs)("button",{onClick:eP,className:"w-full bg-green-600 text-white py-3 rounded-lg font-bold hover:bg-green-700 transition flex justify-center gap-2",children:[(0,a.jsx)(_,{size:18})," Simpan Pengaturan Sistem"]})]})});case"profile":return(0,a.jsx)("div",{className:"max-w-4xl mx-auto space-y-6 animate-in slide-in-from-right text-gray-800",children:(0,a.jsxs)("div",{className:"bg-white p-8 rounded-xl shadow-sm border border-gray-200",children:[(0,a.jsxs)("h3",{className:"font-bold text-xl mb-6 flex items-center gap-2 text-gray-800",children:[(0,a.jsx)(w.User,{size:22})," Edit Profil Admin"]}),(0,a.jsxs)("div",{className:"flex flex-col items-center mb-8",children:[(0,a.jsxs)("div",{className:"relative group cursor-pointer",onClick:()=>document.getElementById("admin-avatar-upload").click(),children:[(0,a.jsx)("div",{className:"w-24 h-24 rounded-full overflow-hidden border-4 border-green-100 shadow-sm",children:K?.avatar_url?(0,a.jsx)("img",{src:K.avatar_url,alt:"Profile",className:"w-full h-full object-cover"}):(0,a.jsx)("div",{className:"w-full h-full bg-green-100 flex items-center justify-center text-3xl font-bold text-green-600",children:K?.full_name?.charAt(0)||"A"})}),(0,a.jsx)("div",{className:"absolute inset-0 bg-black/40 rounded-full flex items-center justify-center opacity-0 group-hover:opacity-100 transition",children:(0,a.jsx)(p,{className:"text-white",size:20})})]}),(0,a.jsx)("input",{type:"file",id:"admin-avatar-upload",className:"hidden",accept:"image/*",onChange:eT}),(0,a.jsx)("p",{className:"text-xs text-gray-400 mt-2",children:"Klik foto untuk mengganti"})]}),(0,a.jsxs)("form",{onSubmit:ez,className:"space-y-5 max-w-xl mx-auto",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-bold mb-1 text-gray-600",children:"Email (Read Only)"}),(0,a.jsx)("input",{disabled:!0,className:"w-full border p-2 rounded bg-gray-100 text-gray-500 cursor-not-allowed",value:K?.email||""})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-bold mb-1 text-gray-600",children:"Nama Lengkap"}),(0,a.jsx)("input",{className:"w-full border p-2 rounded bg-white text-gray-800",value:K?.full_name||"",onChange:e=>F({...K,full_name:e.target.value})})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-bold mb-1 text-gray-600",children:"Alamat"}),(0,a.jsx)("textarea",{className:"w-full border p-2 rounded bg-white text-gray-800 h-24 resize-none",value:K?.alamat||"",onChange:e=>F({...K,alamat:e.target.value})})]}),(0,a.jsxs)("div",{className:"pt-4 border-t border-gray-100 mt-4",children:[(0,a.jsxs)("h4",{className:"font-bold text-sm mb-3 flex items-center gap-2 text-orange-600",children:[(0,a.jsx)(C,{size:16})," Keamanan Akun"]}),(0,a.jsx)("input",{type:"password",className:"w-full border p-2 rounded bg-white text-gray-800",placeholder:"Password Baru (Min 6 karakter, Kosongkan jika tidak ubah)",onChange:e=>F({...K,newPassword:e.target.value})})]}),(0,a.jsx)("button",{type:"submit",className:"bg-green-600 text-white px-6 py-2 rounded-lg font-bold hover:bg-green-700 transition mt-4 w-full",children:"Simpan Perubahan Profil"})]})]})});case"notifikasi":return(0,a.jsxs)("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6 animate-in slide-in-from-right max-w-3xl mx-auto text-gray-800",children:[(0,a.jsxs)("div",{className:"flex justify-between mb-4",children:[(0,a.jsx)("h3",{className:"font-bold text-xl",children:"Pusat Notifikasi"}),(0,a.jsxs)("span",{className:"text-xs bg-red-100 text-red-600 px-2 py-1 rounded-full font-bold",children:[eR," Baru"]})]}),(0,a.jsx)("div",{className:"space-y-1",children:0===es.length?(0,a.jsx)("div",{className:"text-center py-8 text-gray-400",children:"Tidak ada notifikasi."}):es.map(e=>(0,a.jsxs)("div",{onClick:()=>eA(e.id),className:`p-4 border-b flex gap-4 cursor-pointer hover:bg-gray-50 transition ${!e.is_read?"bg-green-50":""}`,children:[(0,a.jsx)("div",{className:`p-2 rounded-full h-fit ${"info"===e.type?"bg-blue-100 text-blue-600":"bg-orange-100 text-orange-600"}`,children:(0,a.jsx)(u.Bell,{size:20})}),(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("h4",{className:`font-bold text-sm ${!e.is_read?"text-green-800":"text-gray-700"}`,children:e.title}),(0,a.jsx)("span",{className:"text-xs text-gray-400",children:new Date(e.created_at).toLocaleString()})]}),(0,a.jsx)("p",{className:"text-sm text-gray-600 mt-1",children:e.message})]}),(0,a.jsx)("button",{onClick:a=>{a.stopPropagation(),eD(e.id,"notif")},className:"text-gray-400 hover:text-red-500",children:(0,a.jsx)(b.Trash2,{size:16})})]},e.id))})]});default:return(0,a.jsx)("div",{children:"Halaman tidak ditemukan"})}})()]})}),eg&&(0,a.jsx)("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-50 p-4 animate-in fade-in",children:(0,a.jsxs)("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-md p-6 overflow-y-auto max-h-[90vh]",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center mb-6 border-b pb-4",children:[(0,a.jsx)("h3",{className:"text-xl font-bold text-gray-800",children:ef?`Edit ${ep}`:`Tambah ${ep}`}),(0,a.jsx)("button",{onClick:()=>eh(!1),children:(0,a.jsx)(j.X,{className:"text-gray-400 hover:text-red-500"})})]}),(0,a.jsxs)("form",{onSubmit:e_,className:"space-y-4",children:["driver"===ep&&(0,a.jsxs)(a.Fragment,{children:[ef?(0,a.jsx)("input",{className:"w-full border p-2 rounded bg-gray-100 text-gray-500 cursor-not-allowed",value:ev.name||"",readOnly:!0}):(0,a.jsxs)("select",{className:"w-full border p-2 rounded bg-white text-gray-800",value:ev.userId||"",onChange:e=>{let a=G.find(a=>a.id===e.target.value);ey({...ev,userId:e.target.value,name:a?a.full_name:""})},required:!0,children:[(0,a.jsx)("option",{value:"",children:"-- Pilih User untuk dijadikan Driver --"}),G.filter(e=>!V.some(a=>a.id===e.id)).map(e=>(0,a.jsxs)("option",{value:e.id,children:[e.full_name," (",e.email,")"]},e.id))]}),(0,a.jsx)("input",{className:"w-full border p-2 rounded bg-white text-gray-800",placeholder:"Kendaraan",value:ev.vehicle||"",onChange:e=>ey({...ev,vehicle:e.target.value})}),(0,a.jsxs)("select",{className:"w-full border p-2 rounded bg-white text-gray-800",value:ev.shift||"",onChange:e=>ey({...ev,shift:e.target.value}),children:[(0,a.jsx)("option",{value:"Shift 1 (08:00 - 12:00)",children:"Shift 1"}),(0,a.jsx)("option",{value:"Shift 2 (13:00 - 17:00)",children:"Shift 2"})]}),(0,a.jsxs)("select",{className:"w-full border p-2 rounded bg-white text-gray-800",value:ev.status||"Off Duty",onChange:e=>ey({...ev,status:e.target.value}),children:[(0,a.jsx)("option",{value:"On Duty",children:"On Duty"}),(0,a.jsx)("option",{value:"Off Duty",children:"Off Duty"})]})]}),"area"===ep&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("input",{className:"w-full border p-2 rounded bg-white text-gray-800",placeholder:"Kelurahan",value:ev.kelurahan||"",onChange:e=>ey({...ev,kelurahan:e.target.value}),required:!0}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,a.jsx)("input",{className:"border p-2 rounded bg-white text-gray-800",placeholder:"RW",value:ev.rw||"",onChange:e=>ey({...ev,rw:e.target.value})}),(0,a.jsx)("input",{className:"border p-2 rounded bg-white text-gray-800",placeholder:"RT",value:ev.rt||"",onChange:e=>ey({...ev,rt:e.target.value})})]}),(0,a.jsxs)("select",{className:"w-full border p-2 rounded bg-white text-gray-800",value:ev.driverId||"",onChange:e=>ey({...ev,driverId:e.target.value}),children:[(0,a.jsx)("option",{value:"",children:"Pilih Driver"}),V.map(e=>(0,a.jsx)("option",{value:e.id,children:e.name},e.id))]})]}),"pickup"===ep&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:"bg-gray-100 p-3 rounded text-sm text-gray-800 font-medium",children:["User: ",ev.user," (",ev.weightLabel,")"]}),(0,a.jsxs)("select",{className:"w-full border p-2 rounded bg-white text-gray-800",value:ev.status||"Pending",onChange:e=>ey({...ev,status:e.target.value}),children:[(0,a.jsx)("option",{value:"Pending",children:"Pending"}),(0,a.jsx)("option",{value:"In Progress",children:"Proses"}),(0,a.jsx)("option",{value:"Done",children:"Selesai"}),(0,a.jsx)("option",{value:"Canceled",children:"Dibatalkan"})]}),(0,a.jsxs)("select",{className:"w-full border p-2 rounded bg-white text-gray-800",value:ev.driver||"",onChange:e=>ey({...ev,driver:e.target.value}),children:[(0,a.jsx)("option",{value:"",children:"Assign Driver"}),V.map(e=>(0,a.jsx)("option",{value:e.name,children:e.name},e.id))]})]}),"user"===ep&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("input",{className:"w-full border p-2 rounded bg-white text-gray-800",placeholder:"Nama",value:ev.name||"",onChange:e=>ey({...ev,name:e.target.value})}),(0,a.jsxs)("select",{className:"w-full border p-2 rounded bg-white text-gray-800",value:ev.role||"",onChange:e=>ey({...ev,role:e.target.value}),children:[(0,a.jsx)("option",{value:"user",children:"User"}),(0,a.jsx)("option",{value:"admin",children:"Admin"}),(0,a.jsx)("option",{value:"driver",children:"Driver (Via Menu Driver)"}),(0,a.jsx)("option",{value:"rt",children:"Ketua RT"}),(0,a.jsx)("option",{value:"rw",children:"Ketua RW"})]}),(0,a.jsx)("input",{className:"w-full border p-2 rounded bg-white text-gray-800",placeholder:"Alamat",value:ev.region||"",onChange:e=>ey({...ev,region:e.target.value})}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,a.jsx)("input",{className:"border p-2 rounded bg-white text-gray-800",placeholder:"RT",value:ev.rt||"",onChange:e=>ey({...ev,rt:e.target.value})}),(0,a.jsx)("input",{className:"border p-2 rounded bg-white text-gray-800",placeholder:"RW",value:ev.rw||"",onChange:e=>ey({...ev,rw:e.target.value})})]})]}),(0,a.jsx)("button",{type:"submit",disabled:E,className:"w-full py-3 bg-green-600 text-white rounded-lg font-bold hover:bg-green-700 transition mt-4",children:E?"Menyimpan...":"Simpan"})]})]})})]})}e.s(["default",()=>E],97487)}]);