(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,41033,e=>{"use strict";e.i(6181);var t=e.i(37936),a=e.i(58413),s=e.i(53625),r=e.i(65455),l=e.i(85416),i=e.i(73029),n=e.i(24784);let d=(0,n.default)("award",[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]]);var o=e.i(12033),c=e.i(20473),m=e.i(57933),x=e.i(89199),u=e.i(77269);let g=(0,n.default)("book-open",[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]]);var h=e.i(60681),p=e.i(95827),b=e.i(69270),f=e.i(65658),y=e.i(94156),j=e.i(35153),v=e.i(70334),w=e.i(77572),N=e.i(77746),k=e.i(99608);let S=(0,n.default)("megaphone",[["path",{d:"M11 6a13 13 0 0 0 8.4-2.8A1 1 0 0 1 21 4v12a1 1 0 0 1-1.6.8A13 13 0 0 0 11 14H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2z",key:"q8bfy3"}],["path",{d:"M6 14a12 12 0 0 0 2.4 7.2 2 2 0 0 0 3.2-2.4A8 8 0 0 1 10 14",key:"1853fq"}],["path",{d:"M8 6v8",key:"15ugcq"}]]),C=(0,n.default)("check-check",[["path",{d:"M18 6 7 17l-5-5",key:"116fxf"}],["path",{d:"m22 10-7.5 7.5L13 16",key:"ke71qq"}]]),P=(0,n.default)("trash",[["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]]),z=(0,n.default)("building",[["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M9 22v-3a1 1 0 0 1 1-1h4a1 1 0 0 1 1 1v3",key:"cabbwy"}],["rect",{x:"4",y:"2",width:"16",height:"20",rx:"2",key:"1uxh74"}]]);var T=e.i(74474),I=e.i(32353),M=e.i(59011),_=e.i(75227),L=e.i(60527),R=e.i(72915),B=e.i(88781),D=e.i(99896),q=e.i(62057),E=e.i(18743),A=e.i(19323),$=e.i(86732),K=e.i(4255),G=e.i(85736),W=e.i(98550),U=e.i(87140),V=e.i(66114),F=e.i(10333),J=e.i(39865),O=e.i(80453),H=e.i(73078),X=e.i(69191),Y=e.i(28148);let Z=(0,r.createClient)("https://bvigrmajwdfpavxmxefl.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImJ2aWdybWFqd2RmcGF2eG14ZWZsIiwicm9sZSI6ImFub24iLCJpYXQiOjE3Njc2NTE2MzAsImV4cCI6MjA4MzIyNzYzMH0.Qii8jaaMgtH5Sq-C7YfpQ26AmGnMmh3aEbsTX8Ciyg0"),Q=[107.6191,-6.9175],ee=[107.625,-6.925],et=[{label:"Ringan (0 - 5 KG)",value:5},{label:"Sedang (5 - 10 KG)",value:10},{label:"Berat (10 - 20 KG)",value:20},{label:"Sangat Berat (> 20 KG)",value:30}],ea=[{label:"Pagi (08:00 - 11:00)",value:"09:00"},{label:"Sore (15:00 - 18:00)",value:"16:00"}],es=["Sampah Menumpuk","Jadwal Terlewat","Fasilitas Rusak","Pelayanan Petugas","Lainnya"];function er(){let e=(0,s.useRouter)(),[r,n]=(0,a.useState)(!0),[er,el]=(0,a.useState)("dashboard"),[ei,en]=(0,a.useState)(""),[ed,eo]=(0,a.useState)(Q),[ec,em]=(0,a.useState)(!1),[ex,eu]=(0,a.useState)(!0),[eg,eh]=(0,a.useState)(!1),[ep,eb]=(0,a.useState)(null),[ef,ey]=(0,a.useState)({totalWaste:0,lastPickup:"-",points:0}),[ej,ev]=(0,a.useState)([]),[ew,eN]=(0,a.useState)([]),[ek,eS]=(0,a.useState)(null),[eC,eP]=(0,a.useState)(ee),[ez,eT]=(0,a.useState)([]),[eI,eM]=(0,a.useState)([]),[e_,eL]=(0,a.useState)(!1),[eR,eB]=(0,a.useState)({title:"",category:"",content:""}),[eD,eq]=(0,a.useState)({wasteTypeId:"",weight:5,date:"",time:"09:00",notes:""}),[eE,eA]=(0,a.useState)({open:!1,bill:null,step:"method"}),[e$,eK]=(0,a.useState)([{id:101,title:"Iuran Kebersihan - Feb 2026",amount:25e3,status:"Unpaid",due_date:"2026-02-10"}]),[eG,eW]=(0,a.useState)(""),[eU,eV]=(0,a.useState)("Semua"),[eF,eJ]=(0,a.useState)(null),[eO,eH]=(0,a.useState)(null),[eX,eY]=(0,a.useState)(!1),eZ=(0,a.useRef)(),eQ=(0,a.useRef)(null),e0=(0,a.useRef)(new G.default),e1=[{id:"dashboard",label:"Dashboard",icon:d},{id:"request",label:"Request Pickup",icon:o.Truck},{id:"history",label:"Riwayat",icon:x.FileText},{id:"pengaduan",label:"Pengaduan",icon:S},{id:"iuran",label:"Bayar Iuran",icon:y.Wallet},{id:"tracking",label:"Tracking",icon:c.MapPin},{id:"edukasi",label:"Edukasi",icon:g}],e2=[{id:1,type:"article",category:"Tips",title:"Cara Memilah Sampah",desc:"Panduan dasar.",content:"...",readTime:"3 min"},{id:2,type:"video",category:"Tutorial",title:"Membuat Kompos",desc:"Video tutorial.",content:"Video Placeholder",readTime:"5 min"},{id:3,type:"article",category:"Info",title:"Bahaya B3",desc:"Kenapa baterai berbahaya?",content:"...",readTime:"4 min"}];(0,a.useEffect)(()=>{let e=document.createElement("script");return e.src="https://app.sandbox.midtrans.com/snap/snap.js",e.setAttribute("data-client-key","Mid-client-zVn1_jq4GqVUHzoj"),e.async=!0,document.body.appendChild(e),()=>{document.body.contains(e)&&document.body.removeChild(e)}},[]),(0,a.useEffect)(()=>{let e=setInterval(()=>{en(new Date().toLocaleTimeString("id-ID",{hour:"2-digit",minute:"2-digit"}))},1e3);te(),e5();let t=Z.channel("user-dashboard-realtime").on("postgres_changes",{event:"*",schema:"public",table:"transactions"},e=>{te(),"UPDATE"===e.eventType&&"Process"===e.new.status&&(R.default.fire({title:"Pengangkutan Aktif!",text:"Driver sedang menuju lokasi Anda.",icon:"info",timer:3e3,showConfirmButton:!1,toast:!0,position:"top-end",background:"#d1fae5",color:"#065f46"}),el("tracking"))}).subscribe(),a=()=>{window.innerWidth>=768&&eh(!1)};return window.addEventListener("resize",a),()=>{clearInterval(e),window.removeEventListener("resize",a),Z.removeChannel(t)}},[]);let[e6,e4]=(0,a.useState)(!1);(0,a.useEffect)(()=>{e4(!0)},[]);let e5=()=>{navigator.geolocation?navigator.geolocation.watchPosition(e=>{let{latitude:t,longitude:a}=e.coords;eo([a,t]),em(!0)},e=>{1===e.code?console.warn("GPS permission denied by user"):2===e.code?console.warn("GPS position unavailable"):3===e.code&&console.warn("GPS timeout")},{enableHighAccuracy:!0,maximumAge:0,timeout:1e4}):console.warn("Geolocation is not supported by this browser.")},e3=()=>{eQ.current&&ec?eQ.current.getView().animate({center:(0,F.fromLonLat)(ed),zoom:17,duration:1e3}):R.default.fire("GPS Mencari...","Pastikan izin lokasi aktif.","info")},[e8,e7]=(0,a.useState)(0);(0,a.useEffect)(()=>{if("tracking"===er&&ek&&"Process"===ek.rawStatus){let e=setInterval(()=>{eP(e=>{let t=(ed[0]-e[0])*.05,a=(ed[1]-e[1])*.05;return 1e-5>Math.abs(t)&&1e-5>Math.abs(a)?e:(e7(Math.atan2(t,a)),[e[0]+t,e[1]+a])})},1e3);return()=>clearInterval(e)}eP(ee)},[er,ek,ed]),(0,a.useEffect)(()=>{if("tracking"===er&&eZ.current&&!eQ.current){let e=new K.default({source:e0.current,zIndex:100});eQ.current=new q.default({target:eZ.current,layers:[new A.default({source:new $.default}),e],view:new E.default({center:(0,F.fromLonLat)(Q),zoom:13}),controls:[]}),e9()}return()=>{"tracking"!==er&&eQ.current&&(eQ.current.setTarget(null),eQ.current=null)}},[er]);let e9=()=>{if(eQ.current){if(e0.current.clear(),ec){let e=new W.default({geometry:new U.default((0,F.fromLonLat)(ed))});e.setStyle(new O.Style({image:new X.Circle({radius:8,fill:new Y.Fill({color:"#3b82f6"}),stroke:new H.Stroke({color:"#fff",width:2})})})),e0.current.addFeature(e)}if(ek?.rawStatus==="Process"){let e=new W.default({geometry:new U.default((0,F.fromLonLat)(eC))});e.setStyle(new O.Style({image:new J.Icon({src:"https://cdn-icons-png.flaticon.com/512/4047/4047448.png",scale:.1,anchor:[.5,1]})})),e0.current.addFeature(e);let t=new W.default({geometry:new V.default([(0,F.fromLonLat)(eC),(0,F.fromLonLat)(ed)])});t.setStyle(new O.Style({stroke:new H.Stroke({color:"#10B981",width:4,lineDash:[10,10]})})),e0.current.addFeature(t)}}};(0,a.useEffect)(()=>{e9()},[ed,eC,ek,er,e8]);let te=async()=>{try{let{data:{user:t}}=await Z.auth.getUser();if(!t)return void e.push("/login");let{data:a}=await Z.from("profiles").select("*").eq("id",t.id).single();eb(a);let{data:s}=await Z.from("waste_types").select("*");if(s&&ev(s),a?.rt){let{data:e}=await Z.from("notifications").select("*").or(`rt.eq.${a.rt},rt.is.null`).order("created_at",{ascending:!1});eM(e||[])}let{data:r}=await Z.from("transactions").select("*, waste_types(name, price_per_kg), drivers:driver_id(full_name)").eq("profile_id",t.id).order("created_at",{ascending:!1});if(r){eN(r.map(e=>({id:`#REQ-${String(e.id).slice(0,6)}`,type:e.waste_types?.name,weight:e.weight,date:new Date(e.created_at).toLocaleDateString("id-ID"),time:new Date(e.created_at).toLocaleTimeString("id-ID",{hour:"2-digit",minute:"2-digit"}),status:e.status,fee:e.total_price||0})));let e=r.reduce((e,t)=>e+(Number(t.weight)||0),0);ey({totalWaste:e,lastPickup:r[0]?new Date(r[0].created_at).toLocaleDateString("id-ID"):"-",points:Math.floor(10*e)});let t=r.find(e=>"Pending"===e.status||"Process"===e.status);t?eS({id:t.id,driverId:t.driver_id,status:"Process"===t.status?"Pengangkutan Aktif":"Menunggu Konfirmasi",rawStatus:t.status,driver:t.drivers?.full_name||"Mencari Driver...",vehicle:"Pickup Layanan",rating:4.8,eta:"Process"===t.status?"Sedang Jalan":"Menunggu"}):eS(null)}let{data:l}=await Z.from("complaints").select("*").eq("user_id",t.id).order("created_at",{ascending:!1});eT(l||[])}catch(e){console.error("Error data:",e)}finally{n(!1)}};(0,a.useEffect)(()=>{let e;return"tracking"===er&&ek?.driverId&&ek?.rawStatus==="Process"&&(console.log("Subscribing to driver location:",ek.driverId),e=Z.channel(`driver-tracking-${ek.driverId}`).on("postgres_changes",{event:"UPDATE",schema:"public",table:"drivers",filter:`id=eq.${ek.driverId}`},e=>{let{current_latitude:t,current_longitude:a}=e.new;t&&a&&eP([a,t])}).subscribe()),()=>{e&&Z.removeChannel(e)}},[er,ek]);let tt=e=>{el(e),eh(!1)},ta=async()=>{(await R.default.fire({title:"Keluar?",text:"Sesi Anda akan berakhir.",icon:"warning",showCancelButton:!0,confirmButtonColor:"#d33",confirmButtonText:"Ya"})).isConfirmed&&(await Z.auth.signOut(),e.push("/login"))},ts=async e=>{e.preventDefault();let t=new FormData(e.target),a={full_name:t.get("fullName"),email:t.get("email"),address:t.get("address"),rt:t.get("rt"),rw:t.get("rw")};try{await Z.from("profiles").update(a).eq("id",ep.id),eb({...ep,...a}),eY(!1),R.default.fire("Sukses","Profil disimpan","success"),te()}catch(e){}},tr=async e=>{let t=e.target.files[0];if(t)try{R.default.fire({title:"Mengupload...",text:"Mohon tunggu sebentar",allowOutsideClick:!1,didOpen:()=>R.default.showLoading()});let e=await (0,B.uploadAvatar)(t,ep.id);if(!e)throw Error("Gagal mendapatkan URL gambar.");let{error:a}=await Z.from("profiles").update({avatar_url:e}).eq("id",ep.id);if(a)throw a;eb(t=>({...t,avatar_url:e})),R.default.fire("Sukses","Foto profil berhasil diperbarui!","success")}catch(e){console.error(e),R.default.fire("Error","Gagal upload foto: "+e.message,"error")}},tl=async e=>{if(e.preventDefault(),!eD.wasteTypeId)return void R.default.fire("Gagal","Pilih sampah","error");try{let e={profile_id:ep.id,waste_type_id:eD.wasteTypeId,weight:eD.weight,status:"Pending",pickup_time:eD.time,notes:eD.notes,latitude:ed[1],longitude:ed[0]},{error:t}=await Z.from("transactions").insert(e);if(t)throw t;R.default.fire("Berhasil","Request terkirim","success"),eq({wasteTypeId:"",weight:5,date:"",time:"09:00",notes:""}),el("tracking")}catch(e){R.default.fire("Gagal",e.message,"error")}},ti=async e=>{e.preventDefault();try{await Z.from("complaints").insert({user_id:ep.id,subject:eR.title,category:eR.category,content:eR.content,status:"Pending",created_at:new Date}),R.default.fire("Terkirim","Aduan dikirim","success"),eB({title:"",category:"",content:""}),te()}catch(e){}},tn=async()=>{if(!window.snap)return void R.default.fire("Error","Sistem pembayaran sedang memuat, mohon tunggu.","error");let e=eE.bill;eA(e=>({...e,step:"processing"}));try{let t=await fetch("/api/payment",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:e.id,amount:e.amount,firstName:ep?.full_name||"Warga",email:ep?.email||"warga@example.com",title:e.title})}),a=await t.json();if(!t.ok)throw Error(a.error||"Gagal membuat transaksi");window.snap.pay(a.token,{onSuccess:async function(t){eK(t=>t.map(t=>t.id===e.id?{...t,status:"Paid"}:t)),eA(e=>({...e,step:"success"}))},onPending:function(e){R.default.fire("Pending","Menunggu pembayaran diselesaikan","info"),eA(e=>({...e,open:!1}))},onError:function(e){R.default.fire("Gagal","Pembayaran gagal atau dibatalkan","error"),eA(e=>({...e,open:!1}))},onClose:function(){eA(e=>({...e,step:"method"}))}})}catch(e){console.error(e),R.default.fire("Error",e.message,"error"),eA(e=>({...e,step:"method"}))}},td=()=>eM(eI.map(e=>({...e,read:!0}))),to=eI.filter(e=>!e.read).length,tc=(0,B.getRewardBadge)(ef.points);return r?(0,t.jsxs)("div",{className:"min-h-screen flex justify-center items-center text-gray-800 font-bold",children:[(0,t.jsx)(T.Loader2,{className:"animate-spin mr-2"})," Memuat Data..."]}):(0,t.jsxs)("div",{className:"min-h-screen bg-gray-50 flex font-sans text-gray-800 overflow-x-hidden",children:[eg&&(0,t.jsx)("div",{className:"fixed inset-0 bg-black/50 z-40 md:hidden",onClick:()=>eh(!1)}),(0,t.jsxs)("aside",{className:`fixed top-0 left-0 z-50 h-full bg-white border-r border-gray-200 transition-transform duration-300 md:translate-x-0 ${eg?"translate-x-0 w-64":"-translate-x-full w-64"} ${ex?"md:w-64":"md:w-20"} flex flex-col`,children:[(0,t.jsxs)("div",{className:"h-16 md:h-20 flex items-center justify-between px-4 border-b border-gray-100",children:[(0,t.jsx)("div",{className:`flex items-center gap-3 transition-all duration-300 ${!ex?"justify-center w-full px-0":"px-0"}`,children:ex?(0,t.jsxs)("div",{className:"flex flex-col animate-in fade-in slide-in-from-left duration-300",children:[(0,t.jsx)("img",{src:"/images/logo.png",alt:"RecycleYuk",className:"w-36 h-auto object-contain mb-1"}),(0,t.jsx)("span",{className:"text-[10px] font-bold text-green-600 tracking-[0.2em] uppercase pl-1",children:"User App"})]}):(0,t.jsxs)("button",{onClick:()=>eu(!0),className:"mx-auto relative group",children:[(0,t.jsx)("img",{src:"/images/mini-logo.png",alt:"RecycleYuk",className:"w-10 h-10 object-contain transition-transform group-hover:scale-110"}),(0,t.jsx)("div",{className:"absolute -right-2 -bottom-2 bg-green-100 text-green-600 rounded-full p-0.5 shadow-sm border border-white",children:(0,t.jsx)(f.ChevronRight,{size:12})})]})}),ex&&(0,t.jsx)("button",{onClick:()=>eu(!1),className:"hidden md:block p-2 rounded-lg hover:bg-gray-100 text-gray-500",children:(0,t.jsx)(b.ChevronLeft,{size:20})}),(0,t.jsx)("button",{onClick:()=>eh(!1),className:"md:hidden p-2 text-gray-500",children:(0,t.jsx)(h.X,{size:24})})]}),(0,t.jsx)("nav",{className:"flex-1 p-3 space-y-2 overflow-y-auto overflow-x-hidden",children:e1.map(e=>(0,t.jsxs)("button",{onClick:()=>tt(e.id),className:`w-full flex items-center rounded-xl font-medium transition-all duration-200 h-12 ${er===e.id?"bg-green-50 text-green-700 shadow-sm border border-green-100":"text-gray-600 hover:bg-gray-50 hover:text-green-600"} ${ex?"px-4 gap-3 justify-start":"justify-center px-0 md:justify-center"} ${!ex&&"md:px-0"}`,children:[(0,t.jsx)(e.icon,{size:22,className:`min-w-[22px] ${er===e.id?"text-green-600":"text-gray-400"}`})," ",(0,t.jsx)("span",{className:`${!ex?"md:hidden":"block"}`,children:e.label})]},e.id))}),(0,t.jsx)("div",{className:"p-4 border-t border-gray-100",children:(0,t.jsxs)("button",{onClick:ta,className:`w-full flex items-center rounded-xl font-medium text-red-600 hover:bg-red-50 transition-all h-12 ${ex?"px-4 gap-3 justify-start":"justify-center px-0 md:justify-center"}`,children:[(0,t.jsx)(p.LogOut,{size:22,className:"min-w-[22px]"})," ",(0,t.jsx)("span",{className:`${!ex?"md:hidden":"block"}`,children:"Keluar"})]})})]}),(0,t.jsxs)("main",{className:`flex-1 p-4 md:p-8 overflow-y-auto transition-all duration-300 w-full ${ex?"md:ml-64":"md:ml-20"}`,children:[(0,t.jsxs)("div",{className:"md:hidden flex justify-between items-center mb-6 sticky top-0 bg-gray-50 z-30 py-2",children:[(0,t.jsx)("button",{onClick:()=>eh(!0),children:(0,t.jsx)(M.Menu,{size:28})}),(0,t.jsx)("span",{className:"font-bold text-lg capitalize",children:er}),(0,t.jsx)("div",{className:"w-9 h-9 bg-green-100 rounded-full flex items-center justify-center text-green-700 font-bold",children:ep?.full_name?.charAt(0)})]}),(0,t.jsxs)("div",{className:"max-w-5xl mx-auto",children:[(0,t.jsxs)("header",{className:"hidden md:flex justify-between items-center mb-8 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h2",{className:"text-2xl font-bold capitalize text-gray-800",children:"dashboard"===er?"Overview":er.replace("-"," ")}),(0,t.jsx)("p",{className:"text-gray-500 text-sm",children:"Pantau aktivitas lingkunganmu."})]}),(0,t.jsxs)("div",{className:"flex items-center gap-3 bg-white p-1 rounded-xl border border-gray-200 shadow-sm",children:[(0,t.jsxs)("button",{onClick:()=>el("notifikasi"),className:"p-2 rounded-lg hover:bg-gray-100 relative text-gray-600 group transition",children:[(0,t.jsx)(u.Bell,{size:20,className:"group-hover:text-green-600"}),eI.filter(e=>!e.read).length>0&&(0,t.jsx)("span",{className:"absolute top-2 right-2 w-2 h-2 bg-red-500 rounded-full border border-white animate-pulse"})]}),(0,t.jsx)("div",{className:"w-px h-6 bg-gray-200"}),(0,t.jsxs)("button",{onClick:()=>el("profile"),className:"flex items-center gap-3 pl-2 pr-3 py-1 rounded-lg hover:bg-gray-50 transition",children:[(0,t.jsx)("div",{className:"w-8 h-8 rounded-full bg-green-100 flex items-center justify-center text-green-700 font-bold border border-green-200 overflow-hidden",children:ep?.avatar_url?(0,t.jsx)("img",{src:ep.avatar_url,alt:"Profile",className:"w-full h-full object-cover"}):ep?.full_name?.charAt(0)||"U"}),(0,t.jsxs)("div",{className:"text-left hidden md:block",children:[(0,t.jsx)("p",{className:"text-xs font-bold text-gray-800 line-clamp-1 max-w-[100px]",children:ep?.full_name}),(0,t.jsx)("p",{className:"text-0 text-gray-500",children:"Warga"})]})]})]})]}),(()=>{switch(er){case"dashboard":return(0,t.jsxs)("div",{className:"space-y-6 animate-in fade-in text-gray-800 pb-20 md:pb-0",children:[(0,t.jsxs)("div",{className:"bg-gradient-to-r from-green-600 to-emerald-600 rounded-xl shadow-lg p-6 md:p-8 text-white relative overflow-hidden",children:[(0,t.jsxs)("div",{className:"relative z-10",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,t.jsxs)("h2",{className:"text-2xl md:text-3xl font-bold",children:["Halo, ",ep?.full_name?.split(" ")[0],"! ğŸ‘‹"]}),(0,t.jsxs)("div",{className:`${tc.color} px-3 py-1.5 rounded-full flex items-center gap-1.5 text-white font-bold text-sm shadow-md`,children:[(0,t.jsx)("span",{className:"text-lg",children:tc.icon}),(0,t.jsx)("span",{children:tc.level})]})]}),(0,t.jsx)("p",{className:"opacity-90",children:ep?.rt?`Warga RT ${ep.rt} / RW ${ep.rw}`:"Lengkapi data RT/RW di profil."}),(0,t.jsxs)("p",{className:"text-xs mt-2 opacity-75",children:["Kumpulkan poin untuk naik level! (",ef.points," poin)"]})]}),(0,t.jsx)(d,{className:"absolute right-[-20px] bottom-[-20px] opacity-10 w-40 h-40 transform rotate-12"})]}),(0,t.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 md:gap-6",children:[{l:"Total Sampah",v:`${ef.totalWaste} kg`,i:l.Trash2},{l:"Poin",v:ef.points,i:d},{l:"Pickup Terakhir",v:ef.lastPickup,i:i.Calendar}].map((e,a)=>(0,t.jsxs)("div",{className:"bg-white p-5 rounded-xl shadow-sm border border-gray-200 flex justify-between items-center",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-gray-500 text-xs md:text-sm font-medium",children:e.l}),(0,t.jsx)("h3",{className:"text-xl md:text-2xl font-bold text-gray-800",children:e.v})]}),(0,t.jsx)("div",{className:"bg-gray-100 p-3 rounded-lg text-gray-600",children:(0,t.jsx)(e.i,{size:24})})]},a))}),(0,t.jsxs)("div",{className:"bg-white rounded-xl shadow-sm p-5 md:p-6 border border-gray-200",children:[(0,t.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,t.jsx)("h3",{className:"text-lg font-bold text-gray-800",children:"Status Pickup Terbaru"}),ek?(0,t.jsx)("span",{className:`px-3 py-1 rounded-full text-xs font-bold ${"Done"===ek.status?"bg-green-100 text-green-700":"bg-blue-100 text-blue-700"}`,children:ek.status}):(0,t.jsx)("span",{className:"px-3 py-1 bg-gray-100 text-gray-500 rounded-full text-xs font-bold",children:"Standby"})]}),ek?(0,t.jsxs)("div",{className:"bg-blue-50 border border-blue-200 rounded-xl p-4 flex flex-col md:flex-row items-center justify-between gap-4",children:[(0,t.jsxs)("div",{className:"flex items-center gap-4 w-full md:w-auto",children:[(0,t.jsx)("div",{className:"bg-blue-600 text-white p-3 rounded-lg",children:(0,t.jsx)(o.Truck,{size:24})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"font-bold text-gray-900 text-lg",children:ek.status}),(0,t.jsxs)("p",{className:"text-sm text-gray-700",children:["Driver: ",ek.driver]})]})]}),(0,t.jsx)("button",{onClick:()=>tt("tracking"),className:"w-full md:w-auto px-6 py-2 bg-blue-600 text-white rounded-lg text-sm hover:bg-blue-700 font-medium",children:"Lacak"})]}):(0,t.jsxs)("div",{className:"text-center py-8 text-gray-400 border-2 border-dashed rounded-lg bg-gray-50",children:[(0,t.jsx)(o.Truck,{size:32,className:"mx-auto mb-2 opacity-50"}),(0,t.jsx)("p",{children:"Belum ada request pickup aktif."}),(0,t.jsx)("button",{onClick:()=>tt("request"),className:"mt-2 text-green-600 font-bold hover:underline",children:"Buat Request Baru"})]})]})]});case"request":return(0,t.jsxs)("div",{className:"bg-white rounded-xl shadow-sm p-5 md:p-6 border border-gray-200 animate-in slide-in-from-right text-gray-800 pb-20 md:pb-0",children:[(0,t.jsxs)("h3",{className:"text-lg font-bold mb-6 flex items-center gap-2 text-gray-800",children:[(0,t.jsx)(o.Truck,{})," Form Request"]}),(0,t.jsxs)("form",{onSubmit:tl,className:"space-y-4",children:[(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium mb-1 text-gray-600",children:"Jenis Sampah"}),(0,t.jsxs)("select",{className:"w-full border p-3 rounded-lg bg-white text-gray-800 focus:ring-2 focus:ring-green-500 outline-none",value:eD.wasteTypeId,onChange:e=>eq({...eD,wasteTypeId:e.target.value}),required:!0,children:[(0,t.jsx)("option",{value:"",children:"Pilih Sampah"}),ej.map(e=>(0,t.jsx)("option",{value:e.id,children:e.name},e.id))]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium mb-1 text-gray-600",children:"Klasifikasi Berat"}),(0,t.jsxs)("select",{className:"w-full border p-3 rounded-lg bg-white text-gray-800 focus:ring-2 focus:ring-green-500 outline-none",value:eD.weight,onChange:e=>eq({...eD,weight:e.target.value}),required:!0,children:[(0,t.jsx)("option",{value:"",children:"Pilih Kategori..."}),et.map((e,a)=>(0,t.jsx)("option",{value:e.value,children:e.label},a))]})]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium mb-1 text-gray-600",children:"Tanggal"}),(0,t.jsx)("input",{type:"date",className:"w-full border p-3 rounded-lg bg-white text-gray-800 focus:ring-2 focus:ring-green-500 outline-none",value:eD.date,onChange:e=>eq({...eD,date:e.target.value}),required:!0})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium mb-1 text-gray-600",children:"Waktu Pengangkutan"}),(0,t.jsxs)("select",{className:"w-full border p-3 rounded-lg bg-white text-gray-800 focus:ring-2 focus:ring-green-500 outline-none",value:eD.time,onChange:e=>eq({...eD,time:e.target.value}),required:!0,children:[(0,t.jsx)("option",{value:"",children:"Pilih Waktu..."}),ea.map((e,a)=>(0,t.jsx)("option",{value:e.value,children:e.label},a))]})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium mb-1 text-gray-600",children:"Catatan"}),(0,t.jsx)("textarea",{className:"w-full border p-3 rounded-lg h-24 bg-white text-gray-800 focus:ring-2 focus:ring-green-500 outline-none",placeholder:"Lokasi detail...",value:eD.notes,onChange:e=>eq({...eD,notes:e.target.value})})]}),(0,t.jsx)("button",{type:"submit",className:"w-full bg-green-600 text-white py-3 rounded-lg font-bold hover:bg-green-700 transition",children:"Kirim Request"})]})]});case"history":return(0,t.jsxs)("div",{className:"bg-white rounded-xl shadow-sm p-6 border border-gray-200 animate-in slide-in-from-right pb-20 md:pb-0",children:[(0,t.jsxs)("h3",{className:"text-lg font-bold mb-6 flex items-center gap-2 text-gray-800",children:[(0,t.jsx)(x.FileText,{})," Riwayat Transaksi"]}),(0,t.jsx)("div",{className:"space-y-3",children:ew.length>0?ew.map((e,a)=>(0,t.jsxs)("div",{className:"border p-4 rounded-xl flex flex-col md:flex-row justify-between items-start md:items-center mb-3 hover:bg-gray-50 cursor-pointer transition gap-2",onClick:()=>eH(e),children:[(0,t.jsxs)("div",{className:"flex gap-4 items-center",children:[(0,t.jsx)("div",{className:"bg-green-100 p-3 rounded-lg",children:(0,t.jsx)(l.Trash2,{size:24,className:"text-green-600"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"font-bold text-gray-800",children:e.type}),(0,t.jsxs)("p",{className:"text-sm text-gray-500",children:[e.date," â€¢ ",e.time]})]})]}),(0,t.jsxs)("p",{className:"font-bold text-lg text-gray-800",children:["Rp ",e.fee.toLocaleString()]})]},a)):(0,t.jsx)("div",{className:"text-center py-12 text-gray-400",children:"Belum ada riwayat."})})]});case"pengaduan":return(0,t.jsx)("div",{className:"space-y-6 animate-in slide-in-from-right pb-20 md:pb-0",children:(0,t.jsxs)("div",{className:"bg-white rounded-xl shadow-sm p-5 md:p-6 border border-gray-200 text-gray-800",children:[(0,t.jsxs)("h3",{className:"text-lg font-bold mb-6 flex items-center gap-2 text-gray-800",children:[(0,t.jsx)(S,{})," Layanan Pengaduan"]}),(0,t.jsxs)("form",{onSubmit:ti,className:"space-y-4 mb-8",children:[(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium mb-1 text-gray-600",children:"Judul"}),(0,t.jsx)("input",{className:"w-full border p-3 rounded-lg bg-white text-gray-800 focus:ring-2 focus:ring-green-500 outline-none",placeholder:"Judul Masalah",value:eR.title,onChange:e=>eB({...eR,title:e.target.value}),required:!0})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium mb-1 text-gray-600",children:"Kategori"}),(0,t.jsxs)("select",{className:"w-full border p-3 rounded-lg bg-white text-gray-800 focus:ring-2 focus:ring-green-500 outline-none",value:eR.category,onChange:e=>eB({...eR,category:e.target.value}),required:!0,children:[(0,t.jsx)("option",{value:"",children:"Pilih..."}),es.map((e,a)=>(0,t.jsx)("option",{value:e,children:e},a))]})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium mb-1 text-gray-600",children:"Deskripsi"}),(0,t.jsx)("textarea",{className:"w-full border p-3 rounded-lg h-24 bg-white text-gray-800 focus:ring-2 focus:ring-green-500 outline-none resize-none",placeholder:"Jelaskan detail...",value:eR.content,onChange:e=>eB({...eR,content:e.target.value}),required:!0})]}),(0,t.jsxs)("button",{type:"submit",className:"w-full bg-red-600 text-white py-3 rounded-lg font-bold hover:bg-red-700 transition flex items-center justify-center gap-2",children:[(0,t.jsx)(_.Send,{size:18})," Kirim Pengaduan"]})]}),(0,t.jsx)("h4",{className:"font-bold text-gray-700 mb-3 border-b pb-2",children:"Riwayat Pengaduan"}),(0,t.jsx)("div",{className:"space-y-3",children:ez.length>0?ez.map(e=>(0,t.jsxs)("div",{className:"border p-4 rounded-xl hover:bg-gray-50 transition bg-white",children:[(0,t.jsxs)("div",{className:"flex justify-between items-start mb-2",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"font-bold text-gray-800",children:e.subject}),(0,t.jsxs)("p",{className:"text-xs text-gray-500",children:[new Date(e.created_at).toLocaleDateString("id-ID")," â€¢ ",e.category]})]}),(0,t.jsx)("span",{className:`px-2 py-1 text-xs font-bold rounded ${"Resolved"===e.status?"bg-green-100 text-green-700":"bg-yellow-100 text-yellow-700"}`,children:e.status})]}),(0,t.jsxs)("p",{className:"text-sm text-gray-700 bg-gray-50 p-2 rounded mb-2 italic",children:['"',e.content,'"']}),e.response&&(0,t.jsxs)("div",{className:"mt-2 pl-3 border-l-4 border-green-500",children:[(0,t.jsx)("p",{className:"text-xs font-bold text-green-700",children:"Tanggapan RT/RW:"}),(0,t.jsx)("p",{className:"text-sm text-gray-700",children:e.response})]})]},e.id)):(0,t.jsx)("div",{className:"text-center py-6 text-gray-400 border border-dashed rounded-lg",children:"Belum ada riwayat."})})]})});case"iuran":return(0,t.jsx)("div",{className:"space-y-6 animate-in slide-in-from-right pb-20 md:pb-0",children:(0,t.jsxs)("div",{className:"bg-white rounded-xl shadow-sm p-6 border border-gray-200",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3 mb-6",children:[(0,t.jsx)("div",{className:"bg-purple-100 p-3 rounded-lg text-purple-600",children:(0,t.jsx)(y.Wallet,{size:24})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"text-xl font-bold text-gray-800",children:"Tagihan Iuran"}),(0,t.jsx)("p",{className:"text-sm text-gray-500",children:"Kelola pembayaran bulanan Anda."})]})]}),e$.map(e=>(0,t.jsxs)("div",{className:"border p-4 rounded-xl flex justify-between items-center mb-3 hover:bg-gray-50 transition",children:[(0,t.jsxs)("div",{className:"flex items-center gap-4",children:[(0,t.jsx)("div",{className:"bg-gray-100 p-2 rounded-lg text-gray-600",children:(0,t.jsx)(z,{size:24})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"font-bold text-gray-800",children:e.title}),(0,t.jsxs)("p",{className:"text-sm text-gray-500",children:["Status: ",(0,t.jsx)("span",{className:"Paid"===e.status?"text-green-600 font-bold":"text-red-600 font-bold",children:e.status})]})]})]}),"Unpaid"===e.status?(0,t.jsx)("button",{onClick:()=>eA({open:!0,bill:e,step:"method"}),className:"w-full md:w-auto bg-red-600 text-white px-6 py-2 rounded-lg font-bold hover:bg-red-700 transition",children:"Bayar"}):(0,t.jsxs)("span",{className:"w-full md:w-auto text-green-600 font-bold flex items-center justify-center md:justify-end gap-1",children:[(0,t.jsx)(C,{size:16})," Lunas"]})]},e.id))]})});case"tracking":return(0,t.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 animate-in slide-in-from-right pb-20 md:pb-0",children:[(0,t.jsxs)("div",{className:"lg:col-span-2 bg-gray-200 rounded-xl h-64 md:h-[450px] relative overflow-hidden border shadow-inner z-0",children:[(0,t.jsx)("div",{ref:eZ,style:{width:"100%",height:"100%"}}),(0,t.jsx)("button",{onClick:e3,className:"absolute bottom-16 right-4 z-[400] bg-white p-2 rounded-full shadow-lg text-blue-600 hover:bg-blue-50 transition border border-gray-200",title:"Lokasi Saya",children:(0,t.jsx)(L.Navigation,{size:24})}),(0,t.jsxs)("div",{className:"absolute bottom-4 left-1/2 -translate-x-1/2 bg-white/90 backdrop-blur px-6 py-2 rounded-full shadow-lg flex items-center gap-2 animate-bounce w-max border border-gray-200",children:[(0,t.jsx)("div",{className:"bg-green-600 text-white p-1 rounded-full",children:(0,t.jsx)(o.Truck,{size:16})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-xs font-bold text-gray-500",children:"Estimasi"}),(0,t.jsx)("p",{className:"font-bold text-green-700 text-sm",children:ek?.eta||"Menunggu"})]})]})]}),(0,t.jsxs)("div",{className:"bg-white p-6 rounded-xl border border-gray-200 shadow-sm",children:[(0,t.jsx)("h3",{className:"font-bold text-lg mb-4 text-gray-800",children:"Info Pengangkutan"}),ek?(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("div",{className:"w-12 h-12 bg-gray-100 rounded-full flex items-center justify-center text-xl font-bold text-gray-500",children:"BS"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h4",{className:"font-bold text-gray-800",children:ek.driver}),(0,t.jsx)("p",{className:"text-xs text-gray-500",children:ek.vehicle})]})]}),(0,t.jsx)("div",{className:"p-3 bg-yellow-50 text-yellow-800 rounded text-sm border border-yellow-200",children:"Mohon bersiap, driver sedang menuju titik lokasi Anda."}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[(0,t.jsxs)("button",{className:"py-2 bg-green-50 text-green-700 rounded font-bold text-sm flex justify-center gap-1 hover:bg-green-100 transition",children:[(0,t.jsx)(N.MessageCircle,{size:16})," Chat"]}),(0,t.jsxs)("button",{className:"py-2 bg-blue-50 text-blue-700 rounded font-bold text-sm flex justify-center gap-1 hover:bg-blue-100 transition",children:[(0,t.jsx)(w.Phone,{size:16})," Call"]})]})]}):(0,t.jsx)("p",{className:"text-gray-500 text-center py-4",children:"Belum ada pickup aktif."})]})]});case"edukasi":return(0,t.jsxs)("div",{className:"space-y-6 animate-in slide-in-from-right pb-20 md:pb-0",children:[(0,t.jsxs)("div",{className:"flex flex-col md:flex-row gap-4 justify-between items-center bg-white p-4 rounded-xl shadow-sm border border-gray-200",children:[(0,t.jsx)("div",{className:"flex gap-2 w-full md:w-auto overflow-x-auto pb-2 md:pb-0 scrollbar-hide",children:["Semua","Tips","Tutorial","Info"].map(e=>(0,t.jsx)("button",{onClick:()=>eV(e),className:`px-4 py-1.5 rounded-full text-sm font-bold whitespace-nowrap transition ${eU===e?"bg-green-600 text-white":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:e},e))}),(0,t.jsxs)("div",{className:"flex items-center gap-2 w-full md:w-64 bg-gray-50 px-3 py-2 rounded-lg border border-gray-200",children:[(0,t.jsx)(j.Search,{className:"text-gray-400",size:18}),(0,t.jsx)("input",{type:"text",placeholder:"Cari artikel...",className:"w-full outline-none text-sm bg-transparent text-gray-800",value:eG,onChange:e=>eW(e.target.value)})]})]}),(0,t.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:e2.filter(e=>("Semua"===eU||e.category===eU)&&e.title.toLowerCase().includes(eG.toLowerCase())).map(e=>(0,t.jsxs)("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden hover:shadow-md transition group cursor-pointer",onClick:()=>eJ(e),children:[(0,t.jsx)("div",{className:"h-40 bg-gray-100 flex items-center justify-center text-gray-400 group-hover:bg-green-50 transition",children:"video"===e.type?(0,t.jsx)(v.PlayCircle,{size:40,className:"group-hover:text-green-600"}):(0,t.jsx)(g,{size:40,className:"group-hover:text-green-600"})}),(0,t.jsxs)("div",{className:"p-5",children:[(0,t.jsx)("span",{className:"text-xs font-bold text-green-600 bg-green-50 px-2 py-1 rounded",children:e.category}),(0,t.jsx)("h3",{className:"font-bold text-lg mt-2 mb-2 text-gray-800 group-hover:text-green-600",children:e.title}),(0,t.jsx)("p",{className:"text-sm text-gray-500 mb-4 line-clamp-2",children:e.desc}),(0,t.jsxs)("button",{className:"text-green-600 font-bold text-sm flex items-center gap-1",children:["Baca ",(0,t.jsx)(k.ArrowRight,{size:16})]})]})]},e.id))})]});case"profile":return(0,t.jsxs)("div",{className:"bg-white rounded-xl shadow-sm p-6 border border-gray-200 animate-in slide-in-from-right pb-20 md:pb-0",children:[(0,t.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,t.jsxs)("h3",{className:"text-lg font-bold flex items-center gap-2 text-gray-800",children:[(0,t.jsx)(m.User,{})," Profil Saya"]}),(0,t.jsxs)("button",{onClick:()=>eY(!0),className:"text-sm font-bold text-green-600 flex items-center gap-1 hover:underline",children:[(0,t.jsx)(I.Edit2,{size:16})," Edit"]})]}),(0,t.jsxs)("div",{className:"flex flex-col items-center mb-8",children:[(0,t.jsxs)("div",{className:"relative group cursor-pointer",onClick:()=>document.getElementById("avatar-upload").click(),children:[(0,t.jsx)("div",{className:"w-24 h-24 rounded-full overflow-hidden border-4 border-green-100 shadow-sm",children:ep?.avatar_url?(0,t.jsx)("img",{src:ep.avatar_url,alt:"Profile",className:"w-full h-full object-cover"}):(0,t.jsx)("div",{className:"w-full h-full bg-green-100 flex items-center justify-center text-3xl font-bold text-green-600",children:ep?.full_name?.charAt(0)||"U"})}),(0,t.jsx)("div",{className:"absolute inset-0 bg-black/40 rounded-full flex items-center justify-center opacity-0 group-hover:opacity-100 transition",children:(0,t.jsx)(I.Edit2,{className:"text-white",size:20})})]}),(0,t.jsx)("input",{type:"file",id:"avatar-upload",className:"hidden",accept:"image/*",onChange:tr}),(0,t.jsx)("p",{className:"text-xs text-gray-400 mt-2",children:"Klik foto untuk mengganti"})]}),(0,t.jsxs)("div",{className:"space-y-4 text-gray-800",children:[(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,t.jsxs)("div",{className:"p-4 bg-gray-50 rounded-lg border border-gray-100",children:[(0,t.jsx)("label",{className:"text-xs font-bold text-gray-500 uppercase",children:"Nama Lengkap"}),(0,t.jsx)("p",{className:"font-medium text-lg text-gray-900",children:ep?.full_name})]}),(0,t.jsxs)("div",{className:"p-4 bg-gray-50 rounded-lg border border-gray-100",children:[(0,t.jsx)("label",{className:"text-xs font-bold text-gray-500 uppercase",children:"Email"}),(0,t.jsx)("p",{className:"font-medium text-lg text-gray-900",children:ep?.email})]}),(0,t.jsxs)("div",{className:"p-4 bg-gray-50 rounded-lg border border-gray-100",children:[(0,t.jsx)("label",{className:"text-xs font-bold text-gray-500 uppercase",children:"NIK"}),(0,t.jsx)("p",{className:"font-medium text-lg text-gray-900",children:ep?.nik||"-"})]}),(0,t.jsxs)("div",{className:"p-4 bg-green-50 rounded-lg border border-green-100",children:[(0,t.jsx)("label",{className:"text-xs font-bold text-green-700 uppercase",children:"RT / RW"}),(0,t.jsx)("p",{className:"font-medium text-lg text-green-900",children:ep?.rt?`${ep.rt} / ${ep.rw}`:(0,t.jsx)("span",{className:"text-red-500 text-sm italic",children:"Belum diisi"})})]})]}),(0,t.jsxs)("div",{className:"p-4 bg-gray-50 rounded-lg border border-gray-100",children:[(0,t.jsx)("label",{className:"text-xs font-bold text-gray-500 uppercase",children:"Alamat"}),(0,t.jsx)("p",{className:"font-medium text-lg text-gray-900",children:ep?.address})]})]})]});case"notifikasi":return(0,t.jsxs)("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6 animate-in slide-in-from-right pb-20 md:pb-0",children:[(0,t.jsxs)("div",{className:"flex justify-between mb-4",children:[(0,t.jsx)("h3",{className:"font-bold text-xl text-gray-800",children:"Notifikasi"}),to>0&&(0,t.jsx)("button",{onClick:td,className:"text-green-600 text-sm font-bold hover:underline",children:"Tandai dibaca"})]}),(0,t.jsx)("div",{className:"space-y-2",children:eI.length>0?eI.map(e=>(0,t.jsxs)("div",{onClick:()=>{let t;return t=e.id,eM(eI.map(e=>e.id===t?{...e,read:!0}:e))},className:`p-4 border-b flex gap-4 cursor-pointer hover:bg-gray-50 transition rounded-lg ${!e.read&&"bg-green-50"}`,children:[(0,t.jsx)("div",{className:`p-2 rounded-full h-fit flex-shrink-0 ${"payment"===e.type?"bg-green-100 text-green-600":"pickup"===e.type?"bg-blue-100 text-blue-600":"bg-gray-100 text-gray-600"}`,children:"payment"===e.type?(0,t.jsx)(y.Wallet,{size:20}):"pickup"===e.type?(0,t.jsx)(o.Truck,{size:20}):(0,t.jsx)(u.Bell,{size:20})}),(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsxs)("div",{className:"flex justify-between items-start",children:[(0,t.jsx)("h4",{className:`font-bold text-sm ${e.read?"text-gray-600":"text-black"}`,children:e.title}),(0,t.jsx)("span",{className:"text-xs text-gray-400 whitespace-nowrap ml-2",children:e.time})]}),(0,t.jsx)("p",{className:"text-sm text-gray-600 mt-1",children:e.message})]}),(0,t.jsx)("button",{onClick:t=>{let a;t.stopPropagation(),a=e.id,eM(eI.filter(e=>e.id!==a))},className:"text-gray-400 hover:text-red-500",children:(0,t.jsx)(P,{size:16})})]},e.id)):(0,t.jsx)("div",{className:"text-center py-8 text-gray-400",children:"Belum ada notifikasi."})})]});default:return(0,t.jsx)("div",{children:"Halaman tidak ditemukan"})}})()]})]}),eX&&(0,t.jsx)("div",{className:"fixed inset-0 bg-black/60 flex items-center justify-center z-50 p-4",children:(0,t.jsxs)("div",{className:"bg-white rounded-xl p-6 w-full max-w-md shadow-2xl",children:[(0,t.jsx)("h3",{className:"font-bold text-lg mb-4 text-gray-800",children:"Edit Profil"}),(0,t.jsxs)("form",{onSubmit:ts,className:"space-y-4",children:[(0,t.jsx)("input",{name:"fullName",defaultValue:ep?.full_name,className:"w-full border p-2 rounded text-gray-800"}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,t.jsx)("input",{name:"rt",defaultValue:ep?.rt,className:"w-full border p-2 rounded text-gray-800",placeholder:"RT"}),(0,t.jsx)("input",{name:"rw",defaultValue:ep?.rw,className:"w-full border p-2 rounded text-gray-800",placeholder:"RW"})]}),(0,t.jsx)("input",{name:"email",defaultValue:ep?.email,className:"w-full border p-2 rounded text-gray-800"}),(0,t.jsx)("textarea",{name:"address",defaultValue:ep?.address,className:"w-full border p-2 rounded text-gray-800 h-24"}),(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsx)("button",{type:"button",onClick:()=>eY(!1),className:"flex-1 py-2 border rounded",children:"Batal"}),(0,t.jsx)("button",{type:"submit",className:"flex-1 py-2 bg-green-600 text-white rounded",children:"Simpan"})]})]})]})}),(eO||eF)&&(0,t.jsx)("div",{className:"fixed inset-0 bg-black/60 flex items-center justify-center z-50 p-4",children:(0,t.jsxs)("div",{className:"bg-white rounded-xl p-6 w-full max-w-md shadow-2xl max-h-[85vh] overflow-y-auto",children:[(0,t.jsxs)("div",{className:"flex justify-between mb-4 border-b pb-2",children:[(0,t.jsx)("h3",{className:"font-bold text-lg text-gray-800",children:"Detail"}),(0,t.jsx)("button",{onClick:()=>{eH(null),eJ(null)},children:(0,t.jsx)(h.X,{})})]}),eO&&(0,t.jsxs)("div",{className:"space-y-2 text-gray-800",children:[(0,t.jsxs)("p",{children:["ID: ",eO.id]}),(0,t.jsxs)("p",{children:["Status: ",eO.status]}),(0,t.jsxs)("p",{className:"font-bold text-green-600",children:["Total: Rp ",eO.fee.toLocaleString()]})]}),eF&&(0,t.jsxs)("div",{className:"space-y-2 text-gray-800",children:[(0,t.jsx)("h4",{className:"font-bold",children:eF.title}),(0,t.jsx)("p",{className:"text-sm",children:eF.desc})]})]})}),eE.open&&(0,t.jsx)("div",{className:"fixed inset-0 bg-black/60 flex items-center justify-center z-50 p-4",children:(0,t.jsxs)("div",{className:"bg-white rounded-xl w-full max-w-md p-6 text-center shadow-xl",children:[(0,t.jsxs)("div",{className:"flex justify-between mb-4",children:[(0,t.jsx)("h3",{className:"font-bold text-lg text-gray-800",children:"Pembayaran"}),(0,t.jsx)("button",{onClick:()=>eA({...eE,open:!1}),children:(0,t.jsx)(h.X,{})})]}),"method"===eE.step&&(0,t.jsxs)("div",{children:[(0,t.jsxs)("h2",{className:"text-3xl font-bold mb-4 text-gray-800",children:["Rp ",eE.bill.amount.toLocaleString()]}),(0,t.jsx)("button",{onClick:tn,className:"w-full py-3 bg-green-600 text-white font-bold rounded hover:bg-green-700",children:"Bayar Sekarang"})]}),"processing"===eE.step&&(0,t.jsxs)("div",{children:[(0,t.jsx)(T.Loader2,{className:"animate-spin mx-auto mb-2 text-green-600"}),(0,t.jsx)("p",{className:"text-gray-600",children:"Memproses pembayaran..."})]}),"success"===eE.step&&(0,t.jsxs)("div",{children:[(0,t.jsx)(C,{className:"mx-auto mb-2 text-green-600",size:40}),(0,t.jsx)("h3",{className:"font-bold text-xl text-gray-800",children:"Berhasil!"})]})]})}),ek&&(0,t.jsx)(D.default,{isOpen:e_,onClose:()=>eL(!1),transactionId:ek.rawId,currentUserId:ep?.id,currentUserName:ep?.full_name,otherUserName:ek.driverName||"Driver",isDriver:!1}),ek?.rawStatus==="Process"&&(0,t.jsx)("button",{onClick:()=>eL(!0),className:"fixed bottom-24 right-6 md:bottom-6 bg-green-600 text-white p-4 rounded-full shadow-lg hover:bg-green-700 transition z-40 animate-bounce",title:"Chat dengan Driver",children:(0,t.jsx)(N.MessageCircle,{size:24})})]})}e.s(["default",()=>er],41033)}]);